(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var yd={exports:{}},dl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jy;function wS(){if(Jy)return dl;Jy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return dl.Fragment=e,dl.jsx=n,dl.jsxs=n,dl}var e_;function RS(){return e_||(e_=1,yd.exports=wS()),yd.exports}var le=RS(),_d={exports:{}},we={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t_;function CS(){if(t_)return we;t_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),R=Symbol.iterator;function D(O){return O===null||typeof O!="object"?null:(O=R&&O[R]||O["@@iterator"],typeof O=="function"?O:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,Z={};function j(O,W,he){this.props=O,this.context=W,this.refs=Z,this.updater=he||L}j.prototype.isReactComponent={},j.prototype.setState=function(O,W){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,W,"setState")},j.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function $(){}$.prototype=j.prototype;function te(O,W,he){this.props=O,this.context=W,this.refs=Z,this.updater=he||L}var J=te.prototype=new $;J.constructor=te,B(J,j.prototype),J.isPureReactComponent=!0;var me=Array.isArray,ue={H:null,A:null,T:null,S:null},Se=Object.prototype.hasOwnProperty;function M(O,W,he,re,se,Re){return he=Re.ref,{$$typeof:r,type:O,key:W,ref:he!==void 0?he:null,props:Re}}function b(O,W){return M(O.type,W,void 0,void 0,void 0,O.props)}function A(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function C(O){var W={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(he){return W[he]})}var V=/\/+/g;function U(O,W){return typeof O=="object"&&O!==null&&O.key!=null?C(""+O.key):W.toString(36)}function I(){}function _t(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(I,I):(O.status="pending",O.then(function(W){O.status==="pending"&&(O.status="fulfilled",O.value=W)},function(W){O.status==="pending"&&(O.status="rejected",O.reason=W)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function ft(O,W,he,re,se){var Re=typeof O;(Re==="undefined"||Re==="boolean")&&(O=null);var be=!1;if(O===null)be=!0;else switch(Re){case"bigint":case"string":case"number":be=!0;break;case"object":switch(O.$$typeof){case r:case e:be=!0;break;case T:return be=O._init,ft(be(O._payload),W,he,re,se)}}if(be)return se=se(O),be=re===""?"."+U(O,0):re,me(se)?(he="",be!=null&&(he=be.replace(V,"$&/")+"/"),ft(se,W,he,"",function(nt){return nt})):se!=null&&(A(se)&&(se=b(se,he+(se.key==null||O&&O.key===se.key?"":(""+se.key).replace(V,"$&/")+"/")+be)),W.push(se)),1;be=0;var dt=re===""?".":re+":";if(me(O))for(var ze=0;ze<O.length;ze++)re=O[ze],Re=dt+U(re,ze),be+=ft(re,W,he,Re,se);else if(ze=D(O),typeof ze=="function")for(O=ze.call(O),ze=0;!(re=O.next()).done;)re=re.value,Re=dt+U(re,ze++),be+=ft(re,W,he,Re,se);else if(Re==="object"){if(typeof O.then=="function")return ft(_t(O),W,he,re,se);throw W=String(O),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return be}function ie(O,W,he){if(O==null)return O;var re=[],se=0;return ft(O,re,"","",function(Re){return W.call(he,Re,se++)}),re}function _e(O){if(O._status===-1){var W=O._result;W=W(),W.then(function(he){(O._status===0||O._status===-1)&&(O._status=1,O._result=he)},function(he){(O._status===0||O._status===-1)&&(O._status=2,O._result=he)}),O._status===-1&&(O._status=0,O._result=W)}if(O._status===1)return O._result.default;throw O._result}var de=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function je(){}return we.Children={map:ie,forEach:function(O,W,he){ie(O,function(){W.apply(this,arguments)},he)},count:function(O){var W=0;return ie(O,function(){W++}),W},toArray:function(O){return ie(O,function(W){return W})||[]},only:function(O){if(!A(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},we.Component=j,we.Fragment=n,we.Profiler=o,we.PureComponent=te,we.StrictMode=s,we.Suspense=g,we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ue,we.act=function(){throw Error("act(...) is not supported in production builds of React.")},we.cache=function(O){return function(){return O.apply(null,arguments)}},we.cloneElement=function(O,W,he){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var re=B({},O.props),se=O.key,Re=void 0;if(W!=null)for(be in W.ref!==void 0&&(Re=void 0),W.key!==void 0&&(se=""+W.key),W)!Se.call(W,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&W.ref===void 0||(re[be]=W[be]);var be=arguments.length-2;if(be===1)re.children=he;else if(1<be){for(var dt=Array(be),ze=0;ze<be;ze++)dt[ze]=arguments[ze+2];re.children=dt}return M(O.type,se,void 0,void 0,Re,re)},we.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},we.createElement=function(O,W,he){var re,se={},Re=null;if(W!=null)for(re in W.key!==void 0&&(Re=""+W.key),W)Se.call(W,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(se[re]=W[re]);var be=arguments.length-2;if(be===1)se.children=he;else if(1<be){for(var dt=Array(be),ze=0;ze<be;ze++)dt[ze]=arguments[ze+2];se.children=dt}if(O&&O.defaultProps)for(re in be=O.defaultProps,be)se[re]===void 0&&(se[re]=be[re]);return M(O,Re,void 0,void 0,null,se)},we.createRef=function(){return{current:null}},we.forwardRef=function(O){return{$$typeof:m,render:O}},we.isValidElement=A,we.lazy=function(O){return{$$typeof:T,_payload:{_status:-1,_result:O},_init:_e}},we.memo=function(O,W){return{$$typeof:y,type:O,compare:W===void 0?null:W}},we.startTransition=function(O){var W=ue.T,he={};ue.T=he;try{var re=O(),se=ue.S;se!==null&&se(he,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(je,de)}catch(Re){de(Re)}finally{ue.T=W}},we.unstable_useCacheRefresh=function(){return ue.H.useCacheRefresh()},we.use=function(O){return ue.H.use(O)},we.useActionState=function(O,W,he){return ue.H.useActionState(O,W,he)},we.useCallback=function(O,W){return ue.H.useCallback(O,W)},we.useContext=function(O){return ue.H.useContext(O)},we.useDebugValue=function(){},we.useDeferredValue=function(O,W){return ue.H.useDeferredValue(O,W)},we.useEffect=function(O,W){return ue.H.useEffect(O,W)},we.useId=function(){return ue.H.useId()},we.useImperativeHandle=function(O,W,he){return ue.H.useImperativeHandle(O,W,he)},we.useInsertionEffect=function(O,W){return ue.H.useInsertionEffect(O,W)},we.useLayoutEffect=function(O,W){return ue.H.useLayoutEffect(O,W)},we.useMemo=function(O,W){return ue.H.useMemo(O,W)},we.useOptimistic=function(O,W){return ue.H.useOptimistic(O,W)},we.useReducer=function(O,W,he){return ue.H.useReducer(O,W,he)},we.useRef=function(O){return ue.H.useRef(O)},we.useState=function(O){return ue.H.useState(O)},we.useSyncExternalStore=function(O,W,he){return ue.H.useSyncExternalStore(O,W,he)},we.useTransition=function(){return ue.H.useTransition()},we.version="19.0.0",we}var n_;function fm(){return n_||(n_=1,_d.exports=CS()),_d.exports}var K=fm(),vd={exports:{}},ml={},Ed={exports:{}},Td={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i_;function IS(){return i_||(i_=1,function(r){function e(ie,_e){var de=ie.length;ie.push(_e);e:for(;0<de;){var je=de-1>>>1,O=ie[je];if(0<o(O,_e))ie[je]=_e,ie[de]=O,de=je;else break e}}function n(ie){return ie.length===0?null:ie[0]}function s(ie){if(ie.length===0)return null;var _e=ie[0],de=ie.pop();if(de!==_e){ie[0]=de;e:for(var je=0,O=ie.length,W=O>>>1;je<W;){var he=2*(je+1)-1,re=ie[he],se=he+1,Re=ie[se];if(0>o(re,de))se<O&&0>o(Re,re)?(ie[je]=Re,ie[se]=de,je=se):(ie[je]=re,ie[he]=de,je=he);else if(se<O&&0>o(Re,de))ie[je]=Re,ie[se]=de,je=se;else break e}}return _e}function o(ie,_e){var de=ie.sortIndex-_e.sortIndex;return de!==0?de:ie.id-_e.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var g=[],y=[],T=1,R=null,D=3,L=!1,B=!1,Z=!1,j=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;function J(ie){for(var _e=n(y);_e!==null;){if(_e.callback===null)s(y);else if(_e.startTime<=ie)s(y),_e.sortIndex=_e.expirationTime,e(g,_e);else break;_e=n(y)}}function me(ie){if(Z=!1,J(ie),!B)if(n(g)!==null)B=!0,_t();else{var _e=n(y);_e!==null&&ft(me,_e.startTime-ie)}}var ue=!1,Se=-1,M=5,b=-1;function A(){return!(r.unstable_now()-b<M)}function C(){if(ue){var ie=r.unstable_now();b=ie;var _e=!0;try{e:{B=!1,Z&&(Z=!1,$(Se),Se=-1),L=!0;var de=D;try{t:{for(J(ie),R=n(g);R!==null&&!(R.expirationTime>ie&&A());){var je=R.callback;if(typeof je=="function"){R.callback=null,D=R.priorityLevel;var O=je(R.expirationTime<=ie);if(ie=r.unstable_now(),typeof O=="function"){R.callback=O,J(ie),_e=!0;break t}R===n(g)&&s(g),J(ie)}else s(g);R=n(g)}if(R!==null)_e=!0;else{var W=n(y);W!==null&&ft(me,W.startTime-ie),_e=!1}}break e}finally{R=null,D=de,L=!1}_e=void 0}}finally{_e?V():ue=!1}}}var V;if(typeof te=="function")V=function(){te(C)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,I=U.port2;U.port1.onmessage=C,V=function(){I.postMessage(null)}}else V=function(){j(C,0)};function _t(){ue||(ue=!0,V())}function ft(ie,_e){Se=j(function(){ie(r.unstable_now())},_e)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ie){ie.callback=null},r.unstable_continueExecution=function(){B||L||(B=!0,_t())},r.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<ie?Math.floor(1e3/ie):5},r.unstable_getCurrentPriorityLevel=function(){return D},r.unstable_getFirstCallbackNode=function(){return n(g)},r.unstable_next=function(ie){switch(D){case 1:case 2:case 3:var _e=3;break;default:_e=D}var de=D;D=_e;try{return ie()}finally{D=de}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(ie,_e){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var de=D;D=ie;try{return _e()}finally{D=de}},r.unstable_scheduleCallback=function(ie,_e,de){var je=r.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?je+de:je):de=je,ie){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=de+O,ie={id:T++,callback:_e,priorityLevel:ie,startTime:de,expirationTime:O,sortIndex:-1},de>je?(ie.sortIndex=de,e(y,ie),n(g)===null&&ie===n(y)&&(Z?($(Se),Se=-1):Z=!0,ft(me,de-je))):(ie.sortIndex=O,e(g,ie),B||L||(B=!0,_t())),ie},r.unstable_shouldYield=A,r.unstable_wrapCallback=function(ie){var _e=D;return function(){var de=D;D=_e;try{return ie.apply(this,arguments)}finally{D=de}}}}(Td)),Td}var r_;function DS(){return r_||(r_=1,Ed.exports=IS()),Ed.exports}var Sd={exports:{}},jt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s_;function OS(){if(s_)return jt;s_=1;var r=fm();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,y,T){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:R==null?null:""+R,children:g,containerInfo:y,implementation:T}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return jt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,jt.createPortal=function(g,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(g,y,null,T)},jt.flushSync=function(g){var y=f.T,T=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=y,s.p=T,s.d.f()}},jt.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},jt.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},jt.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var T=y.as,R=m(T,y.crossOrigin),D=typeof y.integrity=="string"?y.integrity:void 0,L=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:R,integrity:D,fetchPriority:L}):T==="script"&&s.d.X(g,{crossOrigin:R,integrity:D,fetchPriority:L,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},jt.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=m(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},jt.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,R=m(T,y.crossOrigin);s.d.L(g,T,{crossOrigin:R,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},jt.preloadModule=function(g,y){if(typeof g=="string")if(y){var T=m(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},jt.requestFormReset=function(g){s.d.r(g)},jt.unstable_batchedUpdates=function(g,y){return g(y)},jt.useFormState=function(g,y,T){return f.H.useFormState(g,y,T)},jt.useFormStatus=function(){return f.H.useHostTransitionStatus()},jt.version="19.0.0",jt}var a_;function NS(){if(a_)return Sd.exports;a_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Sd.exports=OS(),Sd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o_;function MS(){if(o_)return ml;o_=1;var r=DS(),e=fm(),n=NS();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var u=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),D=Symbol.for("react.consumer"),L=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),te=Symbol.for("react.lazy"),J=Symbol.for("react.offscreen"),me=Symbol.for("react.memo_cache_sentinel"),ue=Symbol.iterator;function Se(t){return t===null||typeof t!="object"?null:(t=ue&&t[ue]||t["@@iterator"],typeof t=="function"?t:null)}var M=Symbol.for("react.client.reference");function b(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===M?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case g:return"Fragment";case m:return"Portal";case T:return"Profiler";case y:return"StrictMode";case Z:return"Suspense";case j:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case L:return(t.displayName||"Context")+".Provider";case D:return(t._context.displayName||"Context")+".Consumer";case B:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case $:return i=t.displayName||null,i!==null?i:b(t.type)||"Memo";case te:i=t._payload,t=t._init;try{return b(t(i))}catch{}}return null}var A=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,C=Object.assign,V,U;function I(t){if(V===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);V=i&&i[1]||"",U=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+V+t+U}var _t=!1;function ft(t,i){if(!t||_t)return"";_t=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(F){var H=F}Reflect.construct(t,[],X)}else{try{X.call()}catch(F){H=F}t.call(X.prototype)}}else{try{throw Error()}catch(F){H=F}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(F){if(F&&H&&typeof F.stack=="string")return[F.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],E=d[1];if(v&&E){var w=v.split(`
`),x=E.split(`
`);for(h=l=0;l<w.length&&!w[l].includes("DetermineComponentFrameRoot");)l++;for(;h<x.length&&!x[h].includes("DetermineComponentFrameRoot");)h++;if(l===w.length||h===x.length)for(l=w.length-1,h=x.length-1;1<=l&&0<=h&&w[l]!==x[h];)h--;for(;1<=l&&0<=h;l--,h--)if(w[l]!==x[h]){if(l!==1||h!==1)do if(l--,h--,0>h||w[l]!==x[h]){var G=`
`+w[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=h);break}}}finally{_t=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?I(a):""}function ie(t){switch(t.tag){case 26:case 27:case 5:return I(t.type);case 16:return I("Lazy");case 13:return I("Suspense");case 19:return I("SuspenseList");case 0:case 15:return t=ft(t.type,!1),t;case 11:return t=ft(t.type.render,!1),t;case 1:return t=ft(t.type,!0),t;default:return""}}function _e(t){try{var i="";do i+=ie(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function de(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function je(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function O(t){if(de(t)!==t)throw Error(s(188))}function W(t){var i=t.alternate;if(!i){if(i=de(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return O(h),t;if(d===l)return O(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,E=h.child;E;){if(E===a){v=!0,a=h,l=d;break}if(E===l){v=!0,l=h,a=d;break}E=E.sibling}if(!v){for(E=d.child;E;){if(E===a){v=!0,a=d,l=h;break}if(E===l){v=!0,l=d,a=h;break}E=E.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function he(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=he(t),i!==null)return i;t=t.sibling}return null}var re=Array.isArray,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Re={pending:!1,data:null,method:null,action:null},be=[],dt=-1;function ze(t){return{current:t}}function nt(t){0>dt||(t.current=be[dt],be[dt]=null,dt--)}function Ge(t,i){dt++,be[dt]=t.current,t.current=i}var Yt=ze(null),ci=ze(null),mn=ze(null),$i=ze(null);function Xi(t,i){switch(Ge(mn,i),Ge(ci,t),Ge(Yt,null),t=i.nodeType,t){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?Iy(i):0;break;default:if(t=t===8?i.parentNode:i,i=t.tagName,t=t.namespaceURI)t=Iy(t),i=Dy(t,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}nt(Yt),Ge(Yt,i)}function hi(){nt(Yt),nt(ci),nt(mn)}function oo(t){t.memoizedState!==null&&Ge($i,t);var i=Yt.current,a=Dy(i,t.type);i!==a&&(Ge(ci,t),Ge(Yt,a))}function Hs(t){ci.current===t&&(nt(Yt),nt(ci)),$i.current===t&&(nt($i),ll._currentValue=Re)}var qs=Object.prototype.hasOwnProperty,Zr=r.unstable_scheduleCallback,js=r.unstable_cancelCallback,_h=r.unstable_shouldYield,lo=r.unstable_requestPaint,tn=r.unstable_now,Xl=r.unstable_getCurrentPriorityLevel,vt=r.unstable_ImmediatePriority,Ct=r.unstable_UserBlockingPriority,fi=r.unstable_NormalPriority,Zl=r.unstable_LowPriority,uo=r.unstable_IdlePriority,vh=r.log,Wr=r.unstable_setDisableYieldValue,Zi=null,Ht=null;function co(t){if(Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(Zi,t,void 0,(t.current.flags&128)===128)}catch{}}function zn(t){if(typeof vh=="function"&&Wr(t),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(Zi,t)}catch{}}var $t=Math.clz32?Math.clz32:Jl,ho=Math.log,Wl=Math.LN2;function Jl(t){return t>>>=0,t===0?32:31-(ho(t)/Wl|0)|0}var Bn=128,Wi=4194304;function Mn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function pn(t,i){var a=t.pendingLanes;if(a===0)return 0;var l=0,h=t.suspendedLanes,d=t.pingedLanes,v=t.warmLanes;t=t.finishedLanes!==0;var E=a&134217727;return E!==0?(a=E&~h,a!==0?l=Mn(a):(d&=E,d!==0?l=Mn(d):t||(v=E&~v,v!==0&&(l=Mn(v))))):(E=a&~h,E!==0?l=Mn(E):d!==0?l=Mn(d):t||(v=a&~v,v!==0&&(l=Mn(v)))),l===0?0:i!==0&&i!==l&&(i&h)===0&&(h=l&-l,v=i&-i,h>=v||h===32&&(v&4194176)!==0)?i:l}function Ji(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Fs(t,i){switch(t){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fo(){var t=Bn;return Bn<<=1,(Bn&4194176)===0&&(Bn=128),t}function er(){var t=Wi;return Wi<<=1,(Wi&62914560)===0&&(Wi=4194304),t}function Gs(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function lt(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function eu(t,i,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,w=t.expirationTimes,x=t.hiddenUpdates;for(a=v&~a;0<a;){var G=31-$t(a),X=1<<G;E[G]=0,w[G]=-1;var H=x[G];if(H!==null)for(x[G]=null,G=0;G<H.length;G++){var F=H[G];F!==null&&(F.lane&=-536870913)}a&=~X}l!==0&&tr(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function tr(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-$t(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194218}function nr(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-$t(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function tu(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function nu(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:Qy(t.type))}function ir(t,i){var a=se.p;try{return se.p=t,i()}finally{se.p=a}}var Hn=Math.random().toString(36).slice(2),It="__reactFiber$"+Hn,Et="__reactProps$"+Hn,di="__reactContainer$"+Hn,Jr="__reactEvents$"+Hn,Ks="__reactListeners$"+Hn,qn="__reactHandles$"+Hn,mo="__reactResources$"+Hn,rr="__reactMarker$"+Hn;function es(t){delete t[It],delete t[Et],delete t[Jr],delete t[Ks],delete t[qn]}function Vn(t){var i=t[It];if(i)return i;for(var a=t.parentNode;a;){if(i=a[di]||a[It]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=My(t);t!==null;){if(a=t[It])return a;t=My(t)}return i}t=a,a=t.parentNode}return null}function mi(t){if(t=t[It]||t[di]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function sr(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function ar(t){var i=t[mo];return i||(i=t[mo]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ze(t){t[rr]=!0}var po=new Set,Qs={};function on(t,i){nn(t,i),nn(t+"Capture",i)}function nn(t,i){for(Qs[t]=i,t=0;t<i.length;t++)po.add(i[t])}var ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Eh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),go={},yo={};function iu(t){return qs.call(yo,t)?!0:qs.call(go,t)?!1:Eh.test(t)?yo[t]=!0:(go[t]=!0,!1)}function or(t,i,a){if(iu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function lr(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function gn(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Xt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ru(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Th(t){var i=ru(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function ts(t){t._valueTracker||(t._valueTracker=Th(t))}function _o(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=ru(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Ys(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var pi=/[\n"\\]/g;function it(t){return t.replace(pi,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ur(t,i,a,l,h,d,v,E){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Xt(i)):t.value!==""+Xt(i)&&(t.value=""+Xt(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?$s(t,v,Xt(i)):a!=null?$s(t,v,Xt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Xt(E):t.removeAttribute("name")}function ns(t,i,a,l,h,d,v,E){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+Xt(a):"",i=i!=null?""+Xt(i):a,E||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function $s(t,i,a){i==="number"&&Ys(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Be(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Xt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function is(t,i,a){if(i!=null&&(i=""+Xt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Xt(a):""}function cr(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(re(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Xt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function yn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Sh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function vo(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Sh.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function su(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&vo(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&vo(t,d,i[d])}function Eo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ah=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),bh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function jn(t){return bh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var _n=null;function Xs(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var gi=null,yi=null;function _i(t){var i=mi(t);if(i&&(t=i.stateNode)){var a=t[Et]||null;e:switch(t=i.stateNode,i.type){case"input":if(ur(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+it(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[Et]||null;if(!h)throw Error(s(90));ur(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&_o(l)}break e;case"textarea":is(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Be(t,!!a.multiple,i,!1)}}}var To=!1;function au(t,i,a){if(To)return t(i,a);To=!0;try{var l=t(i);return l}finally{if(To=!1,(gi!==null||yi!==null)&&(Zu(),gi&&(i=gi,t=yi,yi=gi=null,_i(i),t)))for(i=0;i<t.length;i++)_i(t[i])}}function rs(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Et]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var vn=!1;if(ln)try{var ss={};Object.defineProperty(ss,"passive",{get:function(){vn=!0}}),window.addEventListener("test",ss,ss),window.removeEventListener("test",ss,ss)}catch{vn=!1}var Fn=null,hr=null,vi=null;function So(){if(vi)return vi;var t,i=hr,a=i.length,l,h="value"in Fn?Fn.value:Fn.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return vi=h.slice(t,1<l?1-l:void 0)}function Gn(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Kn(){return!0}function Ao(){return!1}function Dt(t){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(d):d[E]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Kn:Ao,this.isPropagationStopped=Ao,this}return C(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Kn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Kn)},persist:function(){},isPersistent:Kn}),i}var Fe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zs=Dt(Fe),as=C({},Fe,{view:0,detail:0}),ou=Dt(as),Ws,Js,Qn,os=C({},as,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Qn&&(Qn&&t.type==="mousemove"?(Ws=t.screenX-Qn.screenX,Js=t.screenY-Qn.screenY):Js=Ws=0,Qn=t),Ws)},movementY:function(t){return"movementY"in t?t.movementY:Js}}),En=Dt(os),lu=C({},os,{dataTransfer:0}),wh=Dt(lu),ls=C({},as,{relatedTarget:0}),ea=Dt(ls),bo=C({},Fe,{animationName:0,elapsedTime:0,pseudoElement:0}),ta=Dt(bo),uu=C({},Fe,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),na=Dt(uu),Rh=C({},Fe,{data:0}),wo=Dt(Rh),us={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ro(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=hu[t])?!!i[t]:!1}function cs(){return Ro}var fu=C({},as,{key:function(t){if(t.key){var i=us[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Gn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?cu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cs,charCode:function(t){return t.type==="keypress"?Gn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Gn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ia=Dt(fu),du=C({},os,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Co=Dt(du),Ei=C({},as,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cs}),mu=Dt(Ei),pu=C({},Fe,{propertyName:0,elapsedTime:0,pseudoElement:0}),gu=Dt(pu),yu=C({},os,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ra=Dt(yu),Zt=C({},Fe,{newState:0,oldState:0}),_u=Dt(Zt),vu=[9,13,27,32],Yn=ln&&"CompositionEvent"in window,c=null;ln&&"documentMode"in document&&(c=document.documentMode);var p=ln&&"TextEvent"in window&&!c,_=ln&&(!Yn||c&&8<c&&11>=c),S=" ",P=!1;function q(t,i){switch(t){case"keyup":return vu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ee(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Me=!1;function Tt(t,i){switch(t){case"compositionend":return ee(i);case"keypress":return i.which!==32?null:(P=!0,S);case"textInput":return t=i.data,t===S&&P?null:t;default:return null}}function Ve(t,i){if(Me)return t==="compositionend"||!Yn&&q(t,i)?(t=So(),vi=hr=Fn=null,Me=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var Ot={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function St(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Ot[t.type]:i==="textarea"}function Ti(t,i,a,l){gi?yi?yi.push(l):yi=[l]:gi=l,i=nc(i,"onChange"),0<i.length&&(a=new Zs("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var kt=null,$n=null;function Io(t){Ay(t,0)}function Eu(t){var i=sr(t);if(_o(i))return t}function Wm(t,i){if(t==="change")return i}var Jm=!1;if(ln){var Ch;if(ln){var Ih="oninput"in document;if(!Ih){var ep=document.createElement("div");ep.setAttribute("oninput","return;"),Ih=typeof ep.oninput=="function"}Ch=Ih}else Ch=!1;Jm=Ch&&(!document.documentMode||9<document.documentMode)}function tp(){kt&&(kt.detachEvent("onpropertychange",np),$n=kt=null)}function np(t){if(t.propertyName==="value"&&Eu($n)){var i=[];Ti(i,$n,t,Xs(t)),au(Io,i)}}function tT(t,i,a){t==="focusin"?(tp(),kt=i,$n=a,kt.attachEvent("onpropertychange",np)):t==="focusout"&&tp()}function nT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Eu($n)}function iT(t,i){if(t==="click")return Eu(i)}function rT(t,i){if(t==="input"||t==="change")return Eu(i)}function sT(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var un=typeof Object.is=="function"?Object.is:sT;function Do(t,i){if(un(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!qs.call(i,h)||!un(t[h],i[h]))return!1}return!0}function ip(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function rp(t,i){var a=ip(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ip(a)}}function sp(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?sp(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function ap(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Ys(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Ys(t.document)}return i}function Dh(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}function aT(t,i){var a=ap(i);i=t.focusedElem;var l=t.selectionRange;if(a!==i&&i&&i.ownerDocument&&sp(i.ownerDocument.documentElement,i)){if(l!==null&&Dh(i)){if(t=l.start,a=l.end,a===void 0&&(a=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(a,i.value.length);else if(a=(t=i.ownerDocument||document)&&t.defaultView||window,a.getSelection){a=a.getSelection();var h=i.textContent.length,d=Math.min(l.start,h);l=l.end===void 0?d:Math.min(l.end,h),!a.extend&&d>l&&(h=l,l=d,d=h),h=rp(i,d);var v=rp(i,l);h&&v&&(a.rangeCount!==1||a.anchorNode!==h.node||a.anchorOffset!==h.offset||a.focusNode!==v.node||a.focusOffset!==v.offset)&&(t=t.createRange(),t.setStart(h.node,h.offset),a.removeAllRanges(),d>l?(a.addRange(t),a.extend(v.node,v.offset)):(t.setEnd(v.node,v.offset),a.addRange(t)))}}for(t=[],a=i;a=a.parentNode;)a.nodeType===1&&t.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)a=t[i],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var oT=ln&&"documentMode"in document&&11>=document.documentMode,sa=null,Oh=null,Oo=null,Nh=!1;function op(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Nh||sa==null||sa!==Ys(l)||(l=sa,"selectionStart"in l&&Dh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Oo&&Do(Oo,l)||(Oo=l,l=nc(Oh,"onSelect"),0<l.length&&(i=new Zs("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=sa)))}function hs(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var aa={animationend:hs("Animation","AnimationEnd"),animationiteration:hs("Animation","AnimationIteration"),animationstart:hs("Animation","AnimationStart"),transitionrun:hs("Transition","TransitionRun"),transitionstart:hs("Transition","TransitionStart"),transitioncancel:hs("Transition","TransitionCancel"),transitionend:hs("Transition","TransitionEnd")},Mh={},lp={};ln&&(lp=document.createElement("div").style,"AnimationEvent"in window||(delete aa.animationend.animation,delete aa.animationiteration.animation,delete aa.animationstart.animation),"TransitionEvent"in window||delete aa.transitionend.transition);function fs(t){if(Mh[t])return Mh[t];if(!aa[t])return t;var i=aa[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in lp)return Mh[t]=i[a];return t}var up=fs("animationend"),cp=fs("animationiteration"),hp=fs("animationstart"),lT=fs("transitionrun"),uT=fs("transitionstart"),cT=fs("transitioncancel"),fp=fs("transitionend"),dp=new Map,mp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function xn(t,i){dp.set(t,i),on(i,[t])}var Tn=[],oa=0,Vh=0;function Tu(){for(var t=oa,i=Vh=oa=0;i<t;){var a=Tn[i];Tn[i++]=null;var l=Tn[i];Tn[i++]=null;var h=Tn[i];Tn[i++]=null;var d=Tn[i];if(Tn[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&pp(a,h,d)}}function Su(t,i,a,l){Tn[oa++]=t,Tn[oa++]=i,Tn[oa++]=a,Tn[oa++]=l,Vh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function xh(t,i,a,l){return Su(t,i,a,l),Au(t)}function fr(t,i){return Su(t,null,null,i),Au(t)}function pp(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;h&&i!==null&&t.tag===3&&(d=t.stateNode,h=31-$t(a),d=d.hiddenUpdates,t=d[h],t===null?d[h]=[i]:t.push(i),i.lane=a|536870912)}function Au(t){if(50<tl)throw tl=0,Hf=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var la={},gp=new WeakMap;function Sn(t,i){if(typeof t=="object"&&t!==null){var a=gp.get(t);return a!==void 0?a:(i={value:t,source:i,stack:_e(i)},gp.set(t,i),i)}return{value:t,source:i,stack:_e(i)}}var ua=[],ca=0,bu=null,wu=0,An=[],bn=0,ds=null,Si=1,Ai="";function ms(t,i){ua[ca++]=wu,ua[ca++]=bu,bu=t,wu=i}function yp(t,i,a){An[bn++]=Si,An[bn++]=Ai,An[bn++]=ds,ds=t;var l=Si;t=Ai;var h=32-$t(l)-1;l&=~(1<<h),a+=1;var d=32-$t(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Si=1<<32-$t(i)+h|a<<h|l,Ai=d+t}else Si=1<<d|a<<h|l,Ai=t}function kh(t){t.return!==null&&(ms(t,1),yp(t,1,0))}function Lh(t){for(;t===bu;)bu=ua[--ca],ua[ca]=null,wu=ua[--ca],ua[ca]=null;for(;t===ds;)ds=An[--bn],An[bn]=null,Ai=An[--bn],An[bn]=null,Si=An[--bn],An[bn]=null}var Wt=null,Lt=null,He=!1,kn=null,Xn=!1,Ph=Error(s(519));function ps(t){var i=Error(s(418,""));throw Vo(Sn(i,t)),Ph}function _p(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[It]=t,i[Et]=l,a){case"dialog":Ne("cancel",i),Ne("close",i);break;case"iframe":case"object":case"embed":Ne("load",i);break;case"video":case"audio":for(a=0;a<il.length;a++)Ne(il[a],i);break;case"source":Ne("error",i);break;case"img":case"image":case"link":Ne("error",i),Ne("load",i);break;case"details":Ne("toggle",i);break;case"input":Ne("invalid",i),ns(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ts(i);break;case"select":Ne("invalid",i);break;case"textarea":Ne("invalid",i),cr(i,l.value,l.defaultValue,l.children),ts(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||Cy(i.textContent,a)?(l.popover!=null&&(Ne("beforetoggle",i),Ne("toggle",i)),l.onScroll!=null&&Ne("scroll",i),l.onScrollEnd!=null&&Ne("scrollend",i),l.onClick!=null&&(i.onclick=ic),i=!0):i=!1,i||ps(t)}function vp(t){for(Wt=t.return;Wt;)switch(Wt.tag){case 3:case 27:Xn=!0;return;case 5:case 13:Xn=!1;return;default:Wt=Wt.return}}function No(t){if(t!==Wt)return!1;if(!He)return vp(t),He=!0,!1;var i=!1,a;if((a=t.tag!==3&&t.tag!==27)&&((a=t.tag===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||rd(t.type,t.memoizedProps)),a=!a),a&&(i=!0),i&&Lt&&ps(t),vp(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){Lt=Pn(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}Lt=null}}else Lt=Wt?Pn(t.stateNode.nextSibling):null;return!0}function Mo(){Lt=Wt=null,He=!1}function Vo(t){kn===null?kn=[t]:kn.push(t)}var xo=Error(s(460)),Ep=Error(s(474)),Uh={then:function(){}};function Tp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ru(){}function Sp(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Ru,Ru),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,t===xo?Error(s(483)):t;default:if(typeof i.status=="string")i.then(Ru,Ru);else{if(t=$e,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,t===xo?Error(s(483)):t}throw ko=i,xo}}var ko=null;function Ap(){if(ko===null)throw Error(s(459));var t=ko;return ko=null,t}var ha=null,Lo=0;function Cu(t){var i=Lo;return Lo+=1,ha===null&&(ha=[]),Sp(ha,t,i)}function Po(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Iu(t,i){throw i.$$typeof===u?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function bp(t){var i=t._init;return i(t._payload)}function wp(t){function i(k,N){if(t){var z=k.deletions;z===null?(k.deletions=[N],k.flags|=16):z.push(N)}}function a(k,N){if(!t)return null;for(;N!==null;)i(k,N),N=N.sibling;return null}function l(k){for(var N=new Map;k!==null;)k.key!==null?N.set(k.key,k):N.set(k.index,k),k=k.sibling;return N}function h(k,N){return k=br(k,N),k.index=0,k.sibling=null,k}function d(k,N,z){return k.index=z,t?(z=k.alternate,z!==null?(z=z.index,z<N?(k.flags|=33554434,N):z):(k.flags|=33554434,N)):(k.flags|=1048576,N)}function v(k){return t&&k.alternate===null&&(k.flags|=33554434),k}function E(k,N,z,Q){return N===null||N.tag!==6?(N=Vf(z,k.mode,Q),N.return=k,N):(N=h(N,z),N.return=k,N)}function w(k,N,z,Q){var oe=z.type;return oe===g?G(k,N,z.props.children,Q,z.key):N!==null&&(N.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===te&&bp(oe)===N.type)?(N=h(N,z.props),Po(N,z),N.return=k,N):(N=Ku(z.type,z.key,z.props,null,k.mode,Q),Po(N,z),N.return=k,N)}function x(k,N,z,Q){return N===null||N.tag!==4||N.stateNode.containerInfo!==z.containerInfo||N.stateNode.implementation!==z.implementation?(N=xf(z,k.mode,Q),N.return=k,N):(N=h(N,z.children||[]),N.return=k,N)}function G(k,N,z,Q,oe){return N===null||N.tag!==7?(N=ws(z,k.mode,Q,oe),N.return=k,N):(N=h(N,z),N.return=k,N)}function X(k,N,z){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Vf(""+N,k.mode,z),N.return=k,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case f:return z=Ku(N.type,N.key,N.props,null,k.mode,z),Po(z,N),z.return=k,z;case m:return N=xf(N,k.mode,z),N.return=k,N;case te:var Q=N._init;return N=Q(N._payload),X(k,N,z)}if(re(N)||Se(N))return N=ws(N,k.mode,z,null),N.return=k,N;if(typeof N.then=="function")return X(k,Cu(N),z);if(N.$$typeof===L)return X(k,ju(k,N),z);Iu(k,N)}return null}function H(k,N,z,Q){var oe=N!==null?N.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return oe!==null?null:E(k,N,""+z,Q);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case f:return z.key===oe?w(k,N,z,Q):null;case m:return z.key===oe?x(k,N,z,Q):null;case te:return oe=z._init,z=oe(z._payload),H(k,N,z,Q)}if(re(z)||Se(z))return oe!==null?null:G(k,N,z,Q,null);if(typeof z.then=="function")return H(k,N,Cu(z),Q);if(z.$$typeof===L)return H(k,N,ju(k,z),Q);Iu(k,z)}return null}function F(k,N,z,Q,oe){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return k=k.get(z)||null,E(N,k,""+Q,oe);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case f:return k=k.get(Q.key===null?z:Q.key)||null,w(N,k,Q,oe);case m:return k=k.get(Q.key===null?z:Q.key)||null,x(N,k,Q,oe);case te:var Ie=Q._init;return Q=Ie(Q._payload),F(k,N,z,Q,oe)}if(re(Q)||Se(Q))return k=k.get(z)||null,G(N,k,Q,oe,null);if(typeof Q.then=="function")return F(k,N,z,Cu(Q),oe);if(Q.$$typeof===L)return F(k,N,z,ju(N,Q),oe);Iu(N,Q)}return null}function ce(k,N,z,Q){for(var oe=null,Ie=null,fe=N,pe=N=0,Vt=null;fe!==null&&pe<z.length;pe++){fe.index>pe?(Vt=fe,fe=null):Vt=fe.sibling;var qe=H(k,fe,z[pe],Q);if(qe===null){fe===null&&(fe=Vt);break}t&&fe&&qe.alternate===null&&i(k,fe),N=d(qe,N,pe),Ie===null?oe=qe:Ie.sibling=qe,Ie=qe,fe=Vt}if(pe===z.length)return a(k,fe),He&&ms(k,pe),oe;if(fe===null){for(;pe<z.length;pe++)fe=X(k,z[pe],Q),fe!==null&&(N=d(fe,N,pe),Ie===null?oe=fe:Ie.sibling=fe,Ie=fe);return He&&ms(k,pe),oe}for(fe=l(fe);pe<z.length;pe++)Vt=F(fe,k,pe,z[pe],Q),Vt!==null&&(t&&Vt.alternate!==null&&fe.delete(Vt.key===null?pe:Vt.key),N=d(Vt,N,pe),Ie===null?oe=Vt:Ie.sibling=Vt,Ie=Vt);return t&&fe.forEach(function(Nr){return i(k,Nr)}),He&&ms(k,pe),oe}function Ee(k,N,z,Q){if(z==null)throw Error(s(151));for(var oe=null,Ie=null,fe=N,pe=N=0,Vt=null,qe=z.next();fe!==null&&!qe.done;pe++,qe=z.next()){fe.index>pe?(Vt=fe,fe=null):Vt=fe.sibling;var Nr=H(k,fe,qe.value,Q);if(Nr===null){fe===null&&(fe=Vt);break}t&&fe&&Nr.alternate===null&&i(k,fe),N=d(Nr,N,pe),Ie===null?oe=Nr:Ie.sibling=Nr,Ie=Nr,fe=Vt}if(qe.done)return a(k,fe),He&&ms(k,pe),oe;if(fe===null){for(;!qe.done;pe++,qe=z.next())qe=X(k,qe.value,Q),qe!==null&&(N=d(qe,N,pe),Ie===null?oe=qe:Ie.sibling=qe,Ie=qe);return He&&ms(k,pe),oe}for(fe=l(fe);!qe.done;pe++,qe=z.next())qe=F(fe,k,pe,qe.value,Q),qe!==null&&(t&&qe.alternate!==null&&fe.delete(qe.key===null?pe:qe.key),N=d(qe,N,pe),Ie===null?oe=qe:Ie.sibling=qe,Ie=qe);return t&&fe.forEach(function(bS){return i(k,bS)}),He&&ms(k,pe),oe}function at(k,N,z,Q){if(typeof z=="object"&&z!==null&&z.type===g&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case f:e:{for(var oe=z.key;N!==null;){if(N.key===oe){if(oe=z.type,oe===g){if(N.tag===7){a(k,N.sibling),Q=h(N,z.props.children),Q.return=k,k=Q;break e}}else if(N.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===te&&bp(oe)===N.type){a(k,N.sibling),Q=h(N,z.props),Po(Q,z),Q.return=k,k=Q;break e}a(k,N);break}else i(k,N);N=N.sibling}z.type===g?(Q=ws(z.props.children,k.mode,Q,z.key),Q.return=k,k=Q):(Q=Ku(z.type,z.key,z.props,null,k.mode,Q),Po(Q,z),Q.return=k,k=Q)}return v(k);case m:e:{for(oe=z.key;N!==null;){if(N.key===oe)if(N.tag===4&&N.stateNode.containerInfo===z.containerInfo&&N.stateNode.implementation===z.implementation){a(k,N.sibling),Q=h(N,z.children||[]),Q.return=k,k=Q;break e}else{a(k,N);break}else i(k,N);N=N.sibling}Q=xf(z,k.mode,Q),Q.return=k,k=Q}return v(k);case te:return oe=z._init,z=oe(z._payload),at(k,N,z,Q)}if(re(z))return ce(k,N,z,Q);if(Se(z)){if(oe=Se(z),typeof oe!="function")throw Error(s(150));return z=oe.call(z),Ee(k,N,z,Q)}if(typeof z.then=="function")return at(k,N,Cu(z),Q);if(z.$$typeof===L)return at(k,N,ju(k,z),Q);Iu(k,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,N!==null&&N.tag===6?(a(k,N.sibling),Q=h(N,z),Q.return=k,k=Q):(a(k,N),Q=Vf(z,k.mode,Q),Q.return=k,k=Q),v(k)):a(k,N)}return function(k,N,z,Q){try{Lo=0;var oe=at(k,N,z,Q);return ha=null,oe}catch(fe){if(fe===xo)throw fe;var Ie=In(29,fe,null,k.mode);return Ie.lanes=Q,Ie.return=k,Ie}finally{}}}var gs=wp(!0),Rp=wp(!1),fa=ze(null),Du=ze(0);function Cp(t,i){t=xi,Ge(Du,t),Ge(fa,i),xi=t|i.baseLanes}function zh(){Ge(Du,xi),Ge(fa,fa.current)}function Bh(){xi=Du.current,nt(fa),nt(Du)}var wn=ze(null),Zn=null;function dr(t){var i=t.alternate;Ge(At,At.current&1),Ge(wn,t),Zn===null&&(i===null||fa.current!==null||i.memoizedState!==null)&&(Zn=t)}function Ip(t){if(t.tag===22){if(Ge(At,At.current),Ge(wn,t),Zn===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(Zn=t)}}else mr()}function mr(){Ge(At,At.current),Ge(wn,wn.current)}function bi(t){nt(wn),Zn===t&&(Zn=null),nt(At)}var At=ze(0);function Ou(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var hT=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},fT=r.unstable_scheduleCallback,dT=r.unstable_NormalPriority,bt={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Hh(){return{controller:new hT,data:new Map,refCount:0}}function Uo(t){t.refCount--,t.refCount===0&&fT(dT,function(){t.controller.abort()})}var zo=null,qh=0,da=0,ma=null;function mT(t,i){if(zo===null){var a=zo=[];qh=0,da=$f(),ma={status:"pending",value:void 0,then:function(l){a.push(l)}}}return qh++,i.then(Dp,Dp),i}function Dp(){if(--qh===0&&zo!==null){ma!==null&&(ma.status="fulfilled");var t=zo;zo=null,da=0,ma=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function pT(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Op=A.S;A.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&mT(t,i),Op!==null&&Op(t,i)};var ys=ze(null);function jh(){var t=ys.current;return t!==null?t:$e.pooledCache}function Nu(t,i){i===null?Ge(ys,ys.current):Ge(ys,i.pool)}function Np(){var t=jh();return t===null?null:{parent:bt._currentValue,pool:t}}var pr=0,Ce=null,Ke=null,mt=null,Mu=!1,pa=!1,_s=!1,Vu=0,Bo=0,ga=null,gT=0;function ut(){throw Error(s(321))}function Fh(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!un(t[a],i[a]))return!1;return!0}function Gh(t,i,a,l,h,d){return pr=d,Ce=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,A.H=t===null||t.memoizedState===null?vs:gr,_s=!1,d=a(l,h),_s=!1,pa&&(d=Vp(i,a,l,h)),Mp(t),d}function Mp(t){A.H=Wn;var i=Ke!==null&&Ke.next!==null;if(pr=0,mt=Ke=Ce=null,Mu=!1,Bo=0,ga=null,i)throw Error(s(300));t===null||Nt||(t=t.dependencies,t!==null&&qu(t)&&(Nt=!0))}function Vp(t,i,a,l){Ce=t;var h=0;do{if(pa&&(ga=null),Bo=0,pa=!1,25<=h)throw Error(s(301));if(h+=1,mt=Ke=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}A.H=Es,d=i(a,l)}while(pa);return d}function yT(){var t=A.H,i=t.useState()[0];return i=typeof i.then=="function"?Ho(i):i,t=t.useState()[0],(Ke!==null?Ke.memoizedState:null)!==t&&(Ce.flags|=1024),i}function Kh(){var t=Vu!==0;return Vu=0,t}function Qh(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Yh(t){if(Mu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Mu=!1}pr=0,mt=Ke=Ce=null,pa=!1,Bo=Vu=0,ga=null}function rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mt===null?Ce.memoizedState=mt=t:mt=mt.next=t,mt}function pt(){if(Ke===null){var t=Ce.alternate;t=t!==null?t.memoizedState:null}else t=Ke.next;var i=mt===null?Ce.memoizedState:mt.next;if(i!==null)mt=i,Ke=t;else{if(t===null)throw Ce.alternate===null?Error(s(467)):Error(s(310));Ke=t,t={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},mt===null?Ce.memoizedState=mt=t:mt=mt.next=t}return mt}var xu;xu=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Ho(t){var i=Bo;return Bo+=1,ga===null&&(ga=[]),t=Sp(ga,t,i),i=Ce,(mt===null?i.memoizedState:mt.next)===null&&(i=i.alternate,A.H=i===null||i.memoizedState===null?vs:gr),t}function ku(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ho(t);if(t.$$typeof===L)return qt(t)}throw Error(s(438,String(t)))}function $h(t){var i=null,a=Ce.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ce.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=xu(),Ce.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=me;return i.index++,a}function wi(t,i){return typeof i=="function"?i(t):i}function Lu(t){var i=pt();return Xh(i,Ke,t)}function Xh(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var E=v=null,w=null,x=i,G=!1;do{var X=x.lane&-536870913;if(X!==x.lane?(xe&X)===X:(pr&X)===X){var H=x.revertLane;if(H===0)w!==null&&(w=w.next={lane:0,revertLane:0,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null}),X===da&&(G=!0);else if((pr&H)===H){x=x.next,H===da&&(G=!0);continue}else X={lane:0,revertLane:x.revertLane,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null},w===null?(E=w=X,v=d):w=w.next=X,Ce.lanes|=H,wr|=H;X=x.action,_s&&a(d,X),d=x.hasEagerState?x.eagerState:a(d,X)}else H={lane:X,revertLane:x.revertLane,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null},w===null?(E=w=H,v=d):w=w.next=H,Ce.lanes|=X,wr|=X;x=x.next}while(x!==null&&x!==i);if(w===null?v=d:w.next=E,!un(d,t.memoizedState)&&(Nt=!0,G&&(a=ma,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=w,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Zh(t){var i=pt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);un(d,i.memoizedState)||(Nt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function xp(t,i,a){var l=Ce,h=pt(),d=He;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!un((Ke||h).memoizedState,a);if(v&&(h.memoizedState=a,Nt=!0),h=h.queue,ef(Pp.bind(null,l,h,t),[t]),h.getSnapshot!==i||v||mt!==null&&mt.memoizedState.tag&1){if(l.flags|=2048,ya(9,Lp.bind(null,l,h,a,i),{destroy:void 0},null),$e===null)throw Error(s(349));d||(pr&60)!==0||kp(l,i,a)}return a}function kp(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ce.updateQueue,i===null?(i=xu(),Ce.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Lp(t,i,a,l){i.value=a,i.getSnapshot=l,Up(i)&&zp(t)}function Pp(t,i,a){return a(function(){Up(i)&&zp(t)})}function Up(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!un(t,a)}catch{return!0}}function zp(t){var i=fr(t,2);i!==null&&Jt(i,t,2)}function Wh(t){var i=rn();if(typeof t=="function"){var a=t;if(t=a(),_s){zn(!0);try{a()}finally{zn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:t},i}function Bp(t,i,a,l){return t.baseState=a,Xh(t,Ke,typeof l=="function"?l:wi)}function _T(t,i,a,l,h){if(zu(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};A.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Hp(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Hp(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=A.T,v={};A.T=v;try{var E=a(h,l),w=A.S;w!==null&&w(v,E),qp(t,i,E)}catch(x){Jh(t,i,x)}finally{A.T=d}}else try{d=a(h,l),qp(t,i,d)}catch(x){Jh(t,i,x)}}function qp(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){jp(t,i,l)},function(l){return Jh(t,i,l)}):jp(t,i,a)}function jp(t,i,a){i.status="fulfilled",i.value=a,Fp(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Hp(t,a)))}function Jh(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Fp(i),i=i.next;while(i!==l)}t.action=null}function Fp(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Gp(t,i){return i}function Kp(t,i){if(He){var a=$e.formState;if(a!==null){e:{var l=Ce;if(He){if(Lt){t:{for(var h=Lt,d=Xn;h.nodeType!==8;){if(!d){h=null;break t}if(h=Pn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){Lt=Pn(h.nextSibling),l=h.data==="F!";break e}}ps(l)}l=!1}l&&(i=a[0])}}return a=rn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gp,lastRenderedState:i},a.queue=l,a=cg.bind(null,Ce,l),l.dispatch=a,l=Wh(!1),d=af.bind(null,Ce,!1,l.queue),l=rn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=_T.bind(null,Ce,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function Qp(t){var i=pt();return Yp(i,Ke,t)}function Yp(t,i,a){i=Xh(t,i,Gp)[0],t=Lu(wi)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?Ho(i):i;var l=pt(),h=l.queue,d=h.dispatch;return a!==l.memoizedState&&(Ce.flags|=2048,ya(9,vT.bind(null,h,a),{destroy:void 0},null)),[i,d,t]}function vT(t,i){t.action=i}function $p(t){var i=pt(),a=Ke;if(a!==null)return Yp(i,a,t);pt(),i=i.memoizedState,a=pt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function ya(t,i,a,l){return t={tag:t,create:i,inst:a,deps:l,next:null},i=Ce.updateQueue,i===null&&(i=xu(),Ce.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Xp(){return pt().memoizedState}function Pu(t,i,a,l){var h=rn();Ce.flags|=t,h.memoizedState=ya(1|i,a,{destroy:void 0},l===void 0?null:l)}function Uu(t,i,a,l){var h=pt();l=l===void 0?null:l;var d=h.memoizedState.inst;Ke!==null&&l!==null&&Fh(l,Ke.memoizedState.deps)?h.memoizedState=ya(i,a,d,l):(Ce.flags|=t,h.memoizedState=ya(1|i,a,d,l))}function Zp(t,i){Pu(8390656,8,t,i)}function ef(t,i){Uu(2048,8,t,i)}function Wp(t,i){return Uu(4,2,t,i)}function Jp(t,i){return Uu(4,4,t,i)}function eg(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function tg(t,i,a){a=a!=null?a.concat([t]):null,Uu(4,4,eg.bind(null,i,t),a)}function tf(){}function ng(t,i){var a=pt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Fh(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function ig(t,i){var a=pt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Fh(i,l[1]))return l[0];if(l=t(),_s){zn(!0);try{t()}finally{zn(!1)}}return a.memoizedState=[l,i],l}function nf(t,i,a){return a===void 0||(pr&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=sy(),Ce.lanes|=t,wr|=t,a)}function rg(t,i,a,l){return un(a,i)?a:fa.current!==null?(t=nf(t,a,l),un(t,i)||(Nt=!0),t):(pr&42)===0?(Nt=!0,t.memoizedState=a):(t=sy(),Ce.lanes|=t,wr|=t,i)}function sg(t,i,a,l,h){var d=se.p;se.p=d!==0&&8>d?d:8;var v=A.T,E={};A.T=E,af(t,!1,i,a);try{var w=h(),x=A.S;if(x!==null&&x(E,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var G=pT(w,l);qo(t,i,G,dn(t))}else qo(t,i,l,dn(t))}catch(X){qo(t,i,{then:function(){},status:"rejected",reason:X},dn())}finally{se.p=d,A.T=v}}function ET(){}function rf(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=ag(t).queue;sg(t,h,i,Re,a===null?ET:function(){return og(t),a(l)})}function ag(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:Re,baseState:Re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:Re},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function og(t){var i=ag(t).next.queue;qo(t,i,{},dn())}function sf(){return qt(ll)}function lg(){return pt().memoizedState}function ug(){return pt().memoizedState}function TT(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=dn();t=vr(a);var l=Er(i,t,a);l!==null&&(Jt(l,i,a),Go(l,i,a)),i={cache:Hh()},t.payload=i;return}i=i.return}}function ST(t,i,a){var l=dn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},zu(t)?hg(i,a):(a=xh(t,i,a,l),a!==null&&(Jt(a,t,l),fg(a,i,l)))}function cg(t,i,a){var l=dn();qo(t,i,a,l)}function qo(t,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(zu(t))hg(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,E=d(v,a);if(h.hasEagerState=!0,h.eagerState=E,un(E,v))return Su(t,i,h,0),$e===null&&Tu(),!1}catch{}finally{}if(a=xh(t,i,h,l),a!==null)return Jt(a,t,l),fg(a,i,l),!0}return!1}function af(t,i,a,l){if(l={lane:2,revertLane:$f(),action:l,hasEagerState:!1,eagerState:null,next:null},zu(t)){if(i)throw Error(s(479))}else i=xh(t,a,l,2),i!==null&&Jt(i,t,2)}function zu(t){var i=t.alternate;return t===Ce||i!==null&&i===Ce}function hg(t,i){pa=Mu=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function fg(t,i,a){if((a&4194176)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,nr(t,a)}}var Wn={readContext:qt,use:ku,useCallback:ut,useContext:ut,useEffect:ut,useImperativeHandle:ut,useLayoutEffect:ut,useInsertionEffect:ut,useMemo:ut,useReducer:ut,useRef:ut,useState:ut,useDebugValue:ut,useDeferredValue:ut,useTransition:ut,useSyncExternalStore:ut,useId:ut};Wn.useCacheRefresh=ut,Wn.useMemoCache=ut,Wn.useHostTransitionStatus=ut,Wn.useFormState=ut,Wn.useActionState=ut,Wn.useOptimistic=ut;var vs={readContext:qt,use:ku,useCallback:function(t,i){return rn().memoizedState=[t,i===void 0?null:i],t},useContext:qt,useEffect:Zp,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Pu(4194308,4,eg.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Pu(4194308,4,t,i)},useInsertionEffect:function(t,i){Pu(4,2,t,i)},useMemo:function(t,i){var a=rn();i=i===void 0?null:i;var l=t();if(_s){zn(!0);try{t()}finally{zn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=rn();if(a!==void 0){var h=a(i);if(_s){zn(!0);try{a(i)}finally{zn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=ST.bind(null,Ce,t),[l.memoizedState,t]},useRef:function(t){var i=rn();return t={current:t},i.memoizedState=t},useState:function(t){t=Wh(t);var i=t.queue,a=cg.bind(null,Ce,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:tf,useDeferredValue:function(t,i){var a=rn();return nf(a,t,i)},useTransition:function(){var t=Wh(!1);return t=sg.bind(null,Ce,t.queue,!0,!1),rn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ce,h=rn();if(He){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),$e===null)throw Error(s(349));(xe&60)!==0||kp(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Zp(Pp.bind(null,l,d,t),[t]),l.flags|=2048,ya(9,Lp.bind(null,l,d,a,i),{destroy:void 0},null),a},useId:function(){var t=rn(),i=$e.identifierPrefix;if(He){var a=Ai,l=Si;a=(l&~(1<<32-$t(l)-1)).toString(32)+a,i=":"+i+"R"+a,a=Vu++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=gT++,i=":"+i+"r"+a.toString(32)+":";return t.memoizedState=i},useCacheRefresh:function(){return rn().memoizedState=TT.bind(null,Ce)}};vs.useMemoCache=$h,vs.useHostTransitionStatus=sf,vs.useFormState=Kp,vs.useActionState=Kp,vs.useOptimistic=function(t){var i=rn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=af.bind(null,Ce,!0,a),a.dispatch=i,[t,i]};var gr={readContext:qt,use:ku,useCallback:ng,useContext:qt,useEffect:ef,useImperativeHandle:tg,useInsertionEffect:Wp,useLayoutEffect:Jp,useMemo:ig,useReducer:Lu,useRef:Xp,useState:function(){return Lu(wi)},useDebugValue:tf,useDeferredValue:function(t,i){var a=pt();return rg(a,Ke.memoizedState,t,i)},useTransition:function(){var t=Lu(wi)[0],i=pt().memoizedState;return[typeof t=="boolean"?t:Ho(t),i]},useSyncExternalStore:xp,useId:lg};gr.useCacheRefresh=ug,gr.useMemoCache=$h,gr.useHostTransitionStatus=sf,gr.useFormState=Qp,gr.useActionState=Qp,gr.useOptimistic=function(t,i){var a=pt();return Bp(a,Ke,t,i)};var Es={readContext:qt,use:ku,useCallback:ng,useContext:qt,useEffect:ef,useImperativeHandle:tg,useInsertionEffect:Wp,useLayoutEffect:Jp,useMemo:ig,useReducer:Zh,useRef:Xp,useState:function(){return Zh(wi)},useDebugValue:tf,useDeferredValue:function(t,i){var a=pt();return Ke===null?nf(a,t,i):rg(a,Ke.memoizedState,t,i)},useTransition:function(){var t=Zh(wi)[0],i=pt().memoizedState;return[typeof t=="boolean"?t:Ho(t),i]},useSyncExternalStore:xp,useId:lg};Es.useCacheRefresh=ug,Es.useMemoCache=$h,Es.useHostTransitionStatus=sf,Es.useFormState=$p,Es.useActionState=$p,Es.useOptimistic=function(t,i){var a=pt();return Ke!==null?Bp(a,Ke,t,i):(a.baseState=t,[t,a.queue.dispatch])};function of(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:C({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var lf={isMounted:function(t){return(t=t._reactInternals)?de(t)===t:!1},enqueueSetState:function(t,i,a){t=t._reactInternals;var l=dn(),h=vr(l);h.payload=i,a!=null&&(h.callback=a),i=Er(t,h,l),i!==null&&(Jt(i,t,l),Go(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=dn(),h=vr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Er(t,h,l),i!==null&&(Jt(i,t,l),Go(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=dn(),l=vr(a);l.tag=2,i!=null&&(l.callback=i),i=Er(t,l,a),i!==null&&(Jt(i,t,a),Go(i,t,a))}};function dg(t,i,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!Do(a,l)||!Do(h,d):!0}function mg(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&lf.enqueueReplaceState(i,i.state,null)}function Ts(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=C({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var Bu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function pg(t){Bu(t)}function gg(t){console.error(t)}function yg(t){Bu(t)}function Hu(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function _g(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function uf(t,i,a){return a=vr(a),a.tag=3,a.payload={element:null},a.callback=function(){Hu(t,i)},a}function vg(t){return t=vr(t),t.tag=3,t}function Eg(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){_g(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){_g(i,a,l),typeof h!="function"&&(Rr===null?Rr=new Set([this]):Rr.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function AT(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Fo(i,a,h,!0),a=wn.current,a!==null){switch(a.tag){case 13:return Zn===null?Ff():a.alternate===null&&st===0&&(st=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Uh?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Kf(t,l,h)),!1;case 22:return a.flags|=65536,l===Uh?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Kf(t,l,h)),!1}throw Error(s(435,a.tag))}return Kf(t,l,h),Ff(),!1}if(He)return i=wn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Ph&&(t=Error(s(422),{cause:l}),Vo(Sn(t,a)))):(l!==Ph&&(i=Error(s(423),{cause:l}),Vo(Sn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Sn(l,a),h=uf(t.stateNode,l,h),bf(t,h),st!==4&&(st=2)),!1;var d=Error(s(520),{cause:l});if(d=Sn(d,a),Jo===null?Jo=[d]:Jo.push(d),st!==4&&(st=2),i===null)return!0;l=Sn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=uf(a.stateNode,l,t),bf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Rr===null||!Rr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=vg(h),Eg(h,t,a,l),bf(a,h),!1}a=a.return}while(a!==null);return!1}var Tg=Error(s(461)),Nt=!1;function Pt(t,i,a,l){i.child=t===null?Rp(i,null,a,l):gs(i,t.child,a,l)}function Sg(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var E in l)E!=="ref"&&(v[E]=l[E])}else v=l;return As(i),l=Gh(t,i,a,v,d,h),E=Kh(),t!==null&&!Nt?(Qh(t,i,h),Ri(t,i,h)):(He&&E&&kh(i),i.flags|=1,Pt(t,i,l,h),i.child)}function Ag(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Mf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,bg(t,i,d,l,h)):(t=Ku(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!_f(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Do,a(v,l)&&t.ref===i.ref)return Ri(t,i,h)}return i.flags|=1,t=br(d,l),t.ref=i.ref,t.return=i,i.child=t}function bg(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(Do(d,l)&&t.ref===i.ref)if(Nt=!1,i.pendingProps=l=d,_f(t,h))(t.flags&131072)!==0&&(Nt=!0);else return i.lanes=t.lanes,Ri(t,i,h)}return cf(t,i,a,l,h)}function wg(t,i,a){var l=i.pendingProps,h=l.children,d=(i.stateNode._pendingVisibility&2)!==0,v=t!==null?t.memoizedState:null;if(jo(t,i),l.mode==="hidden"||d){if((i.flags&128)!==0){if(l=v!==null?v.baseLanes|a:a,t!==null){for(h=i.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return Rg(t,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Nu(i,v!==null?v.cachePool:null),v!==null?Cp(i,v):zh(),Ip(i);else return i.lanes=i.childLanes=536870912,Rg(t,i,v!==null?v.baseLanes|a:a,a)}else v!==null?(Nu(i,v.cachePool),Cp(i,v),mr(),i.memoizedState=null):(t!==null&&Nu(i,null),zh(),mr());return Pt(t,i,h,a),i.child}function Rg(t,i,a,l){var h=jh();return h=h===null?null:{parent:bt._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},t!==null&&Nu(i,null),zh(),Ip(i),t!==null&&Fo(t,i,l,!0),null}function jo(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=2097664)}}function cf(t,i,a,l,h){return As(i),a=Gh(t,i,a,l,void 0,h),l=Kh(),t!==null&&!Nt?(Qh(t,i,h),Ri(t,i,h)):(He&&l&&kh(i),i.flags|=1,Pt(t,i,a,h),i.child)}function Cg(t,i,a,l,h,d){return As(i),i.updateQueue=null,a=Vp(i,l,a,h),Mp(t),l=Kh(),t!==null&&!Nt?(Qh(t,i,d),Ri(t,i,d)):(He&&l&&kh(i),i.flags|=1,Pt(t,i,a,d),i.child)}function Ig(t,i,a,l,h){if(As(i),i.stateNode===null){var d=la,v=a.contextType;typeof v=="object"&&v!==null&&(d=qt(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=lf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Sf(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?qt(v):la,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(of(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&lf.enqueueReplaceState(d,d.state,null),Qo(i,l,d,h),Ko(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var E=i.memoizedProps,w=Ts(a,E);d.props=w;var x=d.context,G=a.contextType;v=la,typeof G=="object"&&G!==null&&(v=qt(G));var X=a.getDerivedStateFromProps;G=typeof X=="function"||typeof d.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,G||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E||x!==v)&&mg(i,d,l,v),_r=!1;var H=i.memoizedState;d.state=H,Qo(i,l,d,h),Ko(),x=i.memoizedState,E||H!==x||_r?(typeof X=="function"&&(of(i,a,X,l),x=i.memoizedState),(w=_r||dg(i,a,w,l,H,x,v))?(G||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=x),d.props=l,d.state=x,d.context=v,l=w):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Af(t,i),v=i.memoizedProps,G=Ts(a,v),d.props=G,X=i.pendingProps,H=d.context,x=a.contextType,w=la,typeof x=="object"&&x!==null&&(w=qt(x)),E=a.getDerivedStateFromProps,(x=typeof E=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==X||H!==w)&&mg(i,d,l,w),_r=!1,H=i.memoizedState,d.state=H,Qo(i,l,d,h),Ko();var F=i.memoizedState;v!==X||H!==F||_r||t!==null&&t.dependencies!==null&&qu(t.dependencies)?(typeof E=="function"&&(of(i,a,E,l),F=i.memoizedState),(G=_r||dg(i,a,G,l,H,F,w)||t!==null&&t.dependencies!==null&&qu(t.dependencies))?(x||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,F,w),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,F,w)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=F),d.props=l,d.state=F,d.context=w,l=G):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,jo(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=gs(i,t.child,null,h),i.child=gs(i,null,a,h)):Pt(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Ri(t,i,h),t}function Dg(t,i,a,l){return Mo(),i.flags|=256,Pt(t,i,a,l),i.child}var hf={dehydrated:null,treeContext:null,retryLane:0};function ff(t){return{baseLanes:t,cachePool:Np()}}function df(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Dn),t}function Og(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(At.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(He){if(h?dr(i):mr(),He){var E=Lt,w;if(w=E){e:{for(w=E,E=Xn;w.nodeType!==8;){if(!E){E=null;break e}if(w=Pn(w.nextSibling),w===null){E=null;break e}}E=w}E!==null?(i.memoizedState={dehydrated:E,treeContext:ds!==null?{id:Si,overflow:Ai}:null,retryLane:536870912},w=In(18,null,null,0),w.stateNode=E,w.return=i,i.child=w,Wt=i,Lt=null,w=!0):w=!1}w||ps(i)}if(E=i.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return E.data==="$!"?i.lanes=16:i.lanes=536870912,null;bi(i)}return E=l.children,l=l.fallback,h?(mr(),h=i.mode,E=pf({mode:"hidden",children:E},h),l=ws(l,h,a,null),E.return=i,l.return=i,E.sibling=l,i.child=E,h=i.child,h.memoizedState=ff(a),h.childLanes=df(t,v,a),i.memoizedState=hf,l):(dr(i),mf(i,E))}if(w=t.memoizedState,w!==null&&(E=w.dehydrated,E!==null)){if(d)i.flags&256?(dr(i),i.flags&=-257,i=gf(t,i,a)):i.memoizedState!==null?(mr(),i.child=t.child,i.flags|=128,i=null):(mr(),h=l.fallback,E=i.mode,l=pf({mode:"visible",children:l.children},E),h=ws(h,E,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,gs(i,t.child,null,a),l=i.child,l.memoizedState=ff(a),l.childLanes=df(t,v,a),i.memoizedState=hf,i=h);else if(dr(i),E.data==="$!"){if(v=E.nextSibling&&E.nextSibling.dataset,v)var x=v.dgst;v=x,l=Error(s(419)),l.stack="",l.digest=v,Vo({value:l,source:null,stack:null}),i=gf(t,i,a)}else if(Nt||Fo(t,i,a,!1),v=(a&t.childLanes)!==0,Nt||v){if(v=$e,v!==null){if(l=a&-a,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==w.retryLane)throw w.retryLane=l,fr(t,l),Jt(v,t,l),Tg}E.data==="$?"||Ff(),i=gf(t,i,a)}else E.data==="$?"?(i.flags|=128,i.child=t.child,i=UT.bind(null,t),E._reactRetry=i,i=null):(t=w.treeContext,Lt=Pn(E.nextSibling),Wt=i,He=!0,kn=null,Xn=!1,t!==null&&(An[bn++]=Si,An[bn++]=Ai,An[bn++]=ds,Si=t.id,Ai=t.overflow,ds=i),i=mf(i,l.children),i.flags|=4096);return i}return h?(mr(),h=l.fallback,E=i.mode,w=t.child,x=w.sibling,l=br(w,{mode:"hidden",children:l.children}),l.subtreeFlags=w.subtreeFlags&31457280,x!==null?h=br(x,h):(h=ws(h,E,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,E=t.child.memoizedState,E===null?E=ff(a):(w=E.cachePool,w!==null?(x=bt._currentValue,w=w.parent!==x?{parent:x,pool:x}:w):w=Np(),E={baseLanes:E.baseLanes|a,cachePool:w}),h.memoizedState=E,h.childLanes=df(t,v,a),i.memoizedState=hf,l):(dr(i),a=t.child,t=a.sibling,a=br(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function mf(t,i){return i=pf({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function pf(t,i){return ny(t,i,0,null)}function gf(t,i,a){return gs(i,t.child,null,a),t=mf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Ng(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Ef(t.return,i,a)}function yf(t,i,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function Mg(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(Pt(t,i,l.children,a),l=At.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ng(t,a,i);else if(t.tag===19)Ng(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(Ge(At,l),h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&Ou(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),yf(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Ou(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}yf(i,!0,a,null,d);break;case"together":yf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ri(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),wr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Fo(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=br(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=br(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function _f(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&qu(t)))}function bT(t,i,a){switch(i.tag){case 3:Xi(i,i.stateNode.containerInfo),yr(i,bt,t.memoizedState.cache),Mo();break;case 27:case 5:oo(i);break;case 4:Xi(i,i.stateNode.containerInfo);break;case 10:yr(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(dr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Og(t,i,a):(dr(i),t=Ri(t,i,a),t!==null?t.sibling:null);dr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Fo(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Mg(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Ge(At,At.current),l)break;return null;case 22:case 23:return i.lanes=0,wg(t,i,a);case 24:yr(i,bt,t.memoizedState.cache)}return Ri(t,i,a)}function Vg(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Nt=!0;else{if(!_f(t,a)&&(i.flags&128)===0)return Nt=!1,bT(t,i,a);Nt=(t.flags&131072)!==0}else Nt=!1,He&&(i.flags&1048576)!==0&&yp(i,wu,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")Mf(l)?(t=Ts(l,t),i.tag=1,i=Ig(null,i,l,t,a)):(i.tag=0,i=cf(null,i,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===B){i.tag=11,i=Sg(null,i,l,t,a);break e}else if(h===$){i.tag=14,i=Ag(null,i,l,t,a);break e}}throw i=b(l)||l,Error(s(306,i,""))}}return i;case 0:return cf(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Ts(l,i.pendingProps),Ig(t,i,l,h,a);case 3:e:{if(Xi(i,i.stateNode.containerInfo),t===null)throw Error(s(387));var d=i.pendingProps;h=i.memoizedState,l=h.element,Af(t,i),Qo(i,d,null,a);var v=i.memoizedState;if(d=v.cache,yr(i,bt,d),d!==h.cache&&Tf(i,[bt],a,!0),Ko(),d=v.element,h.isDehydrated)if(h={element:d,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=h,i.memoizedState=h,i.flags&256){i=Dg(t,i,d,a);break e}else if(d!==l){l=Sn(Error(s(424)),i),Vo(l),i=Dg(t,i,d,a);break e}else for(Lt=Pn(i.stateNode.containerInfo.firstChild),Wt=i,He=!0,kn=null,Xn=!0,a=Rp(i,null,d,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Mo(),d===l){i=Ri(t,i,a);break e}Pt(t,i,d,a)}i=i.child}return i;case 26:return jo(t,i),t===null?(a=Ly(i.type,null,i.pendingProps,null))?i.memoizedState=a:He||(a=i.type,t=i.pendingProps,l=rc(mn.current).createElement(a),l[It]=i,l[Et]=t,Ut(l,a,t),Ze(l),i.stateNode=l):i.memoizedState=Ly(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return oo(i),t===null&&He&&(l=i.stateNode=Vy(i.type,i.pendingProps,mn.current),Wt=i,Xn=!0,Lt=Pn(l.firstChild)),l=i.pendingProps.children,t!==null||He?Pt(t,i,l,a):i.child=gs(i,null,l,a),jo(t,i),i.child;case 5:return t===null&&He&&((h=l=Lt)&&(l=eS(l,i.type,i.pendingProps,Xn),l!==null?(i.stateNode=l,Wt=i,Lt=Pn(l.firstChild),Xn=!1,h=!0):h=!1),h||ps(i)),oo(i),h=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,rd(h,d)?l=null:v!==null&&rd(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=Gh(t,i,yT,null,null,a),ll._currentValue=h),jo(t,i),Pt(t,i,l,a),i.child;case 6:return t===null&&He&&((t=a=Lt)&&(a=tS(a,i.pendingProps,Xn),a!==null?(i.stateNode=a,Wt=i,Lt=null,t=!0):t=!1),t||ps(i)),null;case 13:return Og(t,i,a);case 4:return Xi(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=gs(i,null,l,a):Pt(t,i,l,a),i.child;case 11:return Sg(t,i,i.type,i.pendingProps,a);case 7:return Pt(t,i,i.pendingProps,a),i.child;case 8:return Pt(t,i,i.pendingProps.children,a),i.child;case 12:return Pt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,yr(i,i.type,l.value),Pt(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,As(i),h=qt(h),l=l(h),i.flags|=1,Pt(t,i,l,a),i.child;case 14:return Ag(t,i,i.type,i.pendingProps,a);case 15:return bg(t,i,i.type,i.pendingProps,a);case 19:return Mg(t,i,a);case 22:return wg(t,i,a);case 24:return As(i),l=qt(bt),t===null?(h=jh(),h===null&&(h=$e,d=Hh(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Sf(i),yr(i,bt,h)):((t.lanes&a)!==0&&(Af(t,i),Qo(i,null,null,a),Ko()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),yr(i,bt,l)):(l=d.cache,yr(i,bt,l),l!==h.cache&&Tf(i,[bt],a,!0))),Pt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}var vf=ze(null),Ss=null,Ci=null;function yr(t,i,a){Ge(vf,i._currentValue),i._currentValue=a}function Ii(t){t._currentValue=vf.current,nt(vf)}function Ef(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Tf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var E=d;d=h;for(var w=0;w<i.length;w++)if(E.context===i[w]){d.lanes|=a,E=d.alternate,E!==null&&(E.lanes|=a),Ef(d.return,a,t),l||(v=null);break e}d=E.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Ef(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Fo(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var E=h.type;un(h.pendingProps.value,v.value)||(t!==null?t.push(E):t=[E])}}else if(h===$i.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(ll):t=[ll])}h=h.return}t!==null&&Tf(i,t,a,l),i.flags|=262144}function qu(t){for(t=t.firstContext;t!==null;){if(!un(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function As(t){Ss=t,Ci=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qt(t){return xg(Ss,t)}function ju(t,i){return Ss===null&&As(t),xg(t,i)}function xg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Ci===null){if(t===null)throw Error(s(308));Ci=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Ci=Ci.next=i;return a}var _r=!1;function Sf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Af(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function vr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Er(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Je&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Au(t),pp(t,null,a),i}return Su(t,l,i,a),Au(t)}function Go(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194176)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,nr(t,a)}}function bf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var wf=!1;function Ko(){if(wf){var t=ma;if(t!==null)throw t}}function Qo(t,i,a,l){wf=!1;var h=t.updateQueue;_r=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var w=E,x=w.next;w.next=null,v===null?d=x:v.next=x,v=w;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==v&&(E===null?G.firstBaseUpdate=x:E.next=x,G.lastBaseUpdate=w))}if(d!==null){var X=h.baseState;v=0,G=x=w=null,E=d;do{var H=E.lane&-536870913,F=H!==E.lane;if(F?(xe&H)===H:(l&H)===H){H!==0&&H===da&&(wf=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var ce=t,Ee=E;H=i;var at=a;switch(Ee.tag){case 1:if(ce=Ee.payload,typeof ce=="function"){X=ce.call(at,X,H);break e}X=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=Ee.payload,H=typeof ce=="function"?ce.call(at,X,H):ce,H==null)break e;X=C({},X,H);break e;case 2:_r=!0}}H=E.callback,H!==null&&(t.flags|=64,F&&(t.flags|=8192),F=h.callbacks,F===null?h.callbacks=[H]:F.push(H))}else F={lane:H,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(x=G=F,w=X):G=G.next=F,v|=H;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;F=E,E=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);G===null&&(w=X),h.baseState=w,h.firstBaseUpdate=x,h.lastBaseUpdate=G,d===null&&(h.shared.lanes=0),wr|=v,t.lanes=v,t.memoizedState=X}}function kg(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Lg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)kg(a[t],i)}function Yo(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(E){Ye(i,i.return,E)}}function Tr(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,h=i;var w=a;try{E()}catch(x){Ye(h,w,x)}}}l=l.next}while(l!==d)}}catch(x){Ye(i,i.return,x)}}function Pg(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Lg(i,a)}catch(l){Ye(t,t.return,l)}}}function Ug(t,i,a){a.props=Ts(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ye(t,i,l)}}function bs(t,i){try{var a=t.ref;if(a!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var h=l;break;default:h=l}typeof a=="function"?t.refCleanup=a(h):a.current=h}}catch(d){Ye(t,i,d)}}function cn(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Ye(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Ye(t,i,h)}else a.current=null}function zg(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Ye(t,t.return,h)}}function Bg(t,i,a){try{var l=t.stateNode;$T(l,t.type,a,i),l[Et]=i}catch(h){Ye(t,t.return,h)}}function Hg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function Rf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Hg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Cf(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(t,i):a.insertBefore(t,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(t,a)):(i=a,i.appendChild(t)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=ic));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(Cf(t,i,a),t=t.sibling;t!==null;)Cf(t,i,a),t=t.sibling}function Fu(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(Fu(t,i,a),t=t.sibling;t!==null;)Fu(t,i,a),t=t.sibling}var Di=!1,rt=!1,If=!1,qg=typeof WeakSet=="function"?WeakSet:Set,Mt=null,jg=!1;function wT(t,i){if(t=t.containerInfo,nd=cc,t=ap(t),Dh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,E=-1,w=-1,x=0,G=0,X=t,H=null;t:for(;;){for(var F;X!==a||h!==0&&X.nodeType!==3||(E=v+h),X!==d||l!==0&&X.nodeType!==3||(w=v+l),X.nodeType===3&&(v+=X.nodeValue.length),(F=X.firstChild)!==null;)H=X,X=F;for(;;){if(X===t)break t;if(H===a&&++x===h&&(E=v),H===d&&++G===l&&(w=v),(F=X.nextSibling)!==null)break;X=H,H=X.parentNode}X=F}a=E===-1||w===-1?null:{start:E,end:w}}else a=null}a=a||{start:0,end:0}}else a=null;for(id={focusedElem:t,selectionRange:a},cc=!1,Mt=i;Mt!==null;)if(i=Mt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Mt=t;else for(;Mt!==null;){switch(i=Mt,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ce=Ts(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(ce,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ee){Ye(a,a.return,Ee)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)od(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":od(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Mt=t;break}Mt=i.return}return ce=jg,jg=!1,ce}function Fg(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ni(t,a),l&4&&Yo(5,a);break;case 1:if(Ni(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(E){Ye(a,a.return,E)}else{var h=Ts(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(E){Ye(a,a.return,E)}}l&64&&Pg(a),l&512&&bs(a,a.return);break;case 3:if(Ni(t,a),l&64&&(l=a.updateQueue,l!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Lg(l,t)}catch(E){Ye(a,a.return,E)}}break;case 26:Ni(t,a),l&512&&bs(a,a.return);break;case 27:case 5:Ni(t,a),i===null&&l&4&&zg(a),l&512&&bs(a,a.return);break;case 12:Ni(t,a);break;case 13:Ni(t,a),l&4&&Qg(t,a);break;case 22:if(h=a.memoizedState!==null||Di,!h){i=i!==null&&i.memoizedState!==null||rt;var d=Di,v=rt;Di=h,(rt=i)&&!v?Sr(t,a,(a.subtreeFlags&8772)!==0):Ni(t,a),Di=d,rt=v}l&512&&(a.memoizedProps.mode==="manual"?bs(a,a.return):cn(a,a.return));break;default:Ni(t,a)}}function Gg(t){var i=t.alternate;i!==null&&(t.alternate=null,Gg(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&es(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var gt=null,hn=!1;function Oi(t,i,a){for(a=a.child;a!==null;)Kg(t,i,a),a=a.sibling}function Kg(t,i,a){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(Zi,a)}catch{}switch(a.tag){case 26:rt||cn(a,i),Oi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:rt||cn(a,i);var l=gt,h=hn;for(gt=a.stateNode,Oi(t,i,a),a=a.stateNode,i=a.attributes;i.length;)a.removeAttributeNode(i[0]);es(a),gt=l,hn=h;break;case 5:rt||cn(a,i);case 6:h=gt;var d=hn;if(gt=null,Oi(t,i,a),gt=h,hn=d,gt!==null)if(hn)try{t=gt,l=a.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(v){Ye(a,i,v)}else try{gt.removeChild(a.stateNode)}catch(v){Ye(a,i,v)}break;case 18:gt!==null&&(hn?(i=gt,a=a.stateNode,i.nodeType===8?ad(i.parentNode,a):i.nodeType===1&&ad(i,a),fl(i)):ad(gt,a.stateNode));break;case 4:l=gt,h=hn,gt=a.stateNode.containerInfo,hn=!0,Oi(t,i,a),gt=l,hn=h;break;case 0:case 11:case 14:case 15:rt||Tr(2,a,i),rt||Tr(4,a,i),Oi(t,i,a);break;case 1:rt||(cn(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Ug(a,i,l)),Oi(t,i,a);break;case 21:Oi(t,i,a);break;case 22:rt||cn(a,i),rt=(l=rt)||a.memoizedState!==null,Oi(t,i,a),rt=l;break;default:Oi(t,i,a)}}function Qg(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{fl(t)}catch(a){Ye(i,i.return,a)}}function RT(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new qg),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new qg),i;default:throw Error(s(435,t.tag))}}function Df(t,i){var a=RT(t);i.forEach(function(l){var h=zT.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function Rn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=i,E=v;e:for(;E!==null;){switch(E.tag){case 27:case 5:gt=E.stateNode,hn=!1;break e;case 3:gt=E.stateNode.containerInfo,hn=!0;break e;case 4:gt=E.stateNode.containerInfo,hn=!0;break e}E=E.return}if(gt===null)throw Error(s(160));Kg(d,v,h),gt=null,hn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Yg(i,t),i=i.sibling}var Ln=null;function Yg(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Rn(i,t),Cn(t),l&4&&(Tr(3,t,t.return),Yo(3,t),Tr(5,t,t.return));break;case 1:Rn(i,t),Cn(t),l&512&&(rt||a===null||cn(a,a.return)),l&64&&Di&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Ln;if(Rn(i,t),Cn(t),l&512&&(rt||a===null||cn(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[rr]||d[It]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Ut(d,l,a),d[It]=t,Ze(d),l=d;break e;case"link":var v=zy("link","href",h).get(l+(a.href||""));if(v){for(var E=0;E<v.length;E++)if(d=v[E],d.getAttribute("href")===(a.href==null?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(E,1);break t}}d=h.createElement(l),Ut(d,l,a),h.head.appendChild(d);break;case"meta":if(v=zy("meta","content",h).get(l+(a.content||""))){for(E=0;E<v.length;E++)if(d=v[E],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(E,1);break t}}d=h.createElement(l),Ut(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[It]=t,Ze(d),l=d}t.stateNode=l}else By(h,t.type,t.stateNode);else t.stateNode=Uy(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?By(h,t.type,t.stateNode):Uy(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Bg(t,t.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){h=t.stateNode,d=t.memoizedProps;try{for(var w=h.firstChild;w;){var x=w.nextSibling,G=w.nodeName;w[rr]||G==="HEAD"||G==="BODY"||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&w.rel.toLowerCase()==="stylesheet"||h.removeChild(w),w=x}for(var X=t.type,H=h.attributes;H.length;)h.removeAttributeNode(H[0]);Ut(h,X,d),h[It]=t,h[Et]=d}catch(ce){Ye(t,t.return,ce)}}case 5:if(Rn(i,t),Cn(t),l&512&&(rt||a===null||cn(a,a.return)),t.flags&32){h=t.stateNode;try{yn(h,"")}catch(ce){Ye(t,t.return,ce)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Bg(t,h,a!==null?a.memoizedProps:h)),l&1024&&(If=!0);break;case 6:if(Rn(i,t),Cn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ce){Ye(t,t.return,ce)}}break;case 3:if(oc=null,h=Ln,Ln=sc(i.containerInfo),Rn(i,t),Ln=h,Cn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{fl(i.containerInfo)}catch(ce){Ye(t,t.return,ce)}If&&(If=!1,$g(t));break;case 4:l=Ln,Ln=sc(t.stateNode.containerInfo),Rn(i,t),Cn(t),Ln=l;break;case 12:Rn(i,t),Cn(t);break;case 13:Rn(i,t),Cn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Uf=tn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Df(t,l)));break;case 22:if(l&512&&(rt||a===null||cn(a,a.return)),w=t.memoizedState!==null,x=a!==null&&a.memoizedState!==null,G=Di,X=rt,Di=G||w,rt=X||x,Rn(i,t),rt=X,Di=G,Cn(t),i=t.stateNode,i._current=t,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,l&8192&&(i._visibility=w?i._visibility&-2:i._visibility|1,w&&(i=Di||rt,a===null||x||i||_a(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))e:for(a=null,i=t;;){if(i.tag===5||i.tag===26||i.tag===27){if(a===null){x=a=i;try{if(h=x.stateNode,w)d=h.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{v=x.stateNode,E=x.memoizedProps.style;var F=E!=null&&E.hasOwnProperty("display")?E.display:null;v.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(ce){Ye(x,x.return,ce)}}}else if(i.tag===6){if(a===null){x=i;try{x.stateNode.nodeValue=w?"":x.memoizedProps}catch(ce){Ye(x,x.return,ce)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Df(t,a))));break;case 19:Rn(i,t),Cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Df(t,l)));break;case 21:break;default:Rn(i,t),Cn(t)}}function Cn(t){var i=t.flags;if(i&2){try{if(t.tag!==27){e:{for(var a=t.return;a!==null;){if(Hg(a)){var l=a;break e}a=a.return}throw Error(s(160))}switch(l.tag){case 27:var h=l.stateNode,d=Rf(t);Fu(t,d,h);break;case 5:var v=l.stateNode;l.flags&32&&(yn(v,""),l.flags&=-33);var E=Rf(t);Fu(t,E,v);break;case 3:case 4:var w=l.stateNode.containerInfo,x=Rf(t);Cf(t,x,w);break;default:throw Error(s(161))}}}catch(G){Ye(t,t.return,G)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function $g(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;$g(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Ni(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Fg(t,i.alternate,i),i=i.sibling}function _a(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Tr(4,i,i.return),_a(i);break;case 1:cn(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Ug(i,i.return,a),_a(i);break;case 26:case 27:case 5:cn(i,i.return),_a(i);break;case 22:cn(i,i.return),i.memoizedState===null&&_a(i);break;default:_a(i)}t=t.sibling}}function Sr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:Sr(h,d,a),Yo(4,d);break;case 1:if(Sr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(x){Ye(l,l.return,x)}if(l=d,h=l.updateQueue,h!==null){var E=l.stateNode;try{var w=h.shared.hiddenCallbacks;if(w!==null)for(h.shared.hiddenCallbacks=null,h=0;h<w.length;h++)kg(w[h],E)}catch(x){Ye(l,l.return,x)}}a&&v&64&&Pg(d),bs(d,d.return);break;case 26:case 27:case 5:Sr(h,d,a),a&&l===null&&v&4&&zg(d),bs(d,d.return);break;case 12:Sr(h,d,a);break;case 13:Sr(h,d,a),a&&v&4&&Qg(h,d);break;case 22:d.memoizedState===null&&Sr(h,d,a),bs(d,d.return);break;default:Sr(h,d,a)}i=i.sibling}}function Of(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Uo(a))}function Nf(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Uo(t))}function Ar(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Xg(t,i,a,l),i=i.sibling}function Xg(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Ar(t,i,a,l),h&2048&&Yo(9,i);break;case 3:Ar(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Uo(t)));break;case 12:if(h&2048){Ar(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,E=d.onPostCommit;typeof E=="function"&&E(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(w){Ye(i,i.return,w)}}else Ar(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,i.memoizedState!==null?d._visibility&4?Ar(t,i,a,l):$o(t,i):d._visibility&4?Ar(t,i,a,l):(d._visibility|=4,va(t,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&Of(i.alternate,i);break;case 24:Ar(t,i,a,l),h&2048&&Nf(i.alternate,i);break;default:Ar(t,i,a,l)}}function va(t,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,v=i,E=a,w=l,x=v.flags;switch(v.tag){case 0:case 11:case 15:va(d,v,E,w,h),Yo(8,v);break;case 23:break;case 22:var G=v.stateNode;v.memoizedState!==null?G._visibility&4?va(d,v,E,w,h):$o(d,v):(G._visibility|=4,va(d,v,E,w,h)),h&&x&2048&&Of(v.alternate,v);break;case 24:va(d,v,E,w,h),h&&x&2048&&Nf(v.alternate,v);break;default:va(d,v,E,w,h)}i=i.sibling}}function $o(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:$o(a,l),h&2048&&Of(l.alternate,l);break;case 24:$o(a,l),h&2048&&Nf(l.alternate,l);break;default:$o(a,l)}i=i.sibling}}var Xo=8192;function Ea(t){if(t.subtreeFlags&Xo)for(t=t.child;t!==null;)Zg(t),t=t.sibling}function Zg(t){switch(t.tag){case 26:Ea(t),t.flags&Xo&&t.memoizedState!==null&&mS(Ln,t.memoizedState,t.memoizedProps);break;case 5:Ea(t);break;case 3:case 4:var i=Ln;Ln=sc(t.stateNode.containerInfo),Ea(t),Ln=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=Xo,Xo=16777216,Ea(t),Xo=i):Ea(t));break;default:Ea(t)}}function Wg(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Zo(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Mt=l,ey(l,t)}Wg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Jg(t),t=t.sibling}function Jg(t){switch(t.tag){case 0:case 11:case 15:Zo(t),t.flags&2048&&Tr(9,t,t.return);break;case 3:Zo(t);break;case 12:Zo(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&4&&(t.return===null||t.return.tag!==13)?(i._visibility&=-5,Gu(t)):Zo(t);break;default:Zo(t)}}function Gu(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Mt=l,ey(l,t)}Wg(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Tr(8,i,i.return),Gu(i);break;case 22:a=i.stateNode,a._visibility&4&&(a._visibility&=-5,Gu(i));break;default:Gu(i)}t=t.sibling}}function ey(t,i){for(;Mt!==null;){var a=Mt;switch(a.tag){case 0:case 11:case 15:Tr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Uo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Mt=l;else e:for(a=t;Mt!==null;){l=Mt;var h=l.sibling,d=l.return;if(Gg(l),l===a){Mt=null;break e}if(h!==null){h.return=d,Mt=h;break e}Mt=d}}}function CT(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(t,i,a,l){return new CT(t,i,a,l)}function Mf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function br(t,i){var a=t.alternate;return a===null?(a=In(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&31457280,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function ty(t,i){t.flags&=31457282;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Ku(t,i,a,l,h,d){var v=0;if(l=t,typeof t=="function")Mf(t)&&(v=1);else if(typeof t=="string")v=fS(t,a,Yt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case g:return ws(a.children,h,d,i);case y:v=8,h|=24;break;case T:return t=In(12,a,i,h|2),t.elementType=T,t.lanes=d,t;case Z:return t=In(13,a,i,h),t.elementType=Z,t.lanes=d,t;case j:return t=In(19,a,i,h),t.elementType=j,t.lanes=d,t;case J:return ny(a,h,d,i);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case R:case L:v=10;break e;case D:v=9;break e;case B:v=11;break e;case $:v=14;break e;case te:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=In(v,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function ws(t,i,a,l){return t=In(7,t,l,i),t.lanes=a,t}function ny(t,i,a,l){t=In(22,t,l,i),t.elementType=J,t.lanes=a;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=h._current;if(d===null)throw Error(s(456));if((h._pendingVisibility&2)===0){var v=fr(d,2);v!==null&&(h._pendingVisibility|=2,Jt(v,d,2))}},attach:function(){var d=h._current;if(d===null)throw Error(s(456));if((h._pendingVisibility&2)!==0){var v=fr(d,2);v!==null&&(h._pendingVisibility&=-3,Jt(v,d,2))}}};return t.stateNode=h,t}function Vf(t,i,a){return t=In(6,t,null,i),t.lanes=a,t}function xf(t,i,a){return i=In(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}function Mi(t){t.flags|=4}function iy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Hy(i)){if(i=wn.current,i!==null&&((xe&4194176)===xe?Zn!==null:(xe&62914560)!==xe&&(xe&536870912)===0||i!==Zn))throw ko=Uh,Ep;t.flags|=8192}}function Qu(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?er():536870912,t.lanes|=i,Sa|=i)}function Wo(t,i){if(!He)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function We(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&31457280,l|=h.flags&31457280,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function IT(t,i,a){var l=i.pendingProps;switch(Lh(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return We(i),null;case 1:return We(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Ii(bt),hi(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(No(i)?Mi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,kn!==null&&(qf(kn),kn=null))),We(i),null;case 26:return a=i.memoizedState,t===null?(Mi(i),a!==null?(We(i),iy(i,a)):(We(i),i.flags&=-16777217)):a?a!==t.memoizedState?(Mi(i),We(i),iy(i,a)):(We(i),i.flags&=-16777217):(t.memoizedProps!==l&&Mi(i),We(i),i.flags&=-16777217),null;case 27:Hs(i),a=mn.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Mi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return We(i),null}t=Yt.current,No(i)?_p(i):(t=Vy(h,l,a),i.stateNode=t,Mi(i))}return We(i),null;case 5:if(Hs(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Mi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return We(i),null}if(t=Yt.current,No(i))_p(i);else{switch(h=rc(mn.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[It]=i,t[Et]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(Ut(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Mi(i)}}return We(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Mi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=mn.current,No(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=Wt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[It]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Cy(t.nodeValue,a)),t||ps(i)}else t=rc(t).createTextNode(l),t[It]=i,i.stateNode=t}return We(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=No(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[It]=i}else Mo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;We(i),h=!1}else kn!==null&&(qf(kn),kn=null),h=!0;if(!h)return i.flags&256?(bi(i),i):(bi(i),null)}if(bi(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),Qu(i,i.updateQueue),We(i),null;case 4:return hi(),t===null&&Jf(i.stateNode.containerInfo),We(i),null;case 10:return Ii(i.type),We(i),null;case 19:if(nt(At),h=i.memoizedState,h===null)return We(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)Wo(h,!1);else{if(st!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=Ou(t),d!==null){for(i.flags|=128,Wo(h,!1),t=d.updateQueue,i.updateQueue=t,Qu(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)ty(a,t),a=a.sibling;return Ge(At,At.current&1|2),i.child}t=t.sibling}h.tail!==null&&tn()>Yu&&(i.flags|=128,l=!0,Wo(h,!1),i.lanes=4194304)}else{if(!l)if(t=Ou(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,Qu(i,t),Wo(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!He)return We(i),null}else 2*tn()-h.renderingStartTime>Yu&&a!==536870912&&(i.flags|=128,l=!0,Wo(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(t=h.last,t!==null?t.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=tn(),i.sibling=null,t=At.current,Ge(At,l?t&1|2:t&1),i):(We(i),null);case 22:case 23:return bi(i),Bh(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(We(i),i.subtreeFlags&6&&(i.flags|=8192)):We(i),a=i.updateQueue,a!==null&&Qu(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&nt(ys),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Ii(bt),We(i),null;case 25:return null}throw Error(s(156,i.tag))}function DT(t,i){switch(Lh(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Ii(bt),hi(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Hs(i),null;case 13:if(bi(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Mo()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return nt(At),null;case 4:return hi(),null;case 10:return Ii(i.type),null;case 22:case 23:return bi(i),Bh(),t!==null&&nt(ys),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Ii(bt),null;case 25:return null;default:return null}}function ry(t,i){switch(Lh(i),i.tag){case 3:Ii(bt),hi();break;case 26:case 27:case 5:Hs(i);break;case 4:hi();break;case 13:bi(i);break;case 19:nt(At);break;case 10:Ii(i.type);break;case 22:case 23:bi(i),Bh(),t!==null&&nt(ys);break;case 24:Ii(bt)}}var OT={getCacheForType:function(t){var i=qt(bt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},NT=typeof WeakMap=="function"?WeakMap:Map,Je=0,$e=null,De=null,xe=0,Xe=0,fn=null,Vi=!1,Ta=!1,kf=!1,xi=0,st=0,wr=0,Rs=0,Lf=0,Dn=0,Sa=0,Jo=null,Jn=null,Pf=!1,Uf=0,Yu=1/0,$u=null,Rr=null,Xu=!1,Cs=null,el=0,zf=0,Bf=null,tl=0,Hf=null;function dn(){if((Je&2)!==0&&xe!==0)return xe&-xe;if(A.T!==null){var t=da;return t!==0?t:$f()}return nu()}function sy(){Dn===0&&(Dn=(xe&536870912)===0||He?fo():536870912);var t=wn.current;return t!==null&&(t.flags|=32),Dn}function Jt(t,i,a){(t===$e&&Xe===2||t.cancelPendingCommit!==null)&&(Aa(t,0),ki(t,xe,Dn,!1)),lt(t,a),((Je&2)===0||t!==$e)&&(t===$e&&((Je&2)===0&&(Rs|=a),st===4&&ki(t,xe,Dn,!1)),ei(t))}function ay(t,i,a){if((Je&6)!==0)throw Error(s(327));var l=!a&&(i&60)===0&&(i&t.expiredLanes)===0||Ji(t,i),h=l?xT(t,i):Gf(t,i,!0),d=l;do{if(h===0){Ta&&!l&&ki(t,i,0,!1);break}else if(h===6)ki(t,i,0,!Vi);else{if(a=t.current.alternate,d&&!MT(a)){h=Gf(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var E=t;h=Jo;var w=E.current.memoizedState.isDehydrated;if(w&&(Aa(E,v).flags|=256),v=Gf(E,v,!1),v!==2){if(kf&&!w){E.errorRecoveryDisabledLanes|=d,Rs|=d,h=4;break e}d=Jn,Jn=h,d!==null&&qf(d)}h=v}if(d=!1,h!==2)continue}}if(h===1){Aa(t,0),ki(t,i,0,!0);break}e:{switch(l=t,h){case 0:case 1:throw Error(s(345));case 4:if((i&4194176)===i){ki(l,i,Dn,!Vi);break e}break;case 2:Jn=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=a,l.finishedLanes=i,(i&62914560)===i&&(d=Uf+300-tn(),10<d)){if(ki(l,i,Dn,!Vi),pn(l,0)!==0)break e;l.timeoutHandle=Oy(oy.bind(null,l,a,Jn,$u,Pf,i,Dn,Rs,Sa,Vi,2,-0,0),d);break e}oy(l,a,Jn,$u,Pf,i,Dn,Rs,Sa,Vi,0,-0,0)}}break}while(!0);ei(t)}function qf(t){Jn===null?Jn=t:Jn.push.apply(Jn,t)}function oy(t,i,a,l,h,d,v,E,w,x,G,X,H){var F=i.subtreeFlags;if((F&8192||(F&16785408)===16785408)&&(ol={stylesheets:null,count:0,unsuspend:dS},Zg(i),i=pS(),i!==null)){t.cancelPendingCommit=i(my.bind(null,t,a,l,h,v,E,w,1,X,H)),ki(t,d,v,!x);return}my(t,a,l,h,v,E,w,G,X,H)}function MT(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!un(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ki(t,i,a,l){i&=~Lf,i&=~Rs,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-$t(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&tr(t,a,i)}function Zu(){return(Je&6)===0?(nl(0),!1):!0}function jf(){if(De!==null){if(Xe===0)var t=De.return;else t=De,Ci=Ss=null,Yh(t),ha=null,Lo=0,t=De;for(;t!==null;)ry(t.alternate,t),t=t.return;De=null}}function Aa(t,i){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,ZT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),jf(),$e=t,De=a=br(t.current,null),xe=i,Xe=0,fn=null,Vi=!1,Ta=Ji(t,i),kf=!1,Sa=Dn=Lf=Rs=wr=st=0,Jn=Jo=null,Pf=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-$t(l),d=1<<h;i|=t[h],l&=~d}return xi=i,Tu(),a}function ly(t,i){Ce=null,A.H=Wn,i===xo?(i=Ap(),Xe=3):i===Ep?(i=Ap(),Xe=4):Xe=i===Tg?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,fn=i,De===null&&(st=1,Hu(t,Sn(i,t.current)))}function uy(){var t=A.H;return A.H=Wn,t===null?Wn:t}function cy(){var t=A.A;return A.A=OT,t}function Ff(){st=4,Vi||(xe&4194176)!==xe&&wn.current!==null||(Ta=!0),(wr&134217727)===0&&(Rs&134217727)===0||$e===null||ki($e,xe,Dn,!1)}function Gf(t,i,a){var l=Je;Je|=2;var h=uy(),d=cy();($e!==t||xe!==i)&&($u=null,Aa(t,i)),i=!1;var v=st;e:do try{if(Xe!==0&&De!==null){var E=De,w=fn;switch(Xe){case 8:jf(),v=6;break e;case 3:case 2:case 6:wn.current===null&&(i=!0);var x=Xe;if(Xe=0,fn=null,ba(t,E,w,x),a&&Ta){v=0;break e}break;default:x=Xe,Xe=0,fn=null,ba(t,E,w,x)}}VT(),v=st;break}catch(G){ly(t,G)}while(!0);return i&&t.shellSuspendCounter++,Ci=Ss=null,Je=l,A.H=h,A.A=d,De===null&&($e=null,xe=0,Tu()),v}function VT(){for(;De!==null;)hy(De)}function xT(t,i){var a=Je;Je|=2;var l=uy(),h=cy();$e!==t||xe!==i?($u=null,Yu=tn()+500,Aa(t,i)):Ta=Ji(t,i);e:do try{if(Xe!==0&&De!==null){i=De;var d=fn;t:switch(Xe){case 1:Xe=0,fn=null,ba(t,i,d,1);break;case 2:if(Tp(d)){Xe=0,fn=null,fy(i);break}i=function(){Xe===2&&$e===t&&(Xe=7),ei(t)},d.then(i,i);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:Tp(d)?(Xe=0,fn=null,fy(i)):(Xe=0,fn=null,ba(t,i,d,7));break;case 5:var v=null;switch(De.tag){case 26:v=De.memoizedState;case 5:case 27:var E=De;if(!v||Hy(v)){Xe=0,fn=null;var w=E.sibling;if(w!==null)De=w;else{var x=E.return;x!==null?(De=x,Wu(x)):De=null}break t}}Xe=0,fn=null,ba(t,i,d,5);break;case 6:Xe=0,fn=null,ba(t,i,d,6);break;case 8:jf(),st=6;break e;default:throw Error(s(462))}}kT();break}catch(G){ly(t,G)}while(!0);return Ci=Ss=null,A.H=l,A.A=h,Je=a,De!==null?0:($e=null,xe=0,Tu(),st)}function kT(){for(;De!==null&&!_h();)hy(De)}function hy(t){var i=Vg(t.alternate,t,xi);t.memoizedProps=t.pendingProps,i===null?Wu(t):De=i}function fy(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Cg(a,i,i.pendingProps,i.type,void 0,xe);break;case 11:i=Cg(a,i,i.pendingProps,i.type.render,i.ref,xe);break;case 5:Yh(i);default:ry(a,i),i=De=ty(i,xi),i=Vg(a,i,xi)}t.memoizedProps=t.pendingProps,i===null?Wu(t):De=i}function ba(t,i,a,l){Ci=Ss=null,Yh(i),ha=null,Lo=0;var h=i.return;try{if(AT(t,h,i,a,xe)){st=1,Hu(t,Sn(a,t.current)),De=null;return}}catch(d){if(h!==null)throw De=h,d;st=1,Hu(t,Sn(a,t.current)),De=null;return}i.flags&32768?(He||l===1?t=!0:Ta||(xe&536870912)!==0?t=!1:(Vi=t=!0,(l===2||l===3||l===6)&&(l=wn.current,l!==null&&l.tag===13&&(l.flags|=16384))),dy(i,t)):Wu(i)}function Wu(t){var i=t;do{if((i.flags&32768)!==0){dy(i,Vi);return}t=i.return;var a=IT(i.alternate,i,xi);if(a!==null){De=a;return}if(i=i.sibling,i!==null){De=i;return}De=i=t}while(i!==null);st===0&&(st=5)}function dy(t,i){do{var a=DT(t.alternate,t);if(a!==null){a.flags&=32767,De=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){De=t;return}De=t=a}while(t!==null);st=6,De=null}function my(t,i,a,l,h,d,v,E,w,x){var G=A.T,X=se.p;try{se.p=2,A.T=null,LT(t,i,a,l,X,h,d,v,E,w,x)}finally{A.T=G,se.p=X}}function LT(t,i,a,l,h,d,v,E){do wa();while(Cs!==null);if((Je&6)!==0)throw Error(s(327));var w=t.finishedWork;if(l=t.finishedLanes,w===null)return null;if(t.finishedWork=null,t.finishedLanes=0,w===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var x=w.lanes|w.childLanes;if(x|=Vh,eu(t,l,x,d,v,E),t===$e&&(De=$e=null,xe=0),(w.subtreeFlags&10256)===0&&(w.flags&10256)===0||Xu||(Xu=!0,zf=x,Bf=a,BT(fi,function(){return wa(),null})),a=(w.flags&15990)!==0,(w.subtreeFlags&15990)!==0||a?(a=A.T,A.T=null,d=se.p,se.p=2,v=Je,Je|=4,wT(t,w),Yg(w,t),aT(id,t.containerInfo),cc=!!nd,id=nd=null,t.current=w,Fg(t,w.alternate,w),lo(),Je=v,se.p=d,A.T=a):t.current=w,Xu?(Xu=!1,Cs=t,el=l):py(t,x),x=t.pendingLanes,x===0&&(Rr=null),co(w.stateNode),ei(t),i!==null)for(h=t.onRecoverableError,w=0;w<i.length;w++)x=i[w],h(x.value,{componentStack:x.stack});return(el&3)!==0&&wa(),x=t.pendingLanes,(l&4194218)!==0&&(x&42)!==0?t===Hf?tl++:(tl=0,Hf=t):tl=0,nl(0),null}function py(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Uo(i)))}function wa(){if(Cs!==null){var t=Cs,i=zf;zf=0;var a=tu(el),l=A.T,h=se.p;try{if(se.p=32>a?32:a,A.T=null,Cs===null)var d=!1;else{a=Bf,Bf=null;var v=Cs,E=el;if(Cs=null,el=0,(Je&6)!==0)throw Error(s(331));var w=Je;if(Je|=4,Jg(v.current),Xg(v,v.current,E,a),Je=w,nl(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(Zi,v)}catch{}d=!0}return d}finally{se.p=h,A.T=l,py(t,i)}}return!1}function gy(t,i,a){i=Sn(a,i),i=uf(t.stateNode,i,2),t=Er(t,i,2),t!==null&&(lt(t,2),ei(t))}function Ye(t,i,a){if(t.tag===3)gy(t,t,a);else for(;i!==null;){if(i.tag===3){gy(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Rr===null||!Rr.has(l))){t=Sn(a,t),a=vg(2),l=Er(i,a,2),l!==null&&(Eg(a,l,i,t),lt(l,2),ei(l));break}}i=i.return}}function Kf(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new NT;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(kf=!0,h.add(a),t=PT.bind(null,t,i,a),i.then(t,t))}function PT(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,$e===t&&(xe&a)===a&&(st===4||st===3&&(xe&62914560)===xe&&300>tn()-Uf?(Je&2)===0&&Aa(t,0):Lf|=a,Sa===xe&&(Sa=0)),ei(t)}function yy(t,i){i===0&&(i=er()),t=fr(t,i),t!==null&&(lt(t,i),ei(t))}function UT(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),yy(t,a)}function zT(t,i){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),yy(t,a)}function BT(t,i){return Zr(t,i)}var Ju=null,Ra=null,Qf=!1,ec=!1,Yf=!1,Is=0;function ei(t){t!==Ra&&t.next===null&&(Ra===null?Ju=Ra=t:Ra=Ra.next=t),ec=!0,Qf||(Qf=!0,qT(HT))}function nl(t,i){if(!Yf&&ec){Yf=!0;do for(var a=!1,l=Ju;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,E=l.pingedLanes;d=(1<<31-$t(42|t)+1)-1,d&=h&~(v&~E),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(a=!0,Ey(l,d))}else d=xe,d=pn(l,l===$e?d:0),(d&3)===0||Ji(l,d)||(a=!0,Ey(l,d));l=l.next}while(a);Yf=!1}}function HT(){ec=Qf=!1;var t=0;Is!==0&&(XT()&&(t=Is),Is=0);for(var i=tn(),a=null,l=Ju;l!==null;){var h=l.next,d=_y(l,i);d===0?(l.next=null,a===null?Ju=h:a.next=h,h===null&&(Ra=a)):(a=l,(t!==0||(d&3)!==0)&&(ec=!0)),l=h}nl(t)}function _y(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-$t(d),E=1<<v,w=h[v];w===-1?((E&a)===0||(E&l)!==0)&&(h[v]=Fs(E,i)):w<=i&&(t.expiredLanes|=E),d&=~E}if(i=$e,a=xe,a=pn(t,t===i?a:0),l=t.callbackNode,a===0||t===i&&Xe===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&js(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Ji(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&js(l),tu(a)){case 2:case 8:a=Ct;break;case 32:a=fi;break;case 268435456:a=uo;break;default:a=fi}return l=vy.bind(null,t),a=Zr(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&js(l),t.callbackPriority=2,t.callbackNode=null,2}function vy(t,i){var a=t.callbackNode;if(wa()&&t.callbackNode!==a)return null;var l=xe;return l=pn(t,t===$e?l:0),l===0?null:(ay(t,l,i),_y(t,tn()),t.callbackNode!=null&&t.callbackNode===a?vy.bind(null,t):null)}function Ey(t,i){if(wa())return null;ay(t,i,!0)}function qT(t){WT(function(){(Je&6)!==0?Zr(vt,t):t()})}function $f(){return Is===0&&(Is=fo()),Is}function Ty(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:jn(""+t)}function Sy(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function jT(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=Ty((h[Et]||null).action),v=l.submitter;v&&(i=(i=v[Et]||null)?Ty(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var E=new Zs("action","action",null,l,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Is!==0){var w=v?Sy(h,v):new FormData(h);rf(a,{pending:!0,data:w,method:h.method,action:d},null,w)}}else typeof d=="function"&&(E.preventDefault(),w=v?Sy(h,v):new FormData(h),rf(a,{pending:!0,data:w,method:h.method,action:d},d,w))},currentTarget:h}]})}}for(var Xf=0;Xf<mp.length;Xf++){var Zf=mp[Xf],FT=Zf.toLowerCase(),GT=Zf[0].toUpperCase()+Zf.slice(1);xn(FT,"on"+GT)}xn(up,"onAnimationEnd"),xn(cp,"onAnimationIteration"),xn(hp,"onAnimationStart"),xn("dblclick","onDoubleClick"),xn("focusin","onFocus"),xn("focusout","onBlur"),xn(lT,"onTransitionRun"),xn(uT,"onTransitionStart"),xn(cT,"onTransitionCancel"),xn(fp,"onTransitionEnd"),nn("onMouseEnter",["mouseout","mouseover"]),nn("onMouseLeave",["mouseout","mouseover"]),nn("onPointerEnter",["pointerout","pointerover"]),nn("onPointerLeave",["pointerout","pointerover"]),on("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),on("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),on("onBeforeInput",["compositionend","keypress","textInput","paste"]),on("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),on("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),on("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(il));function Ay(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var E=l[v],w=E.instance,x=E.currentTarget;if(E=E.listener,w!==d&&h.isPropagationStopped())break e;d=E,h.currentTarget=x;try{d(h)}catch(G){Bu(G)}h.currentTarget=null,d=w}else for(v=0;v<l.length;v++){if(E=l[v],w=E.instance,x=E.currentTarget,E=E.listener,w!==d&&h.isPropagationStopped())break e;d=E,h.currentTarget=x;try{d(h)}catch(G){Bu(G)}h.currentTarget=null,d=w}}}}function Ne(t,i){var a=i[Jr];a===void 0&&(a=i[Jr]=new Set);var l=t+"__bubble";a.has(l)||(by(i,t,2,!1),a.add(l))}function Wf(t,i,a){var l=0;i&&(l|=4),by(a,t,l,i)}var tc="_reactListening"+Math.random().toString(36).slice(2);function Jf(t){if(!t[tc]){t[tc]=!0,po.forEach(function(a){a!=="selectionchange"&&(KT.has(a)||Wf(a,!1,t),Wf(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[tc]||(i[tc]=!0,Wf("selectionchange",!1,i))}}function by(t,i,a,l){switch(Qy(i)){case 2:var h=_S;break;case 8:h=vS;break;default:h=fd}a=h.bind(null,i,a,t),h=void 0,!vn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function ed(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var E=l.stateNode.containerInfo;if(E===h||E.nodeType===8&&E.parentNode===h)break;if(v===4)for(v=l.return;v!==null;){var w=v.tag;if((w===3||w===4)&&(w=v.stateNode.containerInfo,w===h||w.nodeType===8&&w.parentNode===h))return;v=v.return}for(;E!==null;){if(v=Vn(E),v===null)return;if(w=v.tag,w===5||w===6||w===26||w===27){l=d=v;continue e}E=E.parentNode}}l=l.return}au(function(){var x=d,G=Xs(a),X=[];e:{var H=dp.get(t);if(H!==void 0){var F=Zs,ce=t;switch(t){case"keypress":if(Gn(a)===0)break e;case"keydown":case"keyup":F=ia;break;case"focusin":ce="focus",F=ea;break;case"focusout":ce="blur",F=ea;break;case"beforeblur":case"afterblur":F=ea;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=En;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=wh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=mu;break;case up:case cp:case hp:F=ta;break;case fp:F=gu;break;case"scroll":case"scrollend":F=ou;break;case"wheel":F=ra;break;case"copy":case"cut":case"paste":F=na;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Co;break;case"toggle":case"beforetoggle":F=_u}var Ee=(i&4)!==0,at=!Ee&&(t==="scroll"||t==="scrollend"),k=Ee?H!==null?H+"Capture":null:H;Ee=[];for(var N=x,z;N!==null;){var Q=N;if(z=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||z===null||k===null||(Q=rs(N,k),Q!=null&&Ee.push(rl(N,Q,z))),at)break;N=N.return}0<Ee.length&&(H=new F(H,ce,null,a,G),X.push({event:H,listeners:Ee}))}}if((i&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",H&&a!==_n&&(ce=a.relatedTarget||a.fromElement)&&(Vn(ce)||ce[di]))break e;if((F||H)&&(H=G.window===G?G:(H=G.ownerDocument)?H.defaultView||H.parentWindow:window,F?(ce=a.relatedTarget||a.toElement,F=x,ce=ce?Vn(ce):null,ce!==null&&(at=de(ce),Ee=ce.tag,ce!==at||Ee!==5&&Ee!==27&&Ee!==6)&&(ce=null)):(F=null,ce=x),F!==ce)){if(Ee=En,Q="onMouseLeave",k="onMouseEnter",N="mouse",(t==="pointerout"||t==="pointerover")&&(Ee=Co,Q="onPointerLeave",k="onPointerEnter",N="pointer"),at=F==null?H:sr(F),z=ce==null?H:sr(ce),H=new Ee(Q,N+"leave",F,a,G),H.target=at,H.relatedTarget=z,Q=null,Vn(G)===x&&(Ee=new Ee(k,N+"enter",ce,a,G),Ee.target=z,Ee.relatedTarget=at,Q=Ee),at=Q,F&&ce)t:{for(Ee=F,k=ce,N=0,z=Ee;z;z=Ca(z))N++;for(z=0,Q=k;Q;Q=Ca(Q))z++;for(;0<N-z;)Ee=Ca(Ee),N--;for(;0<z-N;)k=Ca(k),z--;for(;N--;){if(Ee===k||k!==null&&Ee===k.alternate)break t;Ee=Ca(Ee),k=Ca(k)}Ee=null}else Ee=null;F!==null&&wy(X,H,F,Ee,!1),ce!==null&&at!==null&&wy(X,at,ce,Ee,!0)}}e:{if(H=x?sr(x):window,F=H.nodeName&&H.nodeName.toLowerCase(),F==="select"||F==="input"&&H.type==="file")var oe=Wm;else if(St(H))if(Jm)oe=rT;else{oe=nT;var Ie=tT}else F=H.nodeName,!F||F.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?x&&Eo(x.elementType)&&(oe=Wm):oe=iT;if(oe&&(oe=oe(t,x))){Ti(X,oe,a,G);break e}Ie&&Ie(t,H,x),t==="focusout"&&x&&H.type==="number"&&x.memoizedProps.value!=null&&$s(H,"number",H.value)}switch(Ie=x?sr(x):window,t){case"focusin":(St(Ie)||Ie.contentEditable==="true")&&(sa=Ie,Oh=x,Oo=null);break;case"focusout":Oo=Oh=sa=null;break;case"mousedown":Nh=!0;break;case"contextmenu":case"mouseup":case"dragend":Nh=!1,op(X,a,G);break;case"selectionchange":if(oT)break;case"keydown":case"keyup":op(X,a,G)}var fe;if(Yn)e:{switch(t){case"compositionstart":var pe="onCompositionStart";break e;case"compositionend":pe="onCompositionEnd";break e;case"compositionupdate":pe="onCompositionUpdate";break e}pe=void 0}else Me?q(t,a)&&(pe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(pe="onCompositionStart");pe&&(_&&a.locale!=="ko"&&(Me||pe!=="onCompositionStart"?pe==="onCompositionEnd"&&Me&&(fe=So()):(Fn=G,hr="value"in Fn?Fn.value:Fn.textContent,Me=!0)),Ie=nc(x,pe),0<Ie.length&&(pe=new wo(pe,t,null,a,G),X.push({event:pe,listeners:Ie}),fe?pe.data=fe:(fe=ee(a),fe!==null&&(pe.data=fe)))),(fe=p?Tt(t,a):Ve(t,a))&&(pe=nc(x,"onBeforeInput"),0<pe.length&&(Ie=new wo("onBeforeInput","beforeinput",null,a,G),X.push({event:Ie,listeners:pe}),Ie.data=fe)),jT(X,t,x,a,G)}Ay(X,i)})}function rl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function nc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=rs(t,a),h!=null&&l.unshift(rl(t,h,d)),h=rs(t,i),h!=null&&l.push(rl(t,h,d))),t=t.return}return l}function Ca(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function wy(t,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var E=a,w=E.alternate,x=E.stateNode;if(E=E.tag,w!==null&&w===l)break;E!==5&&E!==26&&E!==27||x===null||(w=x,h?(x=rs(a,d),x!=null&&v.unshift(rl(a,x,w))):h||(x=rs(a,d),x!=null&&v.push(rl(a,x,w)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var QT=/\r\n?/g,YT=/\u0000|\uFFFD/g;function Ry(t){return(typeof t=="string"?t:""+t).replace(QT,`
`).replace(YT,"")}function Cy(t,i){return i=Ry(i),Ry(t)===i}function ic(){}function Qe(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||yn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&yn(t,""+l);break;case"className":lr(t,"class",l);break;case"tabIndex":lr(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":lr(t,a,l);break;case"style":su(t,l,d);break;case"data":if(i!=="object"){lr(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=jn(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Qe(t,i,"name",h.name,h,null),Qe(t,i,"formEncType",h.formEncType,h,null),Qe(t,i,"formMethod",h.formMethod,h,null),Qe(t,i,"formTarget",h.formTarget,h,null)):(Qe(t,i,"encType",h.encType,h,null),Qe(t,i,"method",h.method,h,null),Qe(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=jn(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=ic);break;case"onScroll":l!=null&&Ne("scroll",t);break;case"onScrollEnd":l!=null&&Ne("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=jn(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ne("beforetoggle",t),Ne("toggle",t),or(t,"popover",l);break;case"xlinkActuate":gn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":gn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":gn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":gn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":gn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":gn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":gn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":gn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":gn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":or(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ah.get(a)||a,or(t,a,l))}}function td(t,i,a,l,h,d){switch(a){case"style":su(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?yn(t,l):(typeof l=="number"||typeof l=="bigint")&&yn(t,""+l);break;case"onScroll":l!=null&&Ne("scroll",t);break;case"onScrollEnd":l!=null&&Ne("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ic);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Qs.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[Et]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):or(t,a,l)}}}function Ut(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ne("error",t),Ne("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Qe(t,i,d,v,a,null)}}h&&Qe(t,i,"srcSet",a.srcSet,a,null),l&&Qe(t,i,"src",a.src,a,null);return;case"input":Ne("invalid",t);var E=d=v=h=null,w=null,x=null;for(l in a)if(a.hasOwnProperty(l)){var G=a[l];if(G!=null)switch(l){case"name":h=G;break;case"type":v=G;break;case"checked":w=G;break;case"defaultChecked":x=G;break;case"value":d=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:Qe(t,i,l,G,a,null)}}ns(t,d,E,w,x,v,h,!1),ts(t);return;case"select":Ne("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":d=E;break;case"defaultValue":v=E;break;case"multiple":l=E;default:Qe(t,i,h,E,a,null)}i=d,a=v,t.multiple=!!l,i!=null?Be(t,!!l,i,!1):a!=null&&Be(t,!!l,a,!0);return;case"textarea":Ne("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(E=a[v],E!=null))switch(v){case"value":l=E;break;case"defaultValue":h=E;break;case"children":d=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Qe(t,i,v,E,a,null)}cr(t,l,h,d),ts(t);return;case"option":for(w in a)if(a.hasOwnProperty(w)&&(l=a[w],l!=null))switch(w){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Qe(t,i,w,l,a,null)}return;case"dialog":Ne("cancel",t),Ne("close",t);break;case"iframe":case"object":Ne("load",t);break;case"video":case"audio":for(l=0;l<il.length;l++)Ne(il[l],t);break;case"image":Ne("error",t),Ne("load",t);break;case"details":Ne("toggle",t);break;case"embed":case"source":case"link":Ne("error",t),Ne("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(x in a)if(a.hasOwnProperty(x)&&(l=a[x],l!=null))switch(x){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Qe(t,i,x,l,a,null)}return;default:if(Eo(i)){for(G in a)a.hasOwnProperty(G)&&(l=a[G],l!==void 0&&td(t,i,G,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Qe(t,i,E,l,a,null))}function $T(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,E=null,w=null,x=null,G=null;for(F in a){var X=a[F];if(a.hasOwnProperty(F)&&X!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":w=X;default:l.hasOwnProperty(F)||Qe(t,i,F,null,l,X)}}for(var H in l){var F=l[H];if(X=a[H],l.hasOwnProperty(H)&&(F!=null||X!=null))switch(H){case"type":d=F;break;case"name":h=F;break;case"checked":x=F;break;case"defaultChecked":G=F;break;case"value":v=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:F!==X&&Qe(t,i,H,F,l,X)}}ur(t,v,E,w,x,G,d,h);return;case"select":F=v=E=H=null;for(d in a)if(w=a[d],a.hasOwnProperty(d)&&w!=null)switch(d){case"value":break;case"multiple":F=w;default:l.hasOwnProperty(d)||Qe(t,i,d,null,l,w)}for(h in l)if(d=l[h],w=a[h],l.hasOwnProperty(h)&&(d!=null||w!=null))switch(h){case"value":H=d;break;case"defaultValue":E=d;break;case"multiple":v=d;default:d!==w&&Qe(t,i,h,d,l,w)}i=E,a=v,l=F,H!=null?Be(t,!!a,H,!1):!!l!=!!a&&(i!=null?Be(t,!!a,i,!0):Be(t,!!a,a?[]:"",!1));return;case"textarea":F=H=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Qe(t,i,E,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":H=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Qe(t,i,v,h,l,d)}is(t,H,F);return;case"option":for(var ce in a)if(H=a[ce],a.hasOwnProperty(ce)&&H!=null&&!l.hasOwnProperty(ce))switch(ce){case"selected":t.selected=!1;break;default:Qe(t,i,ce,null,l,H)}for(w in l)if(H=l[w],F=a[w],l.hasOwnProperty(w)&&H!==F&&(H!=null||F!=null))switch(w){case"selected":t.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Qe(t,i,w,H,l,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in a)H=a[Ee],a.hasOwnProperty(Ee)&&H!=null&&!l.hasOwnProperty(Ee)&&Qe(t,i,Ee,null,l,H);for(x in l)if(H=l[x],F=a[x],l.hasOwnProperty(x)&&H!==F&&(H!=null||F!=null))switch(x){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:Qe(t,i,x,H,l,F)}return;default:if(Eo(i)){for(var at in a)H=a[at],a.hasOwnProperty(at)&&H!==void 0&&!l.hasOwnProperty(at)&&td(t,i,at,void 0,l,H);for(G in l)H=l[G],F=a[G],!l.hasOwnProperty(G)||H===F||H===void 0&&F===void 0||td(t,i,G,H,l,F);return}}for(var k in a)H=a[k],a.hasOwnProperty(k)&&H!=null&&!l.hasOwnProperty(k)&&Qe(t,i,k,null,l,H);for(X in l)H=l[X],F=a[X],!l.hasOwnProperty(X)||H===F||H==null&&F==null||Qe(t,i,X,H,l,F)}var nd=null,id=null;function rc(t){return t.nodeType===9?t:t.ownerDocument}function Iy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Dy(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function rd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var sd=null;function XT(){var t=window.event;return t&&t.type==="popstate"?t===sd?!1:(sd=t,!0):(sd=null,!1)}var Oy=typeof setTimeout=="function"?setTimeout:void 0,ZT=typeof clearTimeout=="function"?clearTimeout:void 0,Ny=typeof Promise=="function"?Promise:void 0,WT=typeof queueMicrotask=="function"?queueMicrotask:typeof Ny<"u"?function(t){return Ny.resolve(null).then(t).catch(JT)}:Oy;function JT(t){setTimeout(function(){throw t})}function ad(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(l===0){t.removeChild(h),fl(i);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=h}while(a);fl(i)}function od(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":od(a),es(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function eS(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[rr])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Pn(t.nextSibling),t===null)break}return null}function tS(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Pn(t.nextSibling),t===null))return null;return t}function Pn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}function My(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function Vy(t,i,a){switch(i=rc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}var On=new Map,xy=new Set;function sc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var Li=se.d;se.d={f:nS,r:iS,D:rS,C:sS,L:aS,m:oS,X:uS,S:lS,M:cS};function nS(){var t=Li.f(),i=Zu();return t||i}function iS(t){var i=mi(t);i!==null&&i.tag===5&&i.type==="form"?og(i):Li.r(t)}var Ia=typeof document>"u"?null:document;function ky(t,i,a){var l=Ia;if(l&&typeof i=="string"&&i){var h=it(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),xy.has(h)||(xy.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Ut(i,"link",t),Ze(i),l.head.appendChild(i)))}}function rS(t){Li.D(t),ky("dns-prefetch",t,null)}function sS(t,i){Li.C(t,i),ky("preconnect",t,i)}function aS(t,i,a){Li.L(t,i,a);var l=Ia;if(l&&t&&i){var h='link[rel="preload"][as="'+it(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+it(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+it(a.imageSizes)+'"]')):h+='[href="'+it(t)+'"]';var d=h;switch(i){case"style":d=Da(t);break;case"script":d=Oa(t)}On.has(d)||(t=C({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),On.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(sl(d))||i==="script"&&l.querySelector(al(d))||(i=l.createElement("link"),Ut(i,"link",t),Ze(i),l.head.appendChild(i)))}}function oS(t,i){Li.m(t,i);var a=Ia;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+it(l)+'"][href="'+it(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Oa(t)}if(!On.has(d)&&(t=C({rel:"modulepreload",href:t},i),On.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(al(d)))return}l=a.createElement("link"),Ut(l,"link",t),Ze(l),a.head.appendChild(l)}}}function lS(t,i,a){Li.S(t,i,a);var l=Ia;if(l&&t){var h=ar(l).hoistableStyles,d=Da(t);i=i||"default";var v=h.get(d);if(!v){var E={loading:0,preload:null};if(v=l.querySelector(sl(d)))E.loading=5;else{t=C({rel:"stylesheet",href:t,"data-precedence":i},a),(a=On.get(d))&&ld(t,a);var w=v=l.createElement("link");Ze(w),Ut(w,"link",t),w._p=new Promise(function(x,G){w.onload=x,w.onerror=G}),w.addEventListener("load",function(){E.loading|=1}),w.addEventListener("error",function(){E.loading|=2}),E.loading|=4,ac(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:E},h.set(d,v)}}}function uS(t,i){Li.X(t,i);var a=Ia;if(a&&t){var l=ar(a).hoistableScripts,h=Oa(t),d=l.get(h);d||(d=a.querySelector(al(h)),d||(t=C({src:t,async:!0},i),(i=On.get(h))&&ud(t,i),d=a.createElement("script"),Ze(d),Ut(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function cS(t,i){Li.M(t,i);var a=Ia;if(a&&t){var l=ar(a).hoistableScripts,h=Oa(t),d=l.get(h);d||(d=a.querySelector(al(h)),d||(t=C({src:t,async:!0,type:"module"},i),(i=On.get(h))&&ud(t,i),d=a.createElement("script"),Ze(d),Ut(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Ly(t,i,a,l){var h=(h=mn.current)?sc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Da(a.href),a=ar(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Da(a.href);var d=ar(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(sl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),On.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},On.set(t,a),d||hS(h,t,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Oa(a),a=ar(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Da(t){return'href="'+it(t)+'"'}function sl(t){return'link[rel="stylesheet"]['+t+"]"}function Py(t){return C({},t,{"data-precedence":t.precedence,precedence:null})}function hS(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Ut(i,"link",a),Ze(i),t.head.appendChild(i))}function Oa(t){return'[src="'+it(t)+'"]'}function al(t){return"script[async]"+t}function Uy(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+it(a.href)+'"]');if(l)return i.instance=l,Ze(l),l;var h=C({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Ze(l),Ut(l,"style",h),ac(l,a.precedence,t),i.instance=l;case"stylesheet":h=Da(a.href);var d=t.querySelector(sl(h));if(d)return i.state.loading|=4,i.instance=d,Ze(d),d;l=Py(a),(h=On.get(h))&&ld(l,h),d=(t.ownerDocument||t).createElement("link"),Ze(d);var v=d;return v._p=new Promise(function(E,w){v.onload=E,v.onerror=w}),Ut(d,"link",l),i.state.loading|=4,ac(d,a.precedence,t),i.instance=d;case"script":return d=Oa(a.src),(h=t.querySelector(al(d)))?(i.instance=h,Ze(h),h):(l=a,(h=On.get(d))&&(l=C({},a),ud(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Ze(h),Ut(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,ac(l,a.precedence,t));return i.instance}function ac(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var E=l[v];if(E.dataset.precedence===i)d=E;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function ld(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function ud(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var oc=null;function zy(t,i,a){if(oc===null){var l=new Map,h=oc=new Map;h.set(a,l)}else h=oc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[rr]||d[It]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var E=l.get(v);E?E.push(d):l.set(v,[d])}}return l}function By(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function fS(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Hy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var ol=null;function dS(){}function mS(t,i,a){if(ol===null)throw Error(s(475));var l=ol;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Da(a.href),d=t.querySelector(sl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=lc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,Ze(d);return}d=t.ownerDocument||t,a=Py(a),(h=On.get(h))&&ld(a,h),d=d.createElement("link"),Ze(d);var v=d;v._p=new Promise(function(E,w){v.onload=E,v.onerror=w}),Ut(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=lc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function pS(){if(ol===null)throw Error(s(475));var t=ol;return t.stylesheets&&t.count===0&&cd(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&cd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function lc(){if(this.count--,this.count===0){if(this.stylesheets)cd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var uc=null;function cd(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,uc=new Map,i.forEach(gS,t),uc=null,lc.call(t))}function gS(t,i){if(!(i.state.loading&4)){var a=uc.get(t);if(a)var l=a.get(null);else{a=new Map,uc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=lc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var ll={$$typeof:L,Provider:null,Consumer:null,_currentValue:Re,_currentValue2:Re,_threadCount:0};function yS(t,i,a,l,h,d,v,E){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gs(0),this.hiddenUpdates=Gs(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function qy(t,i,a,l,h,d,v,E,w,x,G,X){return t=new yS(t,i,a,v,E,w,x,X),i=1,d===!0&&(i|=24),d=In(3,null,null,i),t.current=d,d.stateNode=t,i=Hh(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Sf(d),t}function jy(t){return t?(t=la,t):la}function Fy(t,i,a,l,h,d){h=jy(h),l.context===null?l.context=h:l.pendingContext=h,l=vr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Er(t,l,i),a!==null&&(Jt(a,t,i),Go(a,t,i))}function Gy(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function hd(t,i){Gy(t,i),(t=t.alternate)&&Gy(t,i)}function Ky(t){if(t.tag===13){var i=fr(t,67108864);i!==null&&Jt(i,t,67108864),hd(t,67108864)}}var cc=!0;function _S(t,i,a,l){var h=A.T;A.T=null;var d=se.p;try{se.p=2,fd(t,i,a,l)}finally{se.p=d,A.T=h}}function vS(t,i,a,l){var h=A.T;A.T=null;var d=se.p;try{se.p=8,fd(t,i,a,l)}finally{se.p=d,A.T=h}}function fd(t,i,a,l){if(cc){var h=dd(l);if(h===null)ed(t,i,l,hc,a),Yy(t,l);else if(TS(h,t,i,a,l))l.stopPropagation();else if(Yy(t,l),i&4&&-1<ES.indexOf(t)){for(;h!==null;){var d=mi(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Mn(d.pendingLanes);if(v!==0){var E=d;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var w=1<<31-$t(v);E.entanglements[1]|=w,v&=~w}ei(d),(Je&6)===0&&(Yu=tn()+500,nl(0))}}break;case 13:E=fr(d,2),E!==null&&Jt(E,d,2),Zu(),hd(d,2)}if(d=dd(l),d===null&&ed(t,i,l,hc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else ed(t,i,l,null,a)}}function dd(t){return t=Xs(t),md(t)}var hc=null;function md(t){if(hc=null,t=Vn(t),t!==null){var i=de(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=je(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return hc=t,null}function Qy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xl()){case vt:return 2;case Ct:return 8;case fi:case Zl:return 32;case uo:return 268435456;default:return 32}default:return 32}}var pd=!1,Cr=null,Ir=null,Dr=null,ul=new Map,cl=new Map,Or=[],ES="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Yy(t,i){switch(t){case"focusin":case"focusout":Cr=null;break;case"dragenter":case"dragleave":Ir=null;break;case"mouseover":case"mouseout":Dr=null;break;case"pointerover":case"pointerout":ul.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":cl.delete(i.pointerId)}}function hl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=mi(i),i!==null&&Ky(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function TS(t,i,a,l,h){switch(i){case"focusin":return Cr=hl(Cr,t,i,a,l,h),!0;case"dragenter":return Ir=hl(Ir,t,i,a,l,h),!0;case"mouseover":return Dr=hl(Dr,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return ul.set(d,hl(ul.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,cl.set(d,hl(cl.get(d)||null,t,i,a,l,h)),!0}return!1}function $y(t){var i=Vn(t.target);if(i!==null){var a=de(i);if(a!==null){if(i=a.tag,i===13){if(i=je(a),i!==null){t.blockedOn=i,ir(t.priority,function(){if(a.tag===13){var l=dn(),h=fr(a,l);h!==null&&Jt(h,a,l),hd(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function fc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=dd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);_n=l,a.target.dispatchEvent(l),_n=null}else return i=mi(a),i!==null&&Ky(i),t.blockedOn=a,!1;i.shift()}return!0}function Xy(t,i,a){fc(t)&&a.delete(i)}function SS(){pd=!1,Cr!==null&&fc(Cr)&&(Cr=null),Ir!==null&&fc(Ir)&&(Ir=null),Dr!==null&&fc(Dr)&&(Dr=null),ul.forEach(Xy),cl.forEach(Xy)}function dc(t,i){t.blockedOn===i&&(t.blockedOn=null,pd||(pd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,SS)))}var mc=null;function Zy(t){mc!==t&&(mc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){mc===t&&(mc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(md(l||a)===null)continue;break}var d=mi(a);d!==null&&(t.splice(i,3),i-=3,rf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function fl(t){function i(w){return dc(w,t)}Cr!==null&&dc(Cr,t),Ir!==null&&dc(Ir,t),Dr!==null&&dc(Dr,t),ul.forEach(i),cl.forEach(i);for(var a=0;a<Or.length;a++){var l=Or[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Or.length&&(a=Or[0],a.blockedOn===null);)$y(a),a.blockedOn===null&&Or.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[Et]||null;if(typeof d=="function")v||Zy(a);else if(v){var E=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[Et]||null)E=v.formAction;else if(md(h)!==null)continue}else E=v.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),Zy(a)}}}function gd(t){this._internalRoot=t}pc.prototype.render=gd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=dn();Fy(a,l,t,i,null,null)},pc.prototype.unmount=gd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;t.tag===0&&wa(),Fy(t.current,2,null,t,null,null),Zu(),i[di]=null}};function pc(t){this._internalRoot=t}pc.prototype.unstable_scheduleHydration=function(t){if(t){var i=nu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Or.length&&i!==0&&i<Or[a].priority;a++);Or.splice(a,0,t),a===0&&$y(t)}};var Wy=e.version;if(Wy!=="19.0.0")throw Error(s(527,Wy,"19.0.0"));se.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=W(i),t=t!==null?he(t):null,t=t===null?null:t.stateNode,t};var AS={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:A,findFiberByHostInstance:Vn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gc.isDisabled&&gc.supportsFiber)try{Zi=gc.inject(AS),Ht=gc}catch{}}return ml.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=pg,d=gg,v=yg,E=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(E=i.unstable_transitionCallbacks)),i=qy(t,1,!1,null,null,a,l,h,d,v,E,null),t[di]=i.current,Jf(t.nodeType===8?t.parentNode:t),new gd(i)},ml.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=pg,v=gg,E=yg,w=null,x=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(w=a.unstable_transitionCallbacks),a.formState!==void 0&&(x=a.formState)),i=qy(t,1,!0,i,a??null,l,h,d,v,E,w,x),i.context=jy(null),a=i.current,l=dn(),h=vr(l),h.callback=null,Er(a,h,l),i.current.lanes=l,lt(i,l),ei(i),t[di]=i.current,Jf(t),new pc(i)},ml.version="19.0.0",ml}var l_;function VS(){if(l_)return vd.exports;l_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),vd.exports=MS(),vd.exports}var xS=VS(),pl={},u_;function kS(){if(u_)return pl;u_=1,Object.defineProperty(pl,"__esModule",{value:!0}),pl.parse=f,pl.serialize=y;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const D=function(){};return D.prototype=Object.create(null),D})();function f(D,L){const B=new u,Z=D.length;if(Z<2)return B;const j=(L==null?void 0:L.decode)||T;let $=0;do{const te=D.indexOf("=",$);if(te===-1)break;const J=D.indexOf(";",$),me=J===-1?Z:J;if(te>me){$=D.lastIndexOf(";",te-1)+1;continue}const ue=m(D,$,te),Se=g(D,te,ue),M=D.slice(ue,Se);if(B[M]===void 0){let b=m(D,te+1,me),A=g(D,me,b);const C=j(D.slice(b,A));B[M]=C}$=me+1}while($<Z);return B}function m(D,L,B){do{const Z=D.charCodeAt(L);if(Z!==32&&Z!==9)return L}while(++L<B);return B}function g(D,L,B){for(;L>B;){const Z=D.charCodeAt(--L);if(Z!==32&&Z!==9)return L+1}return B}function y(D,L,B){const Z=(B==null?void 0:B.encode)||encodeURIComponent;if(!r.test(D))throw new TypeError(`argument name is invalid: ${D}`);const j=Z(L);if(!e.test(j))throw new TypeError(`argument val is invalid: ${L}`);let $=D+"="+j;if(!B)return $;if(B.maxAge!==void 0){if(!Number.isInteger(B.maxAge))throw new TypeError(`option maxAge is invalid: ${B.maxAge}`);$+="; Max-Age="+B.maxAge}if(B.domain){if(!n.test(B.domain))throw new TypeError(`option domain is invalid: ${B.domain}`);$+="; Domain="+B.domain}if(B.path){if(!s.test(B.path))throw new TypeError(`option path is invalid: ${B.path}`);$+="; Path="+B.path}if(B.expires){if(!R(B.expires)||!Number.isFinite(B.expires.valueOf()))throw new TypeError(`option expires is invalid: ${B.expires}`);$+="; Expires="+B.expires.toUTCString()}if(B.httpOnly&&($+="; HttpOnly"),B.secure&&($+="; Secure"),B.partitioned&&($+="; Partitioned"),B.priority)switch(typeof B.priority=="string"?B.priority.toLowerCase():void 0){case"low":$+="; Priority=Low";break;case"medium":$+="; Priority=Medium";break;case"high":$+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${B.priority}`)}if(B.sameSite)switch(typeof B.sameSite=="string"?B.sameSite.toLowerCase():B.sameSite){case!0:case"strict":$+="; SameSite=Strict";break;case"lax":$+="; SameSite=Lax";break;case"none":$+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${B.sameSite}`)}return $}function T(D){if(D.indexOf("%")===-1)return D;try{return decodeURIComponent(D)}catch{return D}}function R(D){return o.call(D)==="[object Date]"}return pl}kS();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var c_="popstate";function LS(r={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return Pd("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Dl(o)}return US(e,n,null,r)}function et(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function ai(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function PS(){return Math.random().toString(36).substring(2,10)}function h_(r,e){return{usr:r.state,key:r.key,idx:e}}function Pd(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Ja(e):e,state:n,key:e&&e.key||s||PS()}}function Dl({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Ja(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function US(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",g=null,y=T();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function T(){return(f.state||{idx:null}).idx}function R(){m="POP";let j=T(),$=j==null?null:j-y;y=j,g&&g({action:m,location:Z.location,delta:$})}function D(j,$){m="PUSH";let te=Pd(Z.location,j,$);y=T()+1;let J=h_(te,y),me=Z.createHref(te);try{f.pushState(J,"",me)}catch(ue){if(ue instanceof DOMException&&ue.name==="DataCloneError")throw ue;o.location.assign(me)}u&&g&&g({action:m,location:Z.location,delta:1})}function L(j,$){m="REPLACE";let te=Pd(Z.location,j,$);y=T();let J=h_(te,y),me=Z.createHref(te);f.replaceState(J,"",me),u&&g&&g({action:m,location:Z.location,delta:0})}function B(j){let $=o.location.origin!=="null"?o.location.origin:o.location.href,te=typeof j=="string"?j:Dl(j);return te=te.replace(/ $/,"%20"),et($,`No window.location.(origin|href) available to create URL for href: ${te}`),new URL(te,$)}let Z={get action(){return m},get location(){return r(o,f)},listen(j){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(c_,R),g=j,()=>{o.removeEventListener(c_,R),g=null}},createHref(j){return e(o,j)},createURL:B,encodeLocation(j){let $=B(j);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:D,replace:L,go(j){return f.go(j)}};return Z}function Bv(r,e,n="/"){return zS(r,e,n,!1)}function zS(r,e,n,s){let o=typeof e=="string"?Ja(e):e,u=jr(o.pathname||"/",n);if(u==null)return null;let f=Hv(r);BS(f);let m=null;for(let g=0;m==null&&g<f.length;++g){let y=ZS(u);m=$S(f[g],y,s)}return m}function Hv(r,e=[],n=[],s=""){let o=(u,f,m)=>{let g={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};g.relativePath.startsWith("/")&&(et(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length));let y=Bi([s,g.relativePath]),T=n.concat(g);u.children&&u.children.length>0&&(et(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),Hv(u.children,e,T,y)),!(u.path==null&&!u.index)&&e.push({path:y,score:QS(y,u.index),routesMeta:T})};return r.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let g of qv(u.path))o(u,f,g)}),e}function qv(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=qv(s.join("/")),m=[];return m.push(...f.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...f),m.map(g=>r.startsWith("/")&&g===""?"/":g)}function BS(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:YS(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var HS=/^:[\w-]+$/,qS=3,jS=2,FS=1,GS=10,KS=-2,f_=r=>r==="*";function QS(r,e){let n=r.split("/"),s=n.length;return n.some(f_)&&(s+=KS),e&&(s+=jS),n.filter(o=>!f_(o)).reduce((o,u)=>o+(HS.test(u)?qS:u===""?FS:GS),s)}function YS(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function $S(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let g=s[m],y=m===s.length-1,T=u==="/"?e:e.slice(u.length)||"/",R=Pc({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},T),D=g.route;if(!R&&y&&n&&!s[s.length-1].route.index&&(R=Pc({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},T)),!R)return null;Object.assign(o,R.params),f.push({params:o,pathname:Bi([u,R.pathname]),pathnameBase:tA(Bi([u,R.pathnameBase])),route:D}),R.pathnameBase!=="/"&&(u=Bi([u,R.pathnameBase]))}return f}function Pc(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=XS(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:T,isOptional:R},D)=>{if(T==="*"){let B=m[D]||"";f=u.slice(0,u.length-B.length).replace(/(.)\/+$/,"$1")}const L=m[D];return R&&!L?y[T]=void 0:y[T]=(L||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function XS(r,e=!1,n=!0){ai(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function ZS(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ai(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function jr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function WS(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?Ja(r):r;return{pathname:n?n.startsWith("/")?n:JS(n,e):e,search:nA(s),hash:iA(o)}}function JS(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Ad(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function eA(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function jv(r){let e=eA(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Fv(r,e,n,s=!1){let o;typeof r=="string"?o=Ja(r):(o={...r},et(!o.pathname||!o.pathname.includes("?"),Ad("?","pathname","search",o)),et(!o.pathname||!o.pathname.includes("#"),Ad("#","pathname","hash",o)),et(!o.search||!o.search.includes("#"),Ad("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let R=e.length-1;if(!s&&f.startsWith("..")){let D=f.split("/");for(;D[0]==="..";)D.shift(),R-=1;o.pathname=D.join("/")}m=R>=0?e[R]:"/"}let g=WS(o,m),y=f&&f!=="/"&&f.endsWith("/"),T=(u||f===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||T)&&(g.pathname+="/"),g}var Bi=r=>r.join("/").replace(/\/\/+/g,"/"),tA=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),nA=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,iA=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function rA(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var Gv=["POST","PUT","PATCH","DELETE"];new Set(Gv);var sA=["GET",...Gv];new Set(sA);var eo=K.createContext(null);eo.displayName="DataRouter";var Jc=K.createContext(null);Jc.displayName="DataRouterState";var Kv=K.createContext({isTransitioning:!1});Kv.displayName="ViewTransition";var aA=K.createContext(new Map);aA.displayName="Fetchers";var oA=K.createContext(null);oA.displayName="Await";var ui=K.createContext(null);ui.displayName="Navigation";var Ll=K.createContext(null);Ll.displayName="Location";var Gi=K.createContext({outlet:null,matches:[],isDataRoute:!1});Gi.displayName="Route";var dm=K.createContext(null);dm.displayName="RouteError";function lA(r,{relative:e}={}){et(Pl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=K.useContext(ui),{hash:o,pathname:u,search:f}=Ul(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:Bi([n,u])),s.createHref({pathname:m,search:f,hash:o})}function Pl(){return K.useContext(Ll)!=null}function Us(){return et(Pl(),"useLocation() may be used only in the context of a <Router> component."),K.useContext(Ll).location}var Qv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Yv(r){K.useContext(ui).static||K.useLayoutEffect(r)}function mm(){let{isDataRoute:r}=K.useContext(Gi);return r?TA():uA()}function uA(){et(Pl(),"useNavigate() may be used only in the context of a <Router> component.");let r=K.useContext(eo),{basename:e,navigator:n}=K.useContext(ui),{matches:s}=K.useContext(Gi),{pathname:o}=Us(),u=JSON.stringify(jv(s)),f=K.useRef(!1);return Yv(()=>{f.current=!0}),K.useCallback((g,y={})=>{if(ai(f.current,Qv),!f.current)return;if(typeof g=="number"){n.go(g);return}let T=Fv(g,JSON.parse(u),o,y.relative==="path");r==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:Bi([e,T.pathname])),(y.replace?n.replace:n.push)(T,y.state,y)},[e,n,u,o,r])}K.createContext(null);function Ul(r,{relative:e}={}){let{matches:n}=K.useContext(Gi),{pathname:s}=Us(),o=JSON.stringify(jv(n));return K.useMemo(()=>Fv(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function cA(r,e){return $v(r,e)}function $v(r,e,n,s){var te;et(Pl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=K.useContext(ui),{matches:f}=K.useContext(Gi),m=f[f.length-1],g=m?m.params:{},y=m?m.pathname:"/",T=m?m.pathnameBase:"/",R=m&&m.route;{let J=R&&R.path||"";Xv(y,!R||J.endsWith("*")||J.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${J}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${J}"> to <Route path="${J==="/"?"*":`${J}/*`}">.`)}let D=Us(),L;if(e){let J=typeof e=="string"?Ja(e):e;et(T==="/"||((te=J.pathname)==null?void 0:te.startsWith(T)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${J.pathname}" was given in the \`location\` prop.`),L=J}else L=D;let B=L.pathname||"/",Z=B;if(T!=="/"){let J=T.replace(/^\//,"").split("/");Z="/"+B.replace(/^\//,"").split("/").slice(J.length).join("/")}let j=!u&&n&&n.matches&&n.matches.length>0?n.matches:Bv(r,{pathname:Z});ai(R||j!=null,`No routes matched location "${L.pathname}${L.search}${L.hash}" `),ai(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${L.pathname}${L.search}${L.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let $=pA(j&&j.map(J=>Object.assign({},J,{params:Object.assign({},g,J.params),pathname:Bi([T,o.encodeLocation?o.encodeLocation(J.pathname).pathname:J.pathname]),pathnameBase:J.pathnameBase==="/"?T:Bi([T,o.encodeLocation?o.encodeLocation(J.pathnameBase).pathname:J.pathnameBase])})),f,n,s);return e&&$?K.createElement(Ll.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...L},navigationType:"POP"}},$):$}function hA(){let r=EA(),e=rA(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=K.createElement(K.Fragment,null,K.createElement("p",null," Hey developer "),K.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",K.createElement("code",{style:u},"ErrorBoundary")," or"," ",K.createElement("code",{style:u},"errorElement")," prop on your route.")),K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},e),n?K.createElement("pre",{style:o},n):null,f)}var fA=K.createElement(hA,null),dA=class extends K.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?K.createElement(Gi.Provider,{value:this.props.routeContext},K.createElement(dm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function mA({routeContext:r,match:e,children:n}){let s=K.useContext(eo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),K.createElement(Gi.Provider,{value:r},n)}function pA(r,e=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n==null?void 0:n.errors;if(u!=null){let g=o.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);et(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let f=!1,m=-1;if(n)for(let g=0;g<o.length;g++){let y=o[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=g),y.route.id){let{loaderData:T,errors:R}=n,D=y.route.loader&&!T.hasOwnProperty(y.route.id)&&(!R||R[y.route.id]===void 0);if(y.route.lazy||D){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((g,y,T)=>{let R,D=!1,L=null,B=null;n&&(R=u&&y.route.id?u[y.route.id]:void 0,L=y.route.errorElement||fA,f&&(m<0&&T===0?(Xv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),D=!0,B=null):m===T&&(D=!0,B=y.route.hydrateFallbackElement||null)));let Z=e.concat(o.slice(0,T+1)),j=()=>{let $;return R?$=L:D?$=B:y.route.Component?$=K.createElement(y.route.Component,null):y.route.element?$=y.route.element:$=g,K.createElement(mA,{match:y,routeContext:{outlet:g,matches:Z,isDataRoute:n!=null},children:$})};return n&&(y.route.ErrorBoundary||y.route.errorElement||T===0)?K.createElement(dA,{location:n.location,revalidation:n.revalidation,component:L,error:R,children:j(),routeContext:{outlet:null,matches:Z,isDataRoute:!0}}):j()},null)}function pm(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gA(r){let e=K.useContext(eo);return et(e,pm(r)),e}function yA(r){let e=K.useContext(Jc);return et(e,pm(r)),e}function _A(r){let e=K.useContext(Gi);return et(e,pm(r)),e}function gm(r){let e=_A(r),n=e.matches[e.matches.length-1];return et(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function vA(){return gm("useRouteId")}function EA(){var s;let r=K.useContext(dm),e=yA("useRouteError"),n=gm("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[n]}function TA(){let{router:r}=gA("useNavigate"),e=gm("useNavigate"),n=K.useRef(!1);return Yv(()=>{n.current=!0}),K.useCallback(async(o,u={})=>{ai(n.current,Qv),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var d_={};function Xv(r,e,n){!e&&!d_[r]&&(d_[r]=!0,ai(!1,n))}K.memo(SA);function SA({routes:r,future:e,state:n}){return $v(r,void 0,n,e)}function wc(r){et(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function AA({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){et(!Pl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=K.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=Ja(n));let{pathname:g="/",search:y="",hash:T="",state:R=null,key:D="default"}=n,L=K.useMemo(()=>{let B=jr(g,f);return B==null?null:{location:{pathname:B,search:y,hash:T,state:R,key:D},navigationType:s}},[f,g,y,T,R,D,s]);return ai(L!=null,`<Router basename="${f}"> is not able to match the URL "${g}${y}${T}" because it does not start with the basename, so the <Router> won't render anything.`),L==null?null:K.createElement(ui.Provider,{value:m},K.createElement(Ll.Provider,{children:e,value:L}))}function bA({children:r,location:e}){return cA(Ud(r),e)}function Ud(r,e=[]){let n=[];return K.Children.forEach(r,(s,o)=>{if(!K.isValidElement(s))return;let u=[...e,o];if(s.type===K.Fragment){n.push.apply(n,Ud(s.props.children,u));return}et(s.type===wc,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),et(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Ud(s.props.children,u)),n.push(f)}),n}var Rc="get",Cc="application/x-www-form-urlencoded";function eh(r){return r!=null&&typeof r.tagName=="string"}function wA(r){return eh(r)&&r.tagName.toLowerCase()==="button"}function RA(r){return eh(r)&&r.tagName.toLowerCase()==="form"}function CA(r){return eh(r)&&r.tagName.toLowerCase()==="input"}function IA(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function DA(r,e){return r.button===0&&(!e||e==="_self")&&!IA(r)}var yc=null;function OA(){if(yc===null)try{new FormData(document.createElement("form"),0),yc=!1}catch{yc=!0}return yc}var NA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function bd(r){return r!=null&&!NA.has(r)?(ai(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Cc}"`),null):r}function MA(r,e){let n,s,o,u,f;if(RA(r)){let m=r.getAttribute("action");s=m?jr(m,e):null,n=r.getAttribute("method")||Rc,o=bd(r.getAttribute("enctype"))||Cc,u=new FormData(r)}else if(wA(r)||CA(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||m.getAttribute("action");if(s=g?jr(g,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Rc,o=bd(r.getAttribute("formenctype"))||bd(m.getAttribute("enctype"))||Cc,u=new FormData(m,r),!OA()){let{name:y,type:T,value:R}=r;if(T==="image"){let D=y?`${y}.`:"";u.append(`${D}x`,"0"),u.append(`${D}y`,"0")}else y&&u.append(y,R)}}else{if(eh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Rc,s=null,o=Cc,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}function ym(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function VA(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function xA(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function kA(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await VA(u,n);return f.links?f.links():[]}return[]}));return zA(s.flat(1).filter(xA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function m_(r,e,n,s,o,u){let f=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,m=(g,y)=>{var T;return n[y].pathname!==g.pathname||((T=n[y].route.path)==null?void 0:T.endsWith("*"))&&n[y].params["*"]!==g.params["*"]};return u==="assets"?e.filter((g,y)=>f(g,y)||m(g,y)):u==="data"?e.filter((g,y)=>{var R;let T=s.routes[g.route.id];if(!T||!T.hasLoader)return!1;if(f(g,y)||m(g,y))return!0;if(g.route.shouldRevalidate){let D=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((R=n[0])==null?void 0:R.params)||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof D=="boolean")return D}return!0}):[]}function LA(r,e,{includeHydrateFallback:n}={}){return PA(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function PA(r){return[...new Set(r)]}function UA(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function zA(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(UA(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function BA(r){let e=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function HA(){let r=K.useContext(eo);return ym(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function qA(){let r=K.useContext(Jc);return ym(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var _m=K.createContext(void 0);_m.displayName="FrameworkContext";function Zv(){let r=K.useContext(_m);return ym(r,"You must render this element inside a <HydratedRouter> element"),r}function jA(r,e){let n=K.useContext(_m),[s,o]=K.useState(!1),[u,f]=K.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:y,onMouseLeave:T,onTouchStart:R}=e,D=K.useRef(null);K.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let Z=$=>{$.forEach(te=>{f(te.isIntersecting)})},j=new IntersectionObserver(Z,{threshold:.5});return D.current&&j.observe(D.current),()=>{j.disconnect()}}},[r]),K.useEffect(()=>{if(s){let Z=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Z)}}},[s]);let L=()=>{o(!0)},B=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,D,{}]:[u,D,{onFocus:gl(m,L),onBlur:gl(g,B),onMouseEnter:gl(y,L),onMouseLeave:gl(T,B),onTouchStart:gl(R,L)}]:[!1,D,{}]}function gl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function FA({page:r,...e}){let{router:n}=HA(),s=K.useMemo(()=>Bv(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?K.createElement(KA,{page:r,matches:s,...e}):null}function GA(r){let{manifest:e,routeModules:n}=Zv(),[s,o]=K.useState([]);return K.useEffect(()=>{let u=!1;return kA(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function KA({page:r,matches:e,...n}){let s=Us(),{manifest:o,routeModules:u}=Zv(),{loaderData:f,matches:m}=qA(),g=K.useMemo(()=>m_(r,e,m,o,s,"data"),[r,e,m,o,s]),y=K.useMemo(()=>m_(r,e,m,o,s,"assets"),[r,e,m,o,s]),T=K.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let L=new Set,B=!1;if(e.forEach(j=>{var te;let $=o.routes[j.route.id];!$||!$.hasLoader||(!g.some(J=>J.route.id===j.route.id)&&j.route.id in f&&((te=u[j.route.id])!=null&&te.shouldRevalidate)||$.hasClientLoader?B=!0:L.add(j.route.id))}),L.size===0)return[];let Z=BA(r);return B&&L.size>0&&Z.searchParams.set("_routes",e.filter(j=>L.has(j.route.id)).map(j=>j.route.id).join(",")),[Z.pathname+Z.search]},[f,s,o,g,e,r,u]),R=K.useMemo(()=>LA(y,o),[y,o]),D=GA(y);return K.createElement(K.Fragment,null,T.map(L=>K.createElement("link",{key:L,rel:"prefetch",as:"fetch",href:L,...n})),R.map(L=>K.createElement("link",{key:L,rel:"modulepreload",href:L,...n})),D.map(({key:L,link:B})=>K.createElement("link",{key:L,...B})))}function QA(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Wv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Wv&&(window.__reactRouterVersion="7.2.0")}catch{}function YA({basename:r,children:e,window:n}){let s=K.useRef();s.current==null&&(s.current=LS({window:n,v5Compat:!0}));let o=s.current,[u,f]=K.useState({action:o.action,location:o.location}),m=K.useCallback(g=>{K.startTransition(()=>f(g))},[f]);return K.useLayoutEffect(()=>o.listen(m),[o,m]),K.createElement(AA,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var Jv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zl=K.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:g,to:y,preventScrollReset:T,viewTransition:R,...D},L){let{basename:B}=K.useContext(ui),Z=typeof y=="string"&&Jv.test(y),j,$=!1;if(typeof y=="string"&&Z&&(j=y,Wv))try{let A=new URL(window.location.href),C=y.startsWith("//")?new URL(A.protocol+y):new URL(y),V=jr(C.pathname,B);C.origin===A.origin&&V!=null?y=V+C.search+C.hash:$=!0}catch{ai(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let te=lA(y,{relative:o}),[J,me,ue]=jA(s,D),Se=WA(y,{replace:f,state:m,target:g,preventScrollReset:T,relative:o,viewTransition:R});function M(A){e&&e(A),A.defaultPrevented||Se(A)}let b=K.createElement("a",{...D,...ue,href:j||te,onClick:$||u?e:M,ref:QA(L,me),target:g,"data-discover":!Z&&n==="render"?"true":void 0});return J&&!Z?K.createElement(K.Fragment,null,b,K.createElement(FA,{page:te})):b});zl.displayName="Link";var $A=K.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:g,...y},T){let R=Ul(f,{relative:y.relative}),D=Us(),L=K.useContext(Jc),{navigator:B,basename:Z}=K.useContext(ui),j=L!=null&&ib(R)&&m===!0,$=B.encodeLocation?B.encodeLocation(R).pathname:R.pathname,te=D.pathname,J=L&&L.navigation&&L.navigation.location?L.navigation.location.pathname:null;n||(te=te.toLowerCase(),J=J?J.toLowerCase():null,$=$.toLowerCase()),J&&Z&&(J=jr(J,Z)||J);const me=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let ue=te===$||!o&&te.startsWith($)&&te.charAt(me)==="/",Se=J!=null&&(J===$||!o&&J.startsWith($)&&J.charAt($.length)==="/"),M={isActive:ue,isPending:Se,isTransitioning:j},b=ue?e:void 0,A;typeof s=="function"?A=s(M):A=[s,ue?"active":null,Se?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let C=typeof u=="function"?u(M):u;return K.createElement(zl,{...y,"aria-current":b,className:A,ref:T,style:C,to:f,viewTransition:m},typeof g=="function"?g(M):g)});$A.displayName="NavLink";var XA=K.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Rc,action:m,onSubmit:g,relative:y,preventScrollReset:T,viewTransition:R,...D},L)=>{let B=tb(),Z=nb(m,{relative:y}),j=f.toLowerCase()==="get"?"get":"post",$=typeof m=="string"&&Jv.test(m),te=J=>{if(g&&g(J),J.defaultPrevented)return;J.preventDefault();let me=J.nativeEvent.submitter,ue=(me==null?void 0:me.getAttribute("formmethod"))||f;B(me||J.currentTarget,{fetcherKey:e,method:ue,navigate:n,replace:o,state:u,relative:y,preventScrollReset:T,viewTransition:R})};return K.createElement("form",{ref:L,method:j,action:Z,onSubmit:s?g:te,...D,"data-discover":!$&&r==="render"?"true":void 0})});XA.displayName="Form";function ZA(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function eE(r){let e=K.useContext(eo);return et(e,ZA(r)),e}function WA(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=mm(),g=Us(),y=Ul(r,{relative:u});return K.useCallback(T=>{if(DA(T,e)){T.preventDefault();let R=n!==void 0?n:Dl(g)===Dl(y);m(r,{replace:R,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[g,m,y,n,s,e,r,o,u,f])}var JA=0,eb=()=>`__${String(++JA)}__`;function tb(){let{router:r}=eE("useSubmit"),{basename:e}=K.useContext(ui),n=vA();return K.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:g,body:y}=MA(s,e);if(o.navigate===!1){let T=o.fetcherKey||eb();await r.fetch(T,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function nb(r,{relative:e}={}){let{basename:n}=K.useContext(ui),s=K.useContext(Gi);et(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Ul(r||".",{relative:e})},f=Us();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(T=>T==="")){m.delete("index"),g.filter(R=>R).forEach(R=>m.append("index",R));let T=m.toString();u.search=T?`?${T}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Bi([n,u.pathname])),Dl(u)}function ib(r,e={}){let n=K.useContext(Kv);et(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=eE("useViewTransitionState"),o=Ul(r,{relative:e.relative});if(!n.isTransitioning)return!1;let u=jr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=jr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Pc(o.pathname,f)!=null||Pc(o.pathname,u)!=null}new TextEncoder;const rb="_container_1o9es_3",sb="_innerBox_1o9es_21",ab="_heading_1o9es_41",ob="_footer_1o9es_57",lb="_error_1o9es_65",ub="_button_1o9es_77",Na={container:rb,innerBox:sb,heading:ab,footer:ob,error:lb,button:ub},cb=()=>{};var p_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},hb=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},nE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,g=o+2<r.length,y=g?r[o+2]:0,T=u>>2,R=(u&3)<<4|m>>4;let D=(m&15)<<2|y>>6,L=y&63;g||(L=64,f||(D=64)),s.push(n[T],n[R],n[D],n[L])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(tE(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):hb(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const R=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||R==null)throw new fb;const D=u<<2|m>>4;if(s.push(D),y!==64){const L=m<<4&240|y>>2;if(s.push(L),R!==64){const B=y<<6&192|R;s.push(B)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class fb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const db=function(r){const e=tE(r);return nE.encodeByteArray(e,!0)},Uc=function(r){return db(r).replace(/\./g,"")},iE=function(r){try{return nE.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb=()=>mb().__FIREBASE_DEFAULTS__,gb=()=>{if(typeof process>"u"||typeof p_>"u")return;const r=p_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},yb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&iE(r[1]);return e&&JSON.parse(e)},th=()=>{try{return cb()||pb()||gb()||yb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},rE=r=>{var e,n;return(n=(e=th())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},_b=r=>{const e=rE(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},sE=()=>{var r;return(r=th())===null||r===void 0?void 0:r.config},aE=r=>{var e;return(e=th())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eb(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Uc(JSON.stringify(n)),Uc(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Tb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qt())}function Sb(){var r;const e=(r=th())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Ab(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function bb(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function wb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Rb(){const r=Qt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Cb(){return!Sb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ib(){try{return typeof indexedDB=="object"}catch{return!1}}function Db(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob="FirebaseError";class Ki extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=Ob,Object.setPrototypeOf(this,Ki.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bl.prototype.create)}}class Bl{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?Nb(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Ki(o,m,s)}}function Nb(r,e){return r.replace(Mb,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const Mb=/\{\$([^}]+)}/g;function Vb(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Vs(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(g_(u)&&g_(f)){if(!Vs(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function g_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hl(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function _l(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function vl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function xb(r,e){const n=new kb(r,e);return n.subscribe.bind(n)}class kb{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");Lb(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=wd),o.error===void 0&&(o.error=wd),o.complete===void 0&&(o.complete=wd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Lb(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function wd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qi(r){return r&&r._delegate?r._delegate:r}class xs{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new vb;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(zb(e))try{this.getOrInitializeService({instanceIdentifier:Ds})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Ds){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ds){return this.instances.has(e)}getOptions(e=Ds){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Ub(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ds){return this.component?this.component.multipleInstances?e:Ds:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Ub(r){return r===Ds?void 0:r}function zb(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Pb(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Oe||(Oe={}));const Hb={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},qb=Oe.INFO,jb={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},Fb=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=jb[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class vm{constructor(e){this.name=e,this._logLevel=qb,this._logHandler=Fb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Hb[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const Gb=(r,e)=>e.some(n=>r instanceof n);let y_,__;function Kb(){return y_||(y_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Qb(){return __||(__=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const oE=new WeakMap,zd=new WeakMap,lE=new WeakMap,Rd=new WeakMap,Em=new WeakMap;function Yb(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(zr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&oE.set(n,r)}).catch(()=>{}),Em.set(e,r),e}function $b(r){if(zd.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});zd.set(r,e)}let Bd={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return zd.get(r);if(e==="objectStoreNames")return r.objectStoreNames||lE.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zr(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function Xb(r){Bd=r(Bd)}function Zb(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Cd(this),e,...n);return lE.set(s,e.sort?e.sort():[e]),zr(s)}:Qb().includes(r)?function(...e){return r.apply(Cd(this),e),zr(oE.get(this))}:function(...e){return zr(r.apply(Cd(this),e))}}function Wb(r){return typeof r=="function"?Zb(r):(r instanceof IDBTransaction&&$b(r),Gb(r,Kb())?new Proxy(r,Bd):r)}function zr(r){if(r instanceof IDBRequest)return Yb(r);if(Rd.has(r))return Rd.get(r);const e=Wb(r);return e!==r&&(Rd.set(r,e),Em.set(e,r)),e}const Cd=r=>Em.get(r);function Jb(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=zr(f);return s&&f.addEventListener("upgradeneeded",g=>{s(zr(f.result),g.oldVersion,g.newVersion,zr(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const ew=["get","getKey","getAll","getAllKeys","count"],tw=["put","add","delete","clear"],Id=new Map;function v_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Id.get(e))return Id.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=tw.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||ew.includes(n)))return;const u=async function(f,...m){const g=this.transaction(f,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&g.done]))[0]};return Id.set(e,u),u}Xb(r=>({...r,get:(e,n,s)=>v_(e,n)||r.get(e,n,s),has:(e,n)=>!!v_(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(iw(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function iw(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Hd="@firebase/app",E_="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi=new vm("@firebase/app"),rw="@firebase/app-compat",sw="@firebase/analytics-compat",aw="@firebase/analytics",ow="@firebase/app-check-compat",lw="@firebase/app-check",uw="@firebase/auth",cw="@firebase/auth-compat",hw="@firebase/database",fw="@firebase/data-connect",dw="@firebase/database-compat",mw="@firebase/functions",pw="@firebase/functions-compat",gw="@firebase/installations",yw="@firebase/installations-compat",_w="@firebase/messaging",vw="@firebase/messaging-compat",Ew="@firebase/performance",Tw="@firebase/performance-compat",Sw="@firebase/remote-config",Aw="@firebase/remote-config-compat",bw="@firebase/storage",ww="@firebase/storage-compat",Rw="@firebase/firestore",Cw="@firebase/vertexai",Iw="@firebase/firestore-compat",Dw="firebase",Ow="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qd="[DEFAULT]",Nw={[Hd]:"fire-core",[rw]:"fire-core-compat",[aw]:"fire-analytics",[sw]:"fire-analytics-compat",[lw]:"fire-app-check",[ow]:"fire-app-check-compat",[uw]:"fire-auth",[cw]:"fire-auth-compat",[hw]:"fire-rtdb",[fw]:"fire-data-connect",[dw]:"fire-rtdb-compat",[mw]:"fire-fn",[pw]:"fire-fn-compat",[gw]:"fire-iid",[yw]:"fire-iid-compat",[_w]:"fire-fcm",[vw]:"fire-fcm-compat",[Ew]:"fire-perf",[Tw]:"fire-perf-compat",[Sw]:"fire-rc",[Aw]:"fire-rc-compat",[bw]:"fire-gcs",[ww]:"fire-gcs-compat",[Rw]:"fire-fst",[Iw]:"fire-fst-compat",[Cw]:"fire-vertex","fire-js":"fire-js",[Dw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zc=new Map,Mw=new Map,jd=new Map;function T_(r,e){try{r.container.addComponent(e)}catch(n){qi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Fa(r){const e=r.name;if(jd.has(e))return qi.debug(`There were multiple attempts to register component ${e}.`),!1;jd.set(e,r);for(const n of zc.values())T_(n,r);for(const n of Mw.values())T_(n,r);return!0}function Tm(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Nn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Br=new Bl("app","Firebase",Vw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new xs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Br.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to=Ow;function uE(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:qd,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw Br.create("bad-app-name",{appName:String(o)});if(n||(n=sE()),!n)throw Br.create("no-options");const u=zc.get(o);if(u){if(Vs(n,u.options)&&Vs(s,u.config))return u;throw Br.create("duplicate-app",{appName:o})}const f=new Bb(o);for(const g of jd.values())f.addComponent(g);const m=new xw(n,s,f);return zc.set(o,m),m}function cE(r=qd){const e=zc.get(r);if(!e&&r===qd&&sE())return uE();if(!e)throw Br.create("no-app",{appName:r});return e}function Hr(r,e,n){var s;let o=(s=Nw[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),qi.warn(m.join(" "));return}Fa(new xs(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw="firebase-heartbeat-database",Lw=1,Ol="firebase-heartbeat-store";let Dd=null;function hE(){return Dd||(Dd=Jb(kw,Lw,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Ol)}catch(n){console.warn(n)}}}}).catch(r=>{throw Br.create("idb-open",{originalErrorMessage:r.message})})),Dd}async function Pw(r){try{const n=(await hE()).transaction(Ol),s=await n.objectStore(Ol).get(fE(r));return await n.done,s}catch(e){if(e instanceof Ki)qi.warn(e.message);else{const n=Br.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});qi.warn(n.message)}}}async function S_(r,e){try{const s=(await hE()).transaction(Ol,"readwrite");await s.objectStore(Ol).put(e,fE(r)),await s.done}catch(n){if(n instanceof Ki)qi.warn(n.message);else{const s=Br.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});qi.warn(s.message)}}}function fE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw=1024,zw=30;class Bw{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new qw(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=A_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>zw){const f=jw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){qi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=A_(),{heartbeatsToSend:s,unsentEntries:o}=Hw(this._heartbeatsCache.heartbeats),u=Uc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return qi.warn(n),""}}}function A_(){return new Date().toISOString().substring(0,10)}function Hw(r,e=Uw){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),b_(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),b_(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class qw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ib()?Db().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Pw(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return S_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return S_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function b_(r){return Uc(JSON.stringify({version:2,heartbeats:r})).length}function jw(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fw(r){Fa(new xs("platform-logger",e=>new nw(e),"PRIVATE")),Fa(new xs("heartbeat",e=>new Bw(e),"PRIVATE")),Hr(Hd,E_,r),Hr(Hd,E_,"esm2017"),Hr("fire-js","")}Fw("");var Gw="firebase",Kw="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hr(Gw,Kw,"app");function Sm(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function dE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Qw=dE,mE=new Bl("auth","Firebase",dE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bc=new vm("@firebase/auth");function Yw(r,...e){Bc.logLevel<=Oe.WARN&&Bc.warn(`Auth (${to}): ${r}`,...e)}function Ic(r,...e){Bc.logLevel<=Oe.ERROR&&Bc.error(`Auth (${to}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(r,...e){throw Am(r,...e)}function ii(r,...e){return Am(r,...e)}function pE(r,e,n){const s=Object.assign(Object.assign({},Qw()),{[e]:n});return new Bl("auth","Firebase",s).create(e,{appName:r.name})}function Hi(r){return pE(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Am(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return mE.create(r,...e)}function ye(r,e,...n){if(!r)throw Am(e,...n)}function Pi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Ic(e),new Error(e)}function ji(r,e){r||Pi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fd(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function $w(){return w_()==="http:"||w_()==="https:"}function w_(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($w()||bb()||"connection"in navigator)?navigator.onLine:!0}function Zw(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e,n){this.shortDelay=e,this.longDelay=n,ji(n>e,"Short delay should be less than long delay!"),this.isMobile=Tb()||wb()}get(){return Xw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bm(r,e){ji(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Pi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Pi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Pi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw=new ql(3e4,6e4);function Xr(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function Yi(r,e,n,s,o={}){return yE(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=Hl(Object.assign({key:r.config.apiKey},f)).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const y=Object.assign({method:e,headers:g},u);return Ab()||(y.referrerPolicy="no-referrer"),gE.fetch()(_E(r,r.config.apiHost,n,m),y)})}async function yE(r,e,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},Ww),e);try{const o=new tR(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw _c(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[g,y]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw _c(r,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw _c(r,"email-already-in-use",f);if(g==="USER_DISABLED")throw _c(r,"user-disabled",f);const T=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw pE(r,T,y);Un(r,T)}}catch(o){if(o instanceof Ki)throw o;Un(r,"network-request-failed",{message:String(o)})}}async function jl(r,e,n,s,o={}){const u=await Yi(r,e,n,s,o);return"mfaPendingCredential"in u&&Un(r,"multi-factor-auth-required",{_serverResponse:u}),u}function _E(r,e,n,s){const o=`${e}${n}?${s}`;return r.config.emulator?bm(r.config,o):`${r.config.apiScheme}://${o}`}function eR(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class tR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ii(this.auth,"network-request-failed")),Jw.get())})}}function _c(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=ii(r,e,s);return o.customData._tokenResponse=n,o}function R_(r){return r!==void 0&&r.enterprise!==void 0}class nR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return eR(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function iR(r,e){return Yi(r,"GET","/v2/recaptchaConfig",Xr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rR(r,e){return Yi(r,"POST","/v1/accounts:delete",e)}async function vE(r,e){return Yi(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Al(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function sR(r,e=!1){const n=Qi(r),s=await n.getIdToken(e),o=wm(s);ye(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Al(Od(o.auth_time)),issuedAtTime:Al(Od(o.iat)),expirationTime:Al(Od(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Od(r){return Number(r)*1e3}function wm(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Ic("JWT malformed, contained fewer than 3 sections"),null;try{const o=iE(n);return o?JSON.parse(o):(Ic("Failed to decode base64 JWT payload"),null)}catch(o){return Ic("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function C_(r){const e=wm(r);return ye(e,"internal-error"),ye(typeof e.exp<"u","internal-error"),ye(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ga(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Ki&&aR(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function aR({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Al(this.lastLoginAt),this.creationTime=Al(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hc(r){var e;const n=r.auth,s=await r.getIdToken(),o=await Ga(r,vE(n,{idToken:s}));ye(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?EE(u.providerUserInfo):[],m=uR(r.providerData,f),g=r.isAnonymous,y=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),T=g?y:!1,R={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Gd(u.createdAt,u.lastLoginAt),isAnonymous:T};Object.assign(r,R)}async function lR(r){const e=Qi(r);await Hc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function uR(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function EE(r){return r.map(e=>{var{providerId:n}=e,s=Sm(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cR(r,e){const n=await yE(r,{},async()=>{const s=Hl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=_E(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",gE.fetch()(f,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function hR(r,e){return Yi(r,"POST","/v2/accounts:revokeToken",Xr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ye(e.idToken,"internal-error"),ye(typeof e.idToken<"u","internal-error"),ye(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):C_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ye(e.length!==0,"internal-error");const n=C_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ye(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await cR(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Ua;return s&&(ye(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(ye(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(ye(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ua,this.toJSON())}_performRefresh(){return Pi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(r,e){ye(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Ui{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=Sm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new oR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Gd(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await Ga(this,this.stsTokenManager.getToken(this.auth,e));return ye(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return sR(this,e)}reload(){return lR(this)}_assign(e){this!==e&&(ye(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ui(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Hc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Nn(this.auth.app))return Promise.reject(Hi(this.auth));const e=await this.getIdToken();return await Ga(this,rR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,f,m,g,y,T;const R=(s=n.displayName)!==null&&s!==void 0?s:void 0,D=(o=n.email)!==null&&o!==void 0?o:void 0,L=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,B=(f=n.photoURL)!==null&&f!==void 0?f:void 0,Z=(m=n.tenantId)!==null&&m!==void 0?m:void 0,j=(g=n._redirectEventId)!==null&&g!==void 0?g:void 0,$=(y=n.createdAt)!==null&&y!==void 0?y:void 0,te=(T=n.lastLoginAt)!==null&&T!==void 0?T:void 0,{uid:J,emailVerified:me,isAnonymous:ue,providerData:Se,stsTokenManager:M}=n;ye(J&&M,e,"internal-error");const b=Ua.fromJSON(this.name,M);ye(typeof J=="string",e,"internal-error"),Mr(R,e.name),Mr(D,e.name),ye(typeof me=="boolean",e,"internal-error"),ye(typeof ue=="boolean",e,"internal-error"),Mr(L,e.name),Mr(B,e.name),Mr(Z,e.name),Mr(j,e.name),Mr($,e.name),Mr(te,e.name);const A=new Ui({uid:J,auth:e,email:D,emailVerified:me,displayName:R,isAnonymous:ue,photoURL:B,phoneNumber:L,tenantId:Z,stsTokenManager:b,createdAt:$,lastLoginAt:te});return Se&&Array.isArray(Se)&&(A.providerData=Se.map(C=>Object.assign({},C))),j&&(A._redirectEventId=j),A}static async _fromIdTokenResponse(e,n,s=!1){const o=new Ua;o.updateFromServerResponse(n);const u=new Ui({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Hc(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];ye(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?EE(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new Ua;m.updateFromIdToken(s);const g=new Ui({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Gd(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(g,y),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_=new Map;function zi(r){ji(r instanceof Function,"Expected a class definition");let e=I_.get(r);return e?(ji(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,I_.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}TE.type="NONE";const D_=TE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dc(r,e,n){return`firebase:${r}:${e}:${n}`}class za{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Dc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Dc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ui._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new za(zi(D_),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||zi(D_);const f=Dc(s,e.config.apiKey,e.name);let m=null;for(const y of n)try{const T=await y._get(f);if(T){const R=Ui._fromJSON(e,T);y!==u&&(m=R),u=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new za(u,e,s):(u=g[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new za(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O_(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(wE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(SE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(CE(e))return"Blackberry";if(IE(e))return"Webos";if(AE(e))return"Safari";if((e.includes("chrome/")||bE(e))&&!e.includes("edge/"))return"Chrome";if(RE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function SE(r=Qt()){return/firefox\//i.test(r)}function AE(r=Qt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function bE(r=Qt()){return/crios\//i.test(r)}function wE(r=Qt()){return/iemobile/i.test(r)}function RE(r=Qt()){return/android/i.test(r)}function CE(r=Qt()){return/blackberry/i.test(r)}function IE(r=Qt()){return/webos/i.test(r)}function Rm(r=Qt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function fR(r=Qt()){var e;return Rm(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function dR(){return Rb()&&document.documentMode===10}function DE(r=Qt()){return Rm(r)||RE(r)||IE(r)||CE(r)||/windows phone/i.test(r)||wE(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OE(r,e=[]){let n;switch(r){case"Browser":n=O_(Qt());break;case"Worker":n=`${O_(Qt())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${to}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const g=e(u);f(g)}catch(g){m(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pR(r,e={}){return Yi(r,"GET","/v2/passwordPolicy",Xr(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR=6;class yR{constructor(e){var n,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:gR,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,f,m;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,g),this.validatePasswordCharacterOptions(e,g),g.isValid&&(g.isValid=(n=g.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),g.isValid&&(g.isValid=(s=g.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),g.isValid&&(g.isValid=(o=g.containsLowercaseLetter)!==null&&o!==void 0?o:!0),g.isValid&&(g.isValid=(u=g.containsUppercaseLetter)!==null&&u!==void 0?u:!0),g.isValid&&(g.isValid=(f=g.containsNumericCharacter)!==null&&f!==void 0?f:!0),g.isValid&&(g.isValid=(m=g.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),g}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new N_(this),this.idTokenSubscription=new N_(this),this.beforeStateQueue=new mR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=zi(n)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await za.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await vE(this,{idToken:e}),s=await Ui._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Nn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,g=await this.tryRedirectSignIn(e);(!f||f===m)&&(g!=null&&g.user)&&(o=g.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return ye(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Hc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Zw()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Nn(this.app))return Promise.reject(Hi(this));const n=e?Qi(e):null;return n&&ye(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ye(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Nn(this.app)?Promise.reject(Hi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Nn(this.app)?Promise.reject(Hi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(zi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await pR(this),n=new yR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Bl("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await hR(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&zi(e)||this._popupRedirectResolver;ye(n,this,"argument-error"),this.redirectPersistenceManager=await za.create(this,[zi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ye(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,s,o);return()=>{f=!0,g()}}else{const g=e.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=OE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(Nn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Yw(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function zs(r){return Qi(r)}class N_{constructor(e){this.auth=e,this.observer=null,this.addObserver=xb(n=>this.observer=n)}get next(){return ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function vR(r){nh=r}function NE(r){return nh.loadJS(r)}function ER(){return nh.recaptchaEnterpriseScript}function TR(){return nh.gapiScript}function SR(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class AR{constructor(){this.enterprise=new bR}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class bR{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const wR="recaptcha-enterprise",ME="NO_RECAPTCHA";class RR{constructor(e){this.type=wR,this.auth=zs(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{iR(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new nR(g);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(g=>{m(g)})})}function o(u,f,m){const g=window.grecaptcha;R_(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(y=>{f(y)}).catch(()=>{f(ME)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new AR().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&R_(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let g=ER();g.length!==0&&(g+=m),NE(g).then(()=>{o(m,u,f)}).catch(y=>{f(y)})}}).catch(m=>{f(m)})})}}async function M_(r,e,n,s=!1,o=!1){const u=new RR(r);let f;if(o)f=ME;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Kd(r,e,n,s,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await M_(r,e,n,n==="getOobCode");return s(r,f)}else return s(r,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await M_(r,e,n,n==="getOobCode");return s(r,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CR(r,e){const n=Tm(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Vs(u,e??{}))return o;Un(o,"already-initialized")}return n.initialize({options:e})}function IR(r,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(zi);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function DR(r,e,n){const s=zs(r);ye(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=VE(e),{host:f,port:m}=OR(e),g=m===null?"":`:${m}`,y={url:`${u}//${f}${g}/`},T=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ye(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ye(Vs(y,s.config.emulator)&&Vs(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,NR()}function VE(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function OR(r){const e=VE(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:V_(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:V_(f)}}}function V_(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function NR(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Pi("not implemented")}_getIdTokenResponse(e){return Pi("not implemented")}_linkToIdToken(e,n){return Pi("not implemented")}_getReauthenticationResolver(e){return Pi("not implemented")}}async function MR(r,e){return Yi(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VR(r,e){return jl(r,"POST","/v1/accounts:signInWithPassword",Xr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xR(r,e){return jl(r,"POST","/v1/accounts:signInWithEmailLink",Xr(r,e))}async function kR(r,e){return jl(r,"POST","/v1/accounts:signInWithEmailLink",Xr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl extends Cm{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Nl(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Nl(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Kd(e,n,"signInWithPassword",VR);case"emailLink":return xR(e,{email:this._email,oobCode:this._password});default:Un(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Kd(e,s,"signUpPassword",MR);case"emailLink":return kR(e,{idToken:n,email:this._email,oobCode:this._password});default:Un(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ba(r,e){return jl(r,"POST","/v1/accounts:signInWithIdp",Xr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR="http://localhost";class ks extends Cm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ks(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Un("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=Sm(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new ks(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return Ba(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Ba(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ba(e,n)}buildRequest(){const e={requestUri:LR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Hl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PR(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function UR(r){const e=_l(vl(r)).link,n=e?_l(vl(e)).deep_link_id:null,s=_l(vl(r)).deep_link_id;return(s?_l(vl(s)).link:null)||s||n||e||r}class Im{constructor(e){var n,s,o,u,f,m;const g=_l(vl(e)),y=(n=g.apiKey)!==null&&n!==void 0?n:null,T=(s=g.oobCode)!==null&&s!==void 0?s:null,R=PR((o=g.mode)!==null&&o!==void 0?o:null);ye(y&&T&&R,"argument-error"),this.apiKey=y,this.operation=R,this.code=T,this.continueUrl=(u=g.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=g.languageCode)!==null&&f!==void 0?f:null,this.tenantId=(m=g.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const n=UR(e);try{return new Im(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(){this.providerId=no.PROVIDER_ID}static credential(e,n){return Nl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Im.parseLink(n);return ye(s,"argument-error"),Nl._fromEmailAndCode(e,s.code,s.tenantId)}}no.PROVIDER_ID="password";no.EMAIL_PASSWORD_SIGN_IN_METHOD="password";no.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl extends xE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr extends Fl{constructor(){super("facebook.com")}static credential(e){return ks._fromParams({providerId:Vr.PROVIDER_ID,signInMethod:Vr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vr.credentialFromTaggedObject(e)}static credentialFromError(e){return Vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vr.credential(e.oauthAccessToken)}catch{return null}}}Vr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Vr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr extends Fl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ks._fromParams({providerId:xr.PROVIDER_ID,signInMethod:xr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return xr.credentialFromTaggedObject(e)}static credentialFromError(e){return xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return xr.credential(n,s)}catch{return null}}}xr.GOOGLE_SIGN_IN_METHOD="google.com";xr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends Fl{constructor(){super("github.com")}static credential(e){return ks._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return kr.credentialFromTaggedObject(e)}static credentialFromError(e){return kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return kr.credential(e.oauthAccessToken)}catch{return null}}}kr.GITHUB_SIGN_IN_METHOD="github.com";kr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr extends Fl{constructor(){super("twitter.com")}static credential(e,n){return ks._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Lr.credentialFromTaggedObject(e)}static credentialFromError(e){return Lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Lr.credential(n,s)}catch{return null}}}Lr.TWITTER_SIGN_IN_METHOD="twitter.com";Lr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zR(r,e){return jl(r,"POST","/v1/accounts:signUp",Xr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Ui._fromIdTokenResponse(e,s,o),f=x_(s);return new Ls({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=x_(s);return new Ls({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function x_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc extends Ki{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,qc.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new qc(e,n,s,o)}}function kE(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?qc._fromErrorAndOperation(r,u,e,s):u})}async function BR(r,e,n=!1){const s=await Ga(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Ls._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HR(r,e,n=!1){const{auth:s}=r;if(Nn(s.app))return Promise.reject(Hi(s));const o="reauthenticate";try{const u=await Ga(r,kE(s,o,e,r),n);ye(u.idToken,s,"internal-error");const f=wm(u.idToken);ye(f,s,"internal-error");const{sub:m}=f;return ye(r.uid===m,s,"user-mismatch"),Ls._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Un(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LE(r,e,n=!1){if(Nn(r.app))return Promise.reject(Hi(r));const s="signIn",o=await kE(r,s,e),u=await Ls._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function qR(r,e){return LE(zs(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PE(r){const e=zs(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function jR(r,e,n){if(Nn(r.app))return Promise.reject(Hi(r));const s=zs(r),f=await Kd(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",zR).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&PE(r),g}),m=await Ls._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function FR(r,e,n){return Nn(r.app)?Promise.reject(Hi(r)):qR(Qi(r),no.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&PE(r),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GR(r,e){return Yi(r,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KR(r,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=Qi(r),u={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},f=await Ga(s,GR(s.auth,u));s.displayName=f.displayName||null,s.photoURL=f.photoUrl||null;const m=s.providerData.find(({providerId:g})=>g==="password");m&&(m.displayName=s.displayName,m.photoURL=s.photoURL),await s._updateTokensIfNecessary(f)}function QR(r,e,n,s){return Qi(r).onIdTokenChanged(e,n,s)}function YR(r,e,n){return Qi(r).beforeAuthStateChanged(e,n)}const jc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(jc,"1"),this.storage.removeItem(jc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R=1e3,XR=10;class zE extends UE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=DE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,g)=>{this.notifyListeners(f,g)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);dR()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,XR):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},$R)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}zE.type="LOCAL";const ZR=zE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE extends UE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}BE.type="SESSION";const HE=BE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WR(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new ih(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),g=await WR(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ih.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dm(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,g)=>{const y=Dm("",20);o.port1.start();const T=setTimeout(()=>{g(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(R){const D=R;if(D.data.eventId===y)switch(D.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(D.data.response);break;default:clearTimeout(T),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(){return window}function e1(r){ri().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qE(){return typeof ri().WorkerGlobalScope<"u"&&typeof ri().importScripts=="function"}async function t1(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function n1(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function i1(){return qE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE="firebaseLocalStorageDb",r1=1,Fc="firebaseLocalStorage",FE="fbase_key";class Gl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function rh(r,e){return r.transaction([Fc],e?"readwrite":"readonly").objectStore(Fc)}function s1(){const r=indexedDB.deleteDatabase(jE);return new Gl(r).toPromise()}function Qd(){const r=indexedDB.open(jE,r1);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Fc,{keyPath:FE})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Fc)?e(s):(s.close(),await s1(),e(await Qd()))})})}async function k_(r,e,n){const s=rh(r,!0).put({[FE]:e,value:n});return new Gl(s).toPromise()}async function a1(r,e){const n=rh(r,!1).get(e),s=await new Gl(n).toPromise();return s===void 0?null:s.value}function L_(r,e){const n=rh(r,!0).delete(e);return new Gl(n).toPromise()}const o1=800,l1=3;class GE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Qd(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>l1)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return qE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ih._getInstance(i1()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await t1(),!this.activeServiceWorker)return;this.sender=new JR(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||n1()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Qd();return await k_(e,jc,"1"),await L_(e,jc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>k_(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>a1(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>L_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=rh(o,!1).getAll();return new Gl(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),o1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}GE.type="LOCAL";const u1=GE;new ql(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c1(r,e){return e?zi(e):(ye(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om extends Cm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ba(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ba(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ba(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function h1(r){return LE(r.auth,new Om(r),r.bypassAuthState)}function f1(r){const{auth:e,user:n}=r;return ye(n,e,"internal-error"),HR(n,new Om(r),r.bypassAuthState)}async function d1(r){const{auth:e,user:n}=r;return ye(n,e,"internal-error"),BR(n,new Om(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return h1;case"linkViaPopup":case"linkViaRedirect":return d1;case"reauthViaPopup":case"reauthViaRedirect":return f1;default:Un(this.auth,"internal-error")}}resolve(e){ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1=new ql(2e3,1e4);class Pa extends KE{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Pa.currentPopupAction&&Pa.currentPopupAction.cancel(),Pa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ye(e,this.auth,"internal-error"),e}async onExecution(){ji(this.filter.length===1,"Popup operations only handle one event");const e=Dm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ii(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ii(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Pa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ii(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,m1.get())};e()}}Pa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1="pendingRedirect",Oc=new Map;class g1 extends KE{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Oc.get(this.auth._key());if(!e){try{const s=await y1(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Oc.set(this.auth._key(),e)}return this.bypassAuthState||Oc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function y1(r,e){const n=E1(e),s=v1(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function _1(r,e){Oc.set(r._key(),e)}function v1(r){return zi(r._redirectPersistence)}function E1(r){return Dc(p1,r.config.apiKey,r.name)}async function T1(r,e,n=!1){if(Nn(r.app))return Promise.reject(Hi(r));const s=zs(r),o=c1(s,e),f=await new g1(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1=10*60*1e3;class A1{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!b1(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!QE(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(ii(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=S1&&this.cachedEventUids.clear(),this.cachedEventUids.has(P_(e))}saveEventToCache(e){this.cachedEventUids.add(P_(e)),this.lastProcessedEventTime=Date.now()}}function P_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function QE({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function b1(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return QE(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w1(r,e={}){return Yi(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,C1=/^https?/;async function I1(r){if(r.config.emulator)return;const{authorizedDomains:e}=await w1(r);for(const n of e)try{if(D1(n))return}catch{}Un(r,"unauthorized-domain")}function D1(r){const e=Fd(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!C1.test(n))return!1;if(R1.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1=new ql(3e4,6e4);function U_(){const r=ri().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function N1(r){return new Promise((e,n)=>{var s,o,u;function f(){U_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{U_(),n(ii(r,"network-request-failed"))},timeout:O1.get()})}if(!((o=(s=ri().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=ri().gapi)===null||u===void 0)&&u.load)f();else{const m=SR("iframefcb");return ri()[m]=()=>{gapi.load?f():n(ii(r,"network-request-failed"))},NE(`${TR()}?onload=${m}`).catch(g=>n(g))}}).catch(e=>{throw Nc=null,e})}let Nc=null;function M1(r){return Nc=Nc||N1(r),Nc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1=new ql(5e3,15e3),x1="__/auth/iframe",k1="emulator/auth/iframe",L1={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},P1=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function U1(r){const e=r.config;ye(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?bm(e,k1):`https://${r.config.authDomain}/${x1}`,s={apiKey:e.apiKey,appName:r.name,v:to},o=P1.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Hl(s).slice(1)}`}async function z1(r){const e=await M1(r),n=ri().gapi;return ye(n,r,"internal-error"),e.open({where:document.body,url:U1(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:L1,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=ii(r,"network-request-failed"),m=ri().setTimeout(()=>{u(f)},V1.get());function g(){ri().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},H1=500,q1=600,j1="_blank",F1="http://localhost";class z_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function G1(r,e,n,s=H1,o=q1){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g=Object.assign(Object.assign({},B1),{width:s.toString(),height:o.toString(),top:u,left:f}),y=Qt().toLowerCase();n&&(m=bE(y)?j1:n),SE(y)&&(e=e||F1,g.scrollbars="yes");const T=Object.entries(g).reduce((D,[L,B])=>`${D}${L}=${B},`,"");if(fR(y)&&m!=="_self")return K1(e||"",m),new z_(null);const R=window.open(e||"",m,T);ye(R,r,"popup-blocked");try{R.focus()}catch{}return new z_(R)}function K1(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1="__/auth/handler",Y1="emulator/auth/handler",$1=encodeURIComponent("fac");async function B_(r,e,n,s,o,u){ye(r.config.authDomain,r,"auth-domain-config-required"),ye(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:to,eventId:o};if(e instanceof xE){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",Vb(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,R]of Object.entries({}))f[T]=R}if(e instanceof Fl){const T=e.getScopes().filter(R=>R!=="");T.length>0&&(f.scopes=T.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const T of Object.keys(m))m[T]===void 0&&delete m[T];const g=await r._getAppCheckToken(),y=g?`#${$1}=${encodeURIComponent(g)}`:"";return`${X1(r)}?${Hl(m).slice(1)}${y}`}function X1({config:r}){return r.emulator?bm(r,Y1):`https://${r.authDomain}/${Q1}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nd="webStorageSupport";class Z1{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=HE,this._completeRedirectFn=T1,this._overrideRedirectResult=_1}async _openPopup(e,n,s,o){var u;ji((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await B_(e,n,s,Fd(),o);return G1(e,f,Dm())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await B_(e,n,s,Fd(),o);return e1(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(ji(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await z1(e),s=new A1(e);return n.register("authEvent",o=>(ye(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Nd,{type:Nd},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Nd];f!==void 0&&n(!!f),Un(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=I1(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return DE()||AE()||Rm()}}const W1=Z1;var H_="@firebase/auth",q_="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eC(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function tC(r){Fa(new xs("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;ye(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:OE(r)},y=new _R(s,o,u,g);return IR(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Fa(new xs("auth-internal",e=>{const n=zs(e.getProvider("auth").getImmediate());return(s=>new J1(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Hr(H_,q_,eC(r)),Hr(H_,q_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC=5*60,iC=aE("authIdTokenMaxAge")||nC;let j_=null;const rC=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>iC)return;const o=n==null?void 0:n.token;j_!==o&&(j_=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function sC(r=cE()){const e=Tm(r,"auth");if(e.isInitialized())return e.getImmediate();const n=CR(r,{popupRedirectResolver:W1,persistence:[u1,ZR,HE]}),s=aE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=rC(u.toString());YR(n,f,()=>f(n.currentUser)),QR(n,m=>f(m))}}const o=rE("auth");return o&&DR(n,`http://${o}`),n}function aC(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}vR({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=ii("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",aC().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});tC("Browser");var F_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qr,YE;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,b){function A(){}A.prototype=b.prototype,M.D=b.prototype,M.prototype=new A,M.prototype.constructor=M,M.C=function(C,V,U){for(var I=Array(arguments.length-2),_t=2;_t<arguments.length;_t++)I[_t-2]=arguments[_t];return b.prototype[V].apply(C,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,b,A){A||(A=0);var C=Array(16);if(typeof b=="string")for(var V=0;16>V;++V)C[V]=b.charCodeAt(A++)|b.charCodeAt(A++)<<8|b.charCodeAt(A++)<<16|b.charCodeAt(A++)<<24;else for(V=0;16>V;++V)C[V]=b[A++]|b[A++]<<8|b[A++]<<16|b[A++]<<24;b=M.g[0],A=M.g[1],V=M.g[2];var U=M.g[3],I=b+(U^A&(V^U))+C[0]+3614090360&4294967295;b=A+(I<<7&4294967295|I>>>25),I=U+(V^b&(A^V))+C[1]+3905402710&4294967295,U=b+(I<<12&4294967295|I>>>20),I=V+(A^U&(b^A))+C[2]+606105819&4294967295,V=U+(I<<17&4294967295|I>>>15),I=A+(b^V&(U^b))+C[3]+3250441966&4294967295,A=V+(I<<22&4294967295|I>>>10),I=b+(U^A&(V^U))+C[4]+4118548399&4294967295,b=A+(I<<7&4294967295|I>>>25),I=U+(V^b&(A^V))+C[5]+1200080426&4294967295,U=b+(I<<12&4294967295|I>>>20),I=V+(A^U&(b^A))+C[6]+2821735955&4294967295,V=U+(I<<17&4294967295|I>>>15),I=A+(b^V&(U^b))+C[7]+4249261313&4294967295,A=V+(I<<22&4294967295|I>>>10),I=b+(U^A&(V^U))+C[8]+1770035416&4294967295,b=A+(I<<7&4294967295|I>>>25),I=U+(V^b&(A^V))+C[9]+2336552879&4294967295,U=b+(I<<12&4294967295|I>>>20),I=V+(A^U&(b^A))+C[10]+4294925233&4294967295,V=U+(I<<17&4294967295|I>>>15),I=A+(b^V&(U^b))+C[11]+2304563134&4294967295,A=V+(I<<22&4294967295|I>>>10),I=b+(U^A&(V^U))+C[12]+1804603682&4294967295,b=A+(I<<7&4294967295|I>>>25),I=U+(V^b&(A^V))+C[13]+4254626195&4294967295,U=b+(I<<12&4294967295|I>>>20),I=V+(A^U&(b^A))+C[14]+2792965006&4294967295,V=U+(I<<17&4294967295|I>>>15),I=A+(b^V&(U^b))+C[15]+1236535329&4294967295,A=V+(I<<22&4294967295|I>>>10),I=b+(V^U&(A^V))+C[1]+4129170786&4294967295,b=A+(I<<5&4294967295|I>>>27),I=U+(A^V&(b^A))+C[6]+3225465664&4294967295,U=b+(I<<9&4294967295|I>>>23),I=V+(b^A&(U^b))+C[11]+643717713&4294967295,V=U+(I<<14&4294967295|I>>>18),I=A+(U^b&(V^U))+C[0]+3921069994&4294967295,A=V+(I<<20&4294967295|I>>>12),I=b+(V^U&(A^V))+C[5]+3593408605&4294967295,b=A+(I<<5&4294967295|I>>>27),I=U+(A^V&(b^A))+C[10]+38016083&4294967295,U=b+(I<<9&4294967295|I>>>23),I=V+(b^A&(U^b))+C[15]+3634488961&4294967295,V=U+(I<<14&4294967295|I>>>18),I=A+(U^b&(V^U))+C[4]+3889429448&4294967295,A=V+(I<<20&4294967295|I>>>12),I=b+(V^U&(A^V))+C[9]+568446438&4294967295,b=A+(I<<5&4294967295|I>>>27),I=U+(A^V&(b^A))+C[14]+3275163606&4294967295,U=b+(I<<9&4294967295|I>>>23),I=V+(b^A&(U^b))+C[3]+4107603335&4294967295,V=U+(I<<14&4294967295|I>>>18),I=A+(U^b&(V^U))+C[8]+1163531501&4294967295,A=V+(I<<20&4294967295|I>>>12),I=b+(V^U&(A^V))+C[13]+2850285829&4294967295,b=A+(I<<5&4294967295|I>>>27),I=U+(A^V&(b^A))+C[2]+4243563512&4294967295,U=b+(I<<9&4294967295|I>>>23),I=V+(b^A&(U^b))+C[7]+1735328473&4294967295,V=U+(I<<14&4294967295|I>>>18),I=A+(U^b&(V^U))+C[12]+2368359562&4294967295,A=V+(I<<20&4294967295|I>>>12),I=b+(A^V^U)+C[5]+4294588738&4294967295,b=A+(I<<4&4294967295|I>>>28),I=U+(b^A^V)+C[8]+2272392833&4294967295,U=b+(I<<11&4294967295|I>>>21),I=V+(U^b^A)+C[11]+1839030562&4294967295,V=U+(I<<16&4294967295|I>>>16),I=A+(V^U^b)+C[14]+4259657740&4294967295,A=V+(I<<23&4294967295|I>>>9),I=b+(A^V^U)+C[1]+2763975236&4294967295,b=A+(I<<4&4294967295|I>>>28),I=U+(b^A^V)+C[4]+1272893353&4294967295,U=b+(I<<11&4294967295|I>>>21),I=V+(U^b^A)+C[7]+4139469664&4294967295,V=U+(I<<16&4294967295|I>>>16),I=A+(V^U^b)+C[10]+3200236656&4294967295,A=V+(I<<23&4294967295|I>>>9),I=b+(A^V^U)+C[13]+681279174&4294967295,b=A+(I<<4&4294967295|I>>>28),I=U+(b^A^V)+C[0]+3936430074&4294967295,U=b+(I<<11&4294967295|I>>>21),I=V+(U^b^A)+C[3]+3572445317&4294967295,V=U+(I<<16&4294967295|I>>>16),I=A+(V^U^b)+C[6]+76029189&4294967295,A=V+(I<<23&4294967295|I>>>9),I=b+(A^V^U)+C[9]+3654602809&4294967295,b=A+(I<<4&4294967295|I>>>28),I=U+(b^A^V)+C[12]+3873151461&4294967295,U=b+(I<<11&4294967295|I>>>21),I=V+(U^b^A)+C[15]+530742520&4294967295,V=U+(I<<16&4294967295|I>>>16),I=A+(V^U^b)+C[2]+3299628645&4294967295,A=V+(I<<23&4294967295|I>>>9),I=b+(V^(A|~U))+C[0]+4096336452&4294967295,b=A+(I<<6&4294967295|I>>>26),I=U+(A^(b|~V))+C[7]+1126891415&4294967295,U=b+(I<<10&4294967295|I>>>22),I=V+(b^(U|~A))+C[14]+2878612391&4294967295,V=U+(I<<15&4294967295|I>>>17),I=A+(U^(V|~b))+C[5]+4237533241&4294967295,A=V+(I<<21&4294967295|I>>>11),I=b+(V^(A|~U))+C[12]+1700485571&4294967295,b=A+(I<<6&4294967295|I>>>26),I=U+(A^(b|~V))+C[3]+2399980690&4294967295,U=b+(I<<10&4294967295|I>>>22),I=V+(b^(U|~A))+C[10]+4293915773&4294967295,V=U+(I<<15&4294967295|I>>>17),I=A+(U^(V|~b))+C[1]+2240044497&4294967295,A=V+(I<<21&4294967295|I>>>11),I=b+(V^(A|~U))+C[8]+1873313359&4294967295,b=A+(I<<6&4294967295|I>>>26),I=U+(A^(b|~V))+C[15]+4264355552&4294967295,U=b+(I<<10&4294967295|I>>>22),I=V+(b^(U|~A))+C[6]+2734768916&4294967295,V=U+(I<<15&4294967295|I>>>17),I=A+(U^(V|~b))+C[13]+1309151649&4294967295,A=V+(I<<21&4294967295|I>>>11),I=b+(V^(A|~U))+C[4]+4149444226&4294967295,b=A+(I<<6&4294967295|I>>>26),I=U+(A^(b|~V))+C[11]+3174756917&4294967295,U=b+(I<<10&4294967295|I>>>22),I=V+(b^(U|~A))+C[2]+718787259&4294967295,V=U+(I<<15&4294967295|I>>>17),I=A+(U^(V|~b))+C[9]+3951481745&4294967295,M.g[0]=M.g[0]+b&4294967295,M.g[1]=M.g[1]+(V+(I<<21&4294967295|I>>>11))&4294967295,M.g[2]=M.g[2]+V&4294967295,M.g[3]=M.g[3]+U&4294967295}s.prototype.u=function(M,b){b===void 0&&(b=M.length);for(var A=b-this.blockSize,C=this.B,V=this.h,U=0;U<b;){if(V==0)for(;U<=A;)o(this,M,U),U+=this.blockSize;if(typeof M=="string"){for(;U<b;)if(C[V++]=M.charCodeAt(U++),V==this.blockSize){o(this,C),V=0;break}}else for(;U<b;)if(C[V++]=M[U++],V==this.blockSize){o(this,C),V=0;break}}this.h=V,this.o+=b},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var b=1;b<M.length-8;++b)M[b]=0;var A=8*this.o;for(b=M.length-8;b<M.length;++b)M[b]=A&255,A/=256;for(this.u(M),M=Array(16),b=A=0;4>b;++b)for(var C=0;32>C;C+=8)M[A++]=this.g[b]>>>C&255;return M};function u(M,b){var A=m;return Object.prototype.hasOwnProperty.call(A,M)?A[M]:A[M]=b(M)}function f(M,b){this.h=b;for(var A=[],C=!0,V=M.length-1;0<=V;V--){var U=M[V]|0;C&&U==b||(A[V]=U,C=!1)}this.g=A}var m={};function g(M){return-128<=M&&128>M?u(M,function(b){return new f([b|0],0>b?-1:0)}):new f([M|0],0>M?-1:0)}function y(M){if(isNaN(M)||!isFinite(M))return R;if(0>M)return j(y(-M));for(var b=[],A=1,C=0;M>=A;C++)b[C]=M/A|0,A*=4294967296;return new f(b,0)}function T(M,b){if(M.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(M.charAt(0)=="-")return j(T(M.substring(1),b));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=y(Math.pow(b,8)),C=R,V=0;V<M.length;V+=8){var U=Math.min(8,M.length-V),I=parseInt(M.substring(V,V+U),b);8>U?(U=y(Math.pow(b,U)),C=C.j(U).add(y(I))):(C=C.j(A),C=C.add(y(I)))}return C}var R=g(0),D=g(1),L=g(16777216);r=f.prototype,r.m=function(){if(Z(this))return-j(this).m();for(var M=0,b=1,A=0;A<this.g.length;A++){var C=this.i(A);M+=(0<=C?C:4294967296+C)*b,b*=4294967296}return M},r.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(B(this))return"0";if(Z(this))return"-"+j(this).toString(M);for(var b=y(Math.pow(M,6)),A=this,C="";;){var V=me(A,b).g;A=$(A,V.j(b));var U=((0<A.g.length?A.g[0]:A.h)>>>0).toString(M);if(A=V,B(A))return U+C;for(;6>U.length;)U="0"+U;C=U+C}},r.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function B(M){if(M.h!=0)return!1;for(var b=0;b<M.g.length;b++)if(M.g[b]!=0)return!1;return!0}function Z(M){return M.h==-1}r.l=function(M){return M=$(this,M),Z(M)?-1:B(M)?0:1};function j(M){for(var b=M.g.length,A=[],C=0;C<b;C++)A[C]=~M.g[C];return new f(A,~M.h).add(D)}r.abs=function(){return Z(this)?j(this):this},r.add=function(M){for(var b=Math.max(this.g.length,M.g.length),A=[],C=0,V=0;V<=b;V++){var U=C+(this.i(V)&65535)+(M.i(V)&65535),I=(U>>>16)+(this.i(V)>>>16)+(M.i(V)>>>16);C=I>>>16,U&=65535,I&=65535,A[V]=I<<16|U}return new f(A,A[A.length-1]&-2147483648?-1:0)};function $(M,b){return M.add(j(b))}r.j=function(M){if(B(this)||B(M))return R;if(Z(this))return Z(M)?j(this).j(j(M)):j(j(this).j(M));if(Z(M))return j(this.j(j(M)));if(0>this.l(L)&&0>M.l(L))return y(this.m()*M.m());for(var b=this.g.length+M.g.length,A=[],C=0;C<2*b;C++)A[C]=0;for(C=0;C<this.g.length;C++)for(var V=0;V<M.g.length;V++){var U=this.i(C)>>>16,I=this.i(C)&65535,_t=M.i(V)>>>16,ft=M.i(V)&65535;A[2*C+2*V]+=I*ft,te(A,2*C+2*V),A[2*C+2*V+1]+=U*ft,te(A,2*C+2*V+1),A[2*C+2*V+1]+=I*_t,te(A,2*C+2*V+1),A[2*C+2*V+2]+=U*_t,te(A,2*C+2*V+2)}for(C=0;C<b;C++)A[C]=A[2*C+1]<<16|A[2*C];for(C=b;C<2*b;C++)A[C]=0;return new f(A,0)};function te(M,b){for(;(M[b]&65535)!=M[b];)M[b+1]+=M[b]>>>16,M[b]&=65535,b++}function J(M,b){this.g=M,this.h=b}function me(M,b){if(B(b))throw Error("division by zero");if(B(M))return new J(R,R);if(Z(M))return b=me(j(M),b),new J(j(b.g),j(b.h));if(Z(b))return b=me(M,j(b)),new J(j(b.g),b.h);if(30<M.g.length){if(Z(M)||Z(b))throw Error("slowDivide_ only works with positive integers.");for(var A=D,C=b;0>=C.l(M);)A=ue(A),C=ue(C);var V=Se(A,1),U=Se(C,1);for(C=Se(C,2),A=Se(A,2);!B(C);){var I=U.add(C);0>=I.l(M)&&(V=V.add(A),U=I),C=Se(C,1),A=Se(A,1)}return b=$(M,V.j(b)),new J(V,b)}for(V=R;0<=M.l(b);){for(A=Math.max(1,Math.floor(M.m()/b.m())),C=Math.ceil(Math.log(A)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),U=y(A),I=U.j(b);Z(I)||0<I.l(M);)A-=C,U=y(A),I=U.j(b);B(U)&&(U=D),V=V.add(U),M=$(M,I)}return new J(V,M)}r.A=function(M){return me(this,M).h},r.and=function(M){for(var b=Math.max(this.g.length,M.g.length),A=[],C=0;C<b;C++)A[C]=this.i(C)&M.i(C);return new f(A,this.h&M.h)},r.or=function(M){for(var b=Math.max(this.g.length,M.g.length),A=[],C=0;C<b;C++)A[C]=this.i(C)|M.i(C);return new f(A,this.h|M.h)},r.xor=function(M){for(var b=Math.max(this.g.length,M.g.length),A=[],C=0;C<b;C++)A[C]=this.i(C)^M.i(C);return new f(A,this.h^M.h)};function ue(M){for(var b=M.g.length+1,A=[],C=0;C<b;C++)A[C]=M.i(C)<<1|M.i(C-1)>>>31;return new f(A,M.h)}function Se(M,b){var A=b>>5;b%=32;for(var C=M.g.length-A,V=[],U=0;U<C;U++)V[U]=0<b?M.i(U+A)>>>b|M.i(U+A+1)<<32-b:M.i(U+A);return new f(V,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,YE=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=T,qr=f}).apply(typeof F_<"u"?F_:typeof self<"u"?self:typeof window<"u"?window:{});var vc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $E,El,XE,Mc,Yd,ZE,WE,JE;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,p,_){return c==Array.prototype||c==Object.prototype||(c[p]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof vc=="object"&&vc];for(var p=0;p<c.length;++p){var _=c[p];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,p){if(p)e:{var _=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var P=c[S];if(!(P in _))break e;_=_[P]}c=c[c.length-1],S=_[c],p=p(S),p!=S&&p!=null&&e(_,c,{configurable:!0,writable:!0,value:p})}}function u(c,p){c instanceof String&&(c+="");var _=0,S=!1,P={next:function(){if(!S&&_<c.length){var q=_++;return{value:p(q,c[q]),done:!1}}return S=!0,{done:!0,value:void 0}}};return P[Symbol.iterator]=function(){return P},P}o("Array.prototype.values",function(c){return c||function(){return u(this,function(p,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function g(c){var p=typeof c;return p=p!="object"?p:c?Array.isArray(c)?"array":p:"null",p=="array"||p=="object"&&typeof c.length=="number"}function y(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function T(c,p,_){return c.call.apply(c.bind,arguments)}function R(c,p,_){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var P=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(P,S),c.apply(p,P)}}return function(){return c.apply(p,arguments)}}function D(c,p,_){return D=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:R,D.apply(null,arguments)}function L(c,p){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function B(c,p){function _(){}_.prototype=p.prototype,c.aa=p.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(S,P,q){for(var ee=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)ee[Me-2]=arguments[Me];return p.prototype[P].apply(S,ee)}}function Z(c){const p=c.length;if(0<p){const _=Array(p);for(let S=0;S<p;S++)_[S]=c[S];return _}return[]}function j(c,p){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(g(S)){const P=c.length||0,q=S.length||0;c.length=P+q;for(let ee=0;ee<q;ee++)c[P+ee]=S[ee]}else c.push(S)}}class ${constructor(p,_){this.i=p,this.j=_,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function te(c){return/^[\s\xa0]*$/.test(c)}function J(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function me(c){return me[" "](c),c}me[" "]=function(){};var ue=J().indexOf("Gecko")!=-1&&!(J().toLowerCase().indexOf("webkit")!=-1&&J().indexOf("Edge")==-1)&&!(J().indexOf("Trident")!=-1||J().indexOf("MSIE")!=-1)&&J().indexOf("Edge")==-1;function Se(c,p,_){for(const S in c)p.call(_,c[S],S,c)}function M(c,p){for(const _ in c)p.call(void 0,c[_],_,c)}function b(c){const p={};for(const _ in c)p[_]=c[_];return p}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(c,p){let _,S;for(let P=1;P<arguments.length;P++){S=arguments[P];for(_ in S)c[_]=S[_];for(let q=0;q<A.length;q++)_=A[q],Object.prototype.hasOwnProperty.call(S,_)&&(c[_]=S[_])}}function V(c){var p=1;c=c.split(":");const _=[];for(;0<p&&c.length;)_.push(c.shift()),p--;return c.length&&_.push(c.join(":")),_}function U(c){m.setTimeout(()=>{throw c},0)}function I(){var c=je;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class _t{constructor(){this.h=this.g=null}add(p,_){const S=ft.get();S.set(p,_),this.h?this.h.next=S:this.g=S,this.h=S}}var ft=new $(()=>new ie,c=>c.reset());class ie{constructor(){this.next=this.g=this.h=null}set(p,_){this.h=p,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let _e,de=!1,je=new _t,O=()=>{const c=m.Promise.resolve(void 0);_e=()=>{c.then(W)}};var W=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(_){U(_)}var p=ft;p.j(c),100>p.h&&(p.h++,c.next=p.g,p.g=c)}de=!1};function he(){this.s=this.s,this.C=this.C}he.prototype.s=!1,he.prototype.ma=function(){this.s||(this.s=!0,this.N())},he.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function re(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}re.prototype.h=function(){this.defaultPrevented=!0};var se=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,p),m.removeEventListener("test",_,p)}catch{}return c}();function Re(c,p){if(re.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget){if(ue){e:{try{me(p.nodeName);var P=!0;break e}catch{}P=!1}P||(p=null)}}else _=="mouseover"?p=c.fromElement:_=="mouseout"&&(p=c.toElement);this.relatedTarget=p,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:be[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Re.aa.h.call(this)}}B(Re,re);var be={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var dt="closure_listenable_"+(1e6*Math.random()|0),ze=0;function nt(c,p,_,S,P){this.listener=c,this.proxy=null,this.src=p,this.type=_,this.capture=!!S,this.ha=P,this.key=++ze,this.da=this.fa=!1}function Ge(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Yt(c){this.src=c,this.g={},this.h=0}Yt.prototype.add=function(c,p,_,S,P){var q=c.toString();c=this.g[q],c||(c=this.g[q]=[],this.h++);var ee=mn(c,p,S,P);return-1<ee?(p=c[ee],_||(p.fa=!1)):(p=new nt(p,this.src,q,!!S,P),p.fa=_,c.push(p)),p};function ci(c,p){var _=p.type;if(_ in c.g){var S=c.g[_],P=Array.prototype.indexOf.call(S,p,void 0),q;(q=0<=P)&&Array.prototype.splice.call(S,P,1),q&&(Ge(p),c.g[_].length==0&&(delete c.g[_],c.h--))}}function mn(c,p,_,S){for(var P=0;P<c.length;++P){var q=c[P];if(!q.da&&q.listener==p&&q.capture==!!_&&q.ha==S)return P}return-1}var $i="closure_lm_"+(1e6*Math.random()|0),Xi={};function hi(c,p,_,S,P){if(Array.isArray(p)){for(var q=0;q<p.length;q++)hi(c,p[q],_,S,P);return null}return _=Xl(_),c&&c[dt]?c.K(p,_,y(S)?!!S.capture:!1,P):oo(c,p,_,!1,S,P)}function oo(c,p,_,S,P,q){if(!p)throw Error("Invalid event type");var ee=y(P)?!!P.capture:!!P,Me=lo(c);if(Me||(c[$i]=Me=new Yt(c)),_=Me.add(p,_,S,ee,q),_.proxy)return _;if(S=Hs(),_.proxy=S,S.src=c,S.listener=_,c.addEventListener)se||(P=ee),P===void 0&&(P=!1),c.addEventListener(p.toString(),S,P);else if(c.attachEvent)c.attachEvent(js(p.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Hs(){function c(_){return p.call(c.src,c.listener,_)}const p=_h;return c}function qs(c,p,_,S,P){if(Array.isArray(p))for(var q=0;q<p.length;q++)qs(c,p[q],_,S,P);else S=y(S)?!!S.capture:!!S,_=Xl(_),c&&c[dt]?(c=c.i,p=String(p).toString(),p in c.g&&(q=c.g[p],_=mn(q,_,S,P),-1<_&&(Ge(q[_]),Array.prototype.splice.call(q,_,1),q.length==0&&(delete c.g[p],c.h--)))):c&&(c=lo(c))&&(p=c.g[p.toString()],c=-1,p&&(c=mn(p,_,S,P)),(_=-1<c?p[c]:null)&&Zr(_))}function Zr(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[dt])ci(p.i,c);else{var _=c.type,S=c.proxy;p.removeEventListener?p.removeEventListener(_,S,c.capture):p.detachEvent?p.detachEvent(js(_),S):p.addListener&&p.removeListener&&p.removeListener(S),(_=lo(p))?(ci(_,c),_.h==0&&(_.src=null,p[$i]=null)):Ge(c)}}}function js(c){return c in Xi?Xi[c]:Xi[c]="on"+c}function _h(c,p){if(c.da)c=!0;else{p=new Re(p,this);var _=c.listener,S=c.ha||c.src;c.fa&&Zr(c),c=_.call(S,p)}return c}function lo(c){return c=c[$i],c instanceof Yt?c:null}var tn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xl(c){return typeof c=="function"?c:(c[tn]||(c[tn]=function(p){return c.handleEvent(p)}),c[tn])}function vt(){he.call(this),this.i=new Yt(this),this.M=this,this.F=null}B(vt,he),vt.prototype[dt]=!0,vt.prototype.removeEventListener=function(c,p,_,S){qs(this,c,p,_,S)};function Ct(c,p){var _,S=c.F;if(S)for(_=[];S;S=S.F)_.push(S);if(c=c.M,S=p.type||p,typeof p=="string")p=new re(p,c);else if(p instanceof re)p.target=p.target||c;else{var P=p;p=new re(S,c),C(p,P)}if(P=!0,_)for(var q=_.length-1;0<=q;q--){var ee=p.g=_[q];P=fi(ee,S,!0,p)&&P}if(ee=p.g=c,P=fi(ee,S,!0,p)&&P,P=fi(ee,S,!1,p)&&P,_)for(q=0;q<_.length;q++)ee=p.g=_[q],P=fi(ee,S,!1,p)&&P}vt.prototype.N=function(){if(vt.aa.N.call(this),this.i){var c=this.i,p;for(p in c.g){for(var _=c.g[p],S=0;S<_.length;S++)Ge(_[S]);delete c.g[p],c.h--}}this.F=null},vt.prototype.K=function(c,p,_,S){return this.i.add(String(c),p,!1,_,S)},vt.prototype.L=function(c,p,_,S){return this.i.add(String(c),p,!0,_,S)};function fi(c,p,_,S){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();for(var P=!0,q=0;q<p.length;++q){var ee=p[q];if(ee&&!ee.da&&ee.capture==_){var Me=ee.listener,Tt=ee.ha||ee.src;ee.fa&&ci(c.i,ee),P=Me.call(Tt,S)!==!1&&P}}return P&&!S.defaultPrevented}function Zl(c,p,_){if(typeof c=="function")_&&(c=D(c,_));else if(c&&typeof c.handleEvent=="function")c=D(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:m.setTimeout(c,p||0)}function uo(c){c.g=Zl(()=>{c.g=null,c.i&&(c.i=!1,uo(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class vh extends he{constructor(p,_){super(),this.m=p,this.l=_,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:uo(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wr(c){he.call(this),this.h=c,this.g={}}B(Wr,he);var Zi=[];function Ht(c){Se(c.g,function(p,_){this.g.hasOwnProperty(_)&&Zr(p)},c),c.g={}}Wr.prototype.N=function(){Wr.aa.N.call(this),Ht(this)},Wr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var co=m.JSON.stringify,zn=m.JSON.parse,$t=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function ho(){}ho.prototype.h=null;function Wl(c){return c.h||(c.h=c.i())}function Jl(){}var Bn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Wi(){re.call(this,"d")}B(Wi,re);function Mn(){re.call(this,"c")}B(Mn,re);var pn={},Ji=null;function Fs(){return Ji=Ji||new vt}pn.La="serverreachability";function fo(c){re.call(this,pn.La,c)}B(fo,re);function er(c){const p=Fs();Ct(p,new fo(p))}pn.STAT_EVENT="statevent";function Gs(c,p){re.call(this,pn.STAT_EVENT,c),this.stat=p}B(Gs,re);function lt(c){const p=Fs();Ct(p,new Gs(p,c))}pn.Ma="timingevent";function eu(c,p){re.call(this,pn.Ma,c),this.size=p}B(eu,re);function tr(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},p)}function nr(){this.g=!0}nr.prototype.xa=function(){this.g=!1};function tu(c,p,_,S,P,q){c.info(function(){if(c.g)if(q)for(var ee="",Me=q.split("&"),Tt=0;Tt<Me.length;Tt++){var Ve=Me[Tt].split("=");if(1<Ve.length){var Ot=Ve[0];Ve=Ve[1];var St=Ot.split("_");ee=2<=St.length&&St[1]=="type"?ee+(Ot+"="+Ve+"&"):ee+(Ot+"=redacted&")}}else ee=null;else ee=q;return"XMLHTTP REQ ("+S+") [attempt "+P+"]: "+p+`
`+_+`
`+ee})}function nu(c,p,_,S,P,q,ee){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+P+"]: "+p+`
`+_+`
`+q+" "+ee})}function ir(c,p,_,S){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+It(c,_)+(S?" "+S:"")})}function Hn(c,p){c.info(function(){return"TIMEOUT: "+p})}nr.prototype.info=function(){};function It(c,p){if(!c.g)return p;if(!p)return null;try{var _=JSON.parse(p);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var S=_[c];if(!(2>S.length)){var P=S[1];if(Array.isArray(P)&&!(1>P.length)){var q=P[0];if(q!="noop"&&q!="stop"&&q!="close")for(var ee=1;ee<P.length;ee++)P[ee]=""}}}}return co(_)}catch{return p}}var Et={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},di={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Jr;function Ks(){}B(Ks,ho),Ks.prototype.g=function(){return new XMLHttpRequest},Ks.prototype.i=function(){return{}},Jr=new Ks;function qn(c,p,_,S){this.j=c,this.i=p,this.l=_,this.R=S||1,this.U=new Wr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new mo}function mo(){this.i=null,this.g="",this.h=!1}var rr={},es={};function Vn(c,p,_){c.L=1,c.v=is(it(p)),c.m=_,c.P=!0,mi(c,null)}function mi(c,p){c.F=Date.now(),Ze(c),c.A=it(c.v);var _=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),yi(_.i,"t",S),c.C=0,_=c.j.J,c.h=new mo,c.g=gu(c.j,_?p:null,!c.m),0<c.O&&(c.M=new vh(D(c.Y,c,c.g),c.O)),p=c.U,_=c.g,S=c.ca;var P="readystatechange";Array.isArray(P)||(P&&(Zi[0]=P.toString()),P=Zi);for(var q=0;q<P.length;q++){var ee=hi(_,P[q],S||p.handleEvent,!1,p.h||p);if(!ee)break;p.g[ee.key]=ee}p=c.H?b(c.H):{},c.m?(c.u||(c.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,p)):(c.u="GET",c.g.ea(c.A,c.u,null,p)),er(),tu(c.i,c.u,c.A,c.l,c.R,c.m)}qn.prototype.ca=function(c){c=c.target;const p=this.M;p&&En(c)==3?p.j():this.Y(c)},qn.prototype.Y=function(c){try{if(c==this.g)e:{const St=En(this.g);var p=this.g.Ba();const Ti=this.g.Z();if(!(3>St)&&(St!=3||this.g&&(this.h.h||this.g.oa()||lu(this.g)))){this.J||St!=4||p==7||(p==8||0>=Ti?er(3):er(2)),Qs(this);var _=this.g.Z();this.X=_;t:if(sr(this)){var S=lu(this.g);c="";var P=S.length,q=En(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){nn(this),on(this);var ee="";break t}this.h.i=new m.TextDecoder}for(p=0;p<P;p++)this.h.h=!0,c+=this.h.i.decode(S[p],{stream:!(q&&p==P-1)});S.length=0,this.h.g+=c,this.C=0,ee=this.h.g}else ee=this.g.oa();if(this.o=_==200,nu(this.i,this.u,this.A,this.l,this.R,St,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Me,Tt=this.g;if((Me=Tt.g?Tt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!te(Me)){var Ve=Me;break t}}Ve=null}if(_=Ve)ir(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ln(this,_);else{this.o=!1,this.s=3,lt(12),nn(this),on(this);break e}}if(this.P){_=!0;let kt;for(;!this.J&&this.C<ee.length;)if(kt=ar(this,ee),kt==es){St==4&&(this.s=4,lt(14),_=!1),ir(this.i,this.l,null,"[Incomplete Response]");break}else if(kt==rr){this.s=4,lt(15),ir(this.i,this.l,ee,"[Invalid Chunk]"),_=!1;break}else ir(this.i,this.l,kt,null),ln(this,kt);if(sr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||ee.length!=0||this.h.h||(this.s=1,lt(16),_=!1),this.o=this.o&&_,!_)ir(this.i,this.l,ee,"[Invalid Chunked Response]"),nn(this),on(this);else if(0<ee.length&&!this.W){this.W=!0;var Ot=this.j;Ot.g==this&&Ot.ba&&!Ot.M&&(Ot.j.info("Great, no buffering proxy detected. Bytes received: "+ee.length),cs(Ot),Ot.M=!0,lt(11))}}else ir(this.i,this.l,ee,null),ln(this,ee);St==4&&nn(this),this.o&&!this.J&&(St==4?du(this.j,this):(this.o=!1,Ze(this)))}else wh(this.g),_==400&&0<ee.indexOf("Unknown SID")?(this.s=3,lt(12)):(this.s=0,lt(13)),nn(this),on(this)}}}catch{}finally{}};function sr(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function ar(c,p){var _=c.C,S=p.indexOf(`
`,_);return S==-1?es:(_=Number(p.substring(_,S)),isNaN(_)?rr:(S+=1,S+_>p.length?es:(p=p.slice(S,S+_),c.C=S+_,p)))}qn.prototype.cancel=function(){this.J=!0,nn(this)};function Ze(c){c.S=Date.now()+c.I,po(c,c.I)}function po(c,p){if(c.B!=null)throw Error("WatchDog timer not null");c.B=tr(D(c.ba,c),p)}function Qs(c){c.B&&(m.clearTimeout(c.B),c.B=null)}qn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Hn(this.i,this.A),this.L!=2&&(er(),lt(17)),nn(this),this.s=2,on(this)):po(this,this.S-c)};function on(c){c.j.G==0||c.J||du(c.j,c)}function nn(c){Qs(c);var p=c.M;p&&typeof p.ma=="function"&&p.ma(),c.M=null,Ht(c.U),c.g&&(p=c.g,c.g=null,p.abort(),p.ma())}function ln(c,p){try{var _=c.j;if(_.G!=0&&(_.g==c||or(_.h,c))){if(!c.K&&or(_.h,c)&&_.G==3){try{var S=_.Da.g.parse(p)}catch{S=null}if(Array.isArray(S)&&S.length==3){var P=S;if(P[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)ia(_),ta(_);else break e;Ro(_),lt(18)}}else _.za=P[1],0<_.za-_.T&&37500>P[2]&&_.F&&_.v==0&&!_.C&&(_.C=tr(D(_.Za,_),6e3));if(1>=iu(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ei(_,11)}else if((c.K||_.g==c)&&ia(_),!te(p))for(P=_.Da.g.parse(p),p=0;p<P.length;p++){let Ve=P[p];if(_.T=Ve[0],Ve=Ve[1],_.G==2)if(Ve[0]=="c"){_.K=Ve[1],_.ia=Ve[2];const Ot=Ve[3];Ot!=null&&(_.la=Ot,_.j.info("VER="+_.la));const St=Ve[4];St!=null&&(_.Aa=St,_.j.info("SVER="+_.Aa));const Ti=Ve[5];Ti!=null&&typeof Ti=="number"&&0<Ti&&(S=1.5*Ti,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const kt=c.g;if(kt){const $n=kt.g?kt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($n){var q=S.h;q.g||$n.indexOf("spdy")==-1&&$n.indexOf("quic")==-1&&$n.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(lr(q,q.h),q.h=null))}if(S.D){const Io=kt.g?kt.g.getResponseHeader("X-HTTP-Session-Id"):null;Io&&(S.ya=Io,Be(S.I,S.D,Io))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var ee=c;if(S.qa=pu(S,S.J?S.ia:null,S.W),ee.K){gn(S.h,ee);var Me=ee,Tt=S.L;Tt&&(Me.I=Tt),Me.B&&(Qs(Me),Ze(Me)),S.g=ee}else hu(S);0<_.i.length&&na(_)}else Ve[0]!="stop"&&Ve[0]!="close"||Ei(_,7);else _.G==3&&(Ve[0]=="stop"||Ve[0]=="close"?Ve[0]=="stop"?Ei(_,7):bo(_):Ve[0]!="noop"&&_.l&&_.l.ta(Ve),_.v=0)}}er(4)}catch{}}var Eh=class{constructor(c,p){this.g=c,this.map=p}};function go(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function yo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function iu(c){return c.h?1:c.g?c.g.size:0}function or(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function lr(c,p){c.g?c.g.add(p):c.h=p}function gn(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}go.prototype.cancel=function(){if(this.i=Xt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Xt(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const _ of c.g.values())p=p.concat(_.D);return p}return Z(c.i)}function ru(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(g(c)){for(var p=[],_=c.length,S=0;S<_;S++)p.push(c[S]);return p}p=[],_=0;for(S in c)p[_++]=c[S];return p}function Th(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(g(c)||typeof c=="string"){var p=[];c=c.length;for(var _=0;_<c;_++)p.push(_);return p}p=[],_=0;for(const S in c)p[_++]=S;return p}}}function ts(c,p){if(c.forEach&&typeof c.forEach=="function")c.forEach(p,void 0);else if(g(c)||typeof c=="string")Array.prototype.forEach.call(c,p,void 0);else for(var _=Th(c),S=ru(c),P=S.length,q=0;q<P;q++)p.call(void 0,S[q],_&&_[q],c)}var _o=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ys(c,p){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var S=c[_].indexOf("="),P=null;if(0<=S){var q=c[_].substring(0,S);P=c[_].substring(S+1)}else q=c[_];p(q,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function pi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof pi){this.h=c.h,ur(this,c.j),this.o=c.o,this.g=c.g,ns(this,c.s),this.l=c.l;var p=c.i,_=new jn;_.i=p.i,p.g&&(_.g=new Map(p.g),_.h=p.h),$s(this,_),this.m=c.m}else c&&(p=String(c).match(_o))?(this.h=!1,ur(this,p[1]||"",!0),this.o=cr(p[2]||""),this.g=cr(p[3]||"",!0),ns(this,p[4]),this.l=cr(p[5]||"",!0),$s(this,p[6]||"",!0),this.m=cr(p[7]||"")):(this.h=!1,this.i=new jn(null,this.h))}pi.prototype.toString=function(){var c=[],p=this.j;p&&c.push(yn(p,vo,!0),":");var _=this.g;return(_||p=="file")&&(c.push("//"),(p=this.o)&&c.push(yn(p,vo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(yn(_,_.charAt(0)=="/"?Eo:su,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",yn(_,bh)),c.join("")};function it(c){return new pi(c)}function ur(c,p,_){c.j=_?cr(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function ns(c,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);c.s=p}else c.s=null}function $s(c,p,_){p instanceof jn?(c.i=p,To(c.i,c.h)):(_||(p=yn(p,Ah)),c.i=new jn(p,c.h))}function Be(c,p,_){c.i.set(p,_)}function is(c){return Be(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function cr(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function yn(c,p,_){return typeof c=="string"?(c=encodeURI(c).replace(p,Sh),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Sh(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var vo=/[#\/\?@]/g,su=/[#\?:]/g,Eo=/[#\?]/g,Ah=/[#\?@]/g,bh=/#/g;function jn(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function _n(c){c.g||(c.g=new Map,c.h=0,c.i&&Ys(c.i,function(p,_){c.add(decodeURIComponent(p.replace(/\+/g," ")),_)}))}r=jn.prototype,r.add=function(c,p){_n(this),this.i=null,c=_i(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(p),this.h+=1,this};function Xs(c,p){_n(c),p=_i(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function gi(c,p){return _n(c),p=_i(c,p),c.g.has(p)}r.forEach=function(c,p){_n(this),this.g.forEach(function(_,S){_.forEach(function(P){c.call(p,P,S,this)},this)},this)},r.na=function(){_n(this);const c=Array.from(this.g.values()),p=Array.from(this.g.keys()),_=[];for(let S=0;S<p.length;S++){const P=c[S];for(let q=0;q<P.length;q++)_.push(p[S])}return _},r.V=function(c){_n(this);let p=[];if(typeof c=="string")gi(this,c)&&(p=p.concat(this.g.get(_i(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)p=p.concat(c[_])}return p},r.set=function(c,p){return _n(this),this.i=null,c=_i(this,c),gi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},r.get=function(c,p){return c?(c=this.V(c),0<c.length?String(c[0]):p):p};function yi(c,p,_){Xs(c,p),0<_.length&&(c.i=null,c.g.set(_i(c,p),Z(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(var _=0;_<p.length;_++){var S=p[_];const q=encodeURIComponent(String(S)),ee=this.V(S);for(S=0;S<ee.length;S++){var P=q;ee[S]!==""&&(P+="="+encodeURIComponent(String(ee[S]))),c.push(P)}}return this.i=c.join("&")};function _i(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function To(c,p){p&&!c.j&&(_n(c),c.i=null,c.g.forEach(function(_,S){var P=S.toLowerCase();S!=P&&(Xs(this,S),yi(this,P,_))},c)),c.j=p}function au(c,p){const _=new nr;if(m.Image){const S=new Image;S.onload=L(vn,_,"TestLoadImage: loaded",!0,p,S),S.onerror=L(vn,_,"TestLoadImage: error",!1,p,S),S.onabort=L(vn,_,"TestLoadImage: abort",!1,p,S),S.ontimeout=L(vn,_,"TestLoadImage: timeout",!1,p,S),m.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else p(!1)}function rs(c,p){const _=new nr,S=new AbortController,P=setTimeout(()=>{S.abort(),vn(_,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:S.signal}).then(q=>{clearTimeout(P),q.ok?vn(_,"TestPingServer: ok",!0,p):vn(_,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(P),vn(_,"TestPingServer: error",!1,p)})}function vn(c,p,_,S,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),S(_)}catch{}}function ss(){this.g=new $t}function Fn(c,p,_){const S=_||"";try{ts(c,function(P,q){let ee=P;y(P)&&(ee=co(P)),p.push(S+q+"="+encodeURIComponent(ee))})}catch(P){throw p.push(S+"type="+encodeURIComponent("_badmap")),P}}function hr(c){this.l=c.Ub||null,this.j=c.eb||!1}B(hr,ho),hr.prototype.g=function(){return new vi(this.l,this.j)},hr.prototype.i=function(c){return function(){return c}}({});function vi(c,p){vt.call(this),this.D=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}B(vi,vt),r=vi.prototype,r.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=p,this.readyState=1,Kn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(p.body=c),(this.D||m).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Gn(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Kn(this)),this.g&&(this.readyState=3,Kn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;So(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function So(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?Gn(this):Kn(this),this.readyState==3&&So(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,Gn(this))},r.Qa=function(c){this.g&&(this.response=c,Gn(this))},r.ga=function(){this.g&&Gn(this)};function Gn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Kn(c)}r.setRequestHeader=function(c,p){this.u.append(c,p)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var _=p.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=p.next();return c.join(`\r
`)};function Kn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(vi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Ao(c){let p="";return Se(c,function(_,S){p+=S,p+=":",p+=_,p+=`\r
`}),p}function Dt(c,p,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=Ao(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Be(c,p,_))}function Fe(c){vt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}B(Fe,vt);var Zs=/^https?$/i,as=["POST","PUT"];r=Fe.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,p,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Jr.g(),this.v=this.o?Wl(this.o):Wl(Jr),this.g.onreadystatechange=D(this.Ea,this);try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(q){ou(this,q);return}if(c=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var P in S)_.set(P,S[P]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const q of S.keys())_.set(q,S.get(q));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(q=>q.toLowerCase()=="content-type"),P=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(as,p,void 0))||S||P||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,ee]of _)this.g.setRequestHeader(q,ee);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{os(this),this.u=!0,this.g.send(c),this.u=!1}catch(q){ou(this,q)}};function ou(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.m=5,Ws(c),Qn(c)}function Ws(c){c.A||(c.A=!0,Ct(c,"complete"),Ct(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ct(this,"complete"),Ct(this,"abort"),Qn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qn(this,!0)),Fe.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Js(this):this.bb())},r.bb=function(){Js(this)};function Js(c){if(c.h&&typeof f<"u"&&(!c.v[1]||En(c)!=4||c.Z()!=2)){if(c.u&&En(c)==4)Zl(c.Ea,0,c);else if(Ct(c,"readystatechange"),En(c)==4){c.h=!1;try{const ee=c.Z();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var _;if(!(_=p)){var S;if(S=ee===0){var P=String(c.D).match(_o)[1]||null;!P&&m.self&&m.self.location&&(P=m.self.location.protocol.slice(0,-1)),S=!Zs.test(P?P.toLowerCase():"")}_=S}if(_)Ct(c,"complete"),Ct(c,"success");else{c.m=6;try{var q=2<En(c)?c.g.statusText:""}catch{q=""}c.l=q+" ["+c.Z()+"]",Ws(c)}}finally{Qn(c)}}}}function Qn(c,p){if(c.g){os(c);const _=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,p||Ct(c,"ready");try{_.onreadystatechange=S}catch{}}}function os(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function En(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<En(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),zn(p)}};function lu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function wh(c){const p={};c=(c.g&&2<=En(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(te(c[S]))continue;var _=V(c[S]);const P=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const q=p[P]||[];p[P]=q,q.push(_)}M(p,function(S){return S.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ls(c,p,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||p}function ea(c){this.Aa=0,this.i=[],this.j=new nr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ls("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ls("baseRetryDelayMs",5e3,c),this.cb=ls("retryDelaySeedMs",1e4,c),this.Wa=ls("forwardChannelMaxRetries",2,c),this.wa=ls("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new go(c&&c.concurrentRequestLimit),this.Da=new ss,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=ea.prototype,r.la=8,r.G=1,r.connect=function(c,p,_,S){lt(0),this.W=c,this.H=p||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=pu(this,null,this.W),na(this)};function bo(c){if(uu(c),c.G==3){var p=c.U++,_=it(c.I);if(Be(_,"SID",c.K),Be(_,"RID",p),Be(_,"TYPE","terminate"),us(c,_),p=new qn(c,c.j,p),p.L=2,p.v=is(it(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(p.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=p.v,_=!0),_||(p.g=gu(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Ze(p)}mu(c)}function ta(c){c.g&&(cs(c),c.g.cancel(),c.g=null)}function uu(c){ta(c),c.u&&(m.clearTimeout(c.u),c.u=null),ia(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function na(c){if(!yo(c.h)&&!c.s){c.s=!0;var p=c.Ga;_e||O(),de||(_e(),de=!0),je.add(p,c),c.B=0}}function Rh(c,p){return iu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=p.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=tr(D(c.Ga,c,p),Co(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const P=new qn(this,this.j,c);let q=this.o;if(this.S&&(q?(q=b(q),C(q,this.S)):q=this.S),this.m!==null||this.O||(P.H=q,q=null),this.P)e:{for(var p=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(p+=S,4096<p){p=_;break e}if(p===4096||_===this.i.length-1){p=_+1;break e}}p=1e3}else p=1e3;p=cu(this,P,p),_=it(this.I),Be(_,"RID",c),Be(_,"CVER",22),this.D&&Be(_,"X-HTTP-Session-Id",this.D),us(this,_),q&&(this.O?p="headers="+encodeURIComponent(String(Ao(q)))+"&"+p:this.m&&Dt(_,this.m,q)),lr(this.h,P),this.Ua&&Be(_,"TYPE","init"),this.P?(Be(_,"$req",p),Be(_,"SID","null"),P.T=!0,Vn(P,_,null)):Vn(P,_,p),this.G=2}}else this.G==3&&(c?wo(this,c):this.i.length==0||yo(this.h)||wo(this))};function wo(c,p){var _;p?_=p.l:_=c.U++;const S=it(c.I);Be(S,"SID",c.K),Be(S,"RID",_),Be(S,"AID",c.T),us(c,S),c.m&&c.o&&Dt(S,c.m,c.o),_=new qn(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),p&&(c.i=p.D.concat(c.i)),p=cu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),lr(c.h,_),Vn(_,S,p)}function us(c,p){c.H&&Se(c.H,function(_,S){Be(p,S,_)}),c.l&&ts({},function(_,S){Be(p,S,_)})}function cu(c,p,_){_=Math.min(c.i.length,_);var S=c.l?D(c.l.Na,c.l,c):null;e:{var P=c.i;let q=-1;for(;;){const ee=["count="+_];q==-1?0<_?(q=P[0].g,ee.push("ofs="+q)):q=0:ee.push("ofs="+q);let Me=!0;for(let Tt=0;Tt<_;Tt++){let Ve=P[Tt].g;const Ot=P[Tt].map;if(Ve-=q,0>Ve)q=Math.max(0,P[Tt].g-100),Me=!1;else try{Fn(Ot,ee,"req"+Ve+"_")}catch{S&&S(Ot)}}if(Me){S=ee.join("&");break e}}}return c=c.i.splice(0,_),p.D=c,S}function hu(c){if(!c.g&&!c.u){c.Y=1;var p=c.Fa;_e||O(),de||(_e(),de=!0),je.add(p,c),c.v=0}}function Ro(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=tr(D(c.Fa,c),Co(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,fu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=tr(D(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,lt(10),ta(this),fu(this))};function cs(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function fu(c){c.g=new qn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var p=it(c.qa);Be(p,"RID","rpc"),Be(p,"SID",c.K),Be(p,"AID",c.T),Be(p,"CI",c.F?"0":"1"),!c.F&&c.ja&&Be(p,"TO",c.ja),Be(p,"TYPE","xmlhttp"),us(c,p),c.m&&c.o&&Dt(p,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=is(it(p)),_.m=null,_.P=!0,mi(_,c)}r.Za=function(){this.C!=null&&(this.C=null,ta(this),Ro(this),lt(19))};function ia(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function du(c,p){var _=null;if(c.g==p){ia(c),cs(c),c.g=null;var S=2}else if(or(c.h,p))_=p.D,gn(c.h,p),S=1;else return;if(c.G!=0){if(p.o)if(S==1){_=p.m?p.m.length:0,p=Date.now()-p.F;var P=c.B;S=Fs(),Ct(S,new eu(S,_)),na(c)}else hu(c);else if(P=p.s,P==3||P==0&&0<p.X||!(S==1&&Rh(c,p)||S==2&&Ro(c)))switch(_&&0<_.length&&(p=c.h,p.i=p.i.concat(_)),P){case 1:Ei(c,5);break;case 4:Ei(c,10);break;case 3:Ei(c,6);break;default:Ei(c,2)}}}function Co(c,p){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*p}function Ei(c,p){if(c.j.info("Error code "+p),p==2){var _=D(c.fb,c),S=c.Xa;const P=!S;S=new pi(S||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||ur(S,"https"),is(S),P?au(S.toString(),_):rs(S.toString(),_)}else lt(2);c.G=0,c.l&&c.l.sa(p),mu(c),uu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),lt(2)):(this.j.info("Failed to ping google.com"),lt(1))};function mu(c){if(c.G=0,c.ka=[],c.l){const p=Xt(c.h);(p.length!=0||c.i.length!=0)&&(j(c.ka,p),j(c.ka,c.i),c.h.i.length=0,Z(c.i),c.i.length=0),c.l.ra()}}function pu(c,p,_){var S=_ instanceof pi?it(_):new pi(_);if(S.g!="")p&&(S.g=p+"."+S.g),ns(S,S.s);else{var P=m.location;S=P.protocol,p=p?p+"."+P.hostname:P.hostname,P=+P.port;var q=new pi(null);S&&ur(q,S),p&&(q.g=p),P&&ns(q,P),_&&(q.l=_),S=q}return _=c.D,p=c.ya,_&&p&&Be(S,_,p),Be(S,"VER",c.la),us(c,S),S}function gu(c,p,_){if(p&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Ca&&!c.pa?new Fe(new hr({eb:_})):new Fe(c.pa),p.Ha(c.J),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function yu(){}r=yu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ra(){}ra.prototype.g=function(c,p){return new Zt(c,p)};function Zt(c,p){vt.call(this),this.g=new ea(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(c?c["X-WebChannel-Client-Profile"]=p.va:c={"X-WebChannel-Client-Profile":p.va}),this.g.S=c,(c=p&&p.Sb)&&!te(c)&&(this.g.m=c),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!te(p)&&(this.g.D=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new Yn(this)}B(Zt,vt),Zt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Zt.prototype.close=function(){bo(this.g)},Zt.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=co(c),c=_);p.i.push(new Eh(p.Ya++,c)),p.G==3&&na(p)},Zt.prototype.N=function(){this.g.l=null,delete this.j,bo(this.g),delete this.g,Zt.aa.N.call(this)};function _u(c){Wi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const _ in p){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}B(_u,Wi);function vu(){Mn.call(this),this.status=1}B(vu,Mn);function Yn(c){this.g=c}B(Yn,yu),Yn.prototype.ua=function(){Ct(this.g,"a")},Yn.prototype.ta=function(c){Ct(this.g,new _u(c))},Yn.prototype.sa=function(c){Ct(this.g,new vu)},Yn.prototype.ra=function(){Ct(this.g,"b")},ra.prototype.createWebChannel=ra.prototype.g,Zt.prototype.send=Zt.prototype.o,Zt.prototype.open=Zt.prototype.m,Zt.prototype.close=Zt.prototype.close,JE=function(){return new ra},WE=function(){return Fs()},ZE=pn,Yd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Et.NO_ERROR=0,Et.TIMEOUT=8,Et.HTTP_ERROR=6,Mc=Et,di.COMPLETE="complete",XE=di,Jl.EventType=Bn,Bn.OPEN="a",Bn.CLOSE="b",Bn.ERROR="c",Bn.MESSAGE="d",vt.prototype.listen=vt.prototype.K,El=Jl,Fe.prototype.listenOnce=Fe.prototype.L,Fe.prototype.getLastError=Fe.prototype.Ka,Fe.prototype.getLastErrorCode=Fe.prototype.Ba,Fe.prototype.getStatus=Fe.prototype.Z,Fe.prototype.getResponseJson=Fe.prototype.Oa,Fe.prototype.getResponseText=Fe.prototype.oa,Fe.prototype.send=Fe.prototype.ea,Fe.prototype.setWithCredentials=Fe.prototype.Ha,$E=Fe}).apply(typeof vc<"u"?vc:typeof self<"u"?self:typeof window<"u"?window:{});const G_="@firebase/firestore",K_="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Gt.UNAUTHENTICATED=new Gt(null),Gt.GOOGLE_CREDENTIALS=new Gt("google-credentials-uid"),Gt.FIRST_PARTY=new Gt("first-party-uid"),Gt.MOCK_USER=new Gt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let io="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps=new vm("@firebase/firestore");function Va(){return Ps.logLevel}function ae(r,...e){if(Ps.logLevel<=Oe.DEBUG){const n=e.map(Nm);Ps.debug(`Firestore (${io}): ${r}`,...n)}}function Fi(r,...e){if(Ps.logLevel<=Oe.ERROR){const n=e.map(Nm);Ps.error(`Firestore (${io}): ${r}`,...n)}}function Ka(r,...e){if(Ps.logLevel<=Oe.WARN){const n=e.map(Nm);Ps.warn(`Firestore (${io}): ${r}`,...n)}}function Nm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(r="Unexpected state"){const e=`FIRESTORE (${io}) INTERNAL ASSERTION FAILED: `+r;throw Fi(e),new Error(e)}function tt(r,e){r||Ae()}function Pe(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends Ki{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class oC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Gt.UNAUTHENTICATED))}shutdown(){}}class lC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class uC{constructor(e){this.t=e,this.currentUser=Gt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){tt(this.o===void 0);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new Ns;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ns,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const g=u;e.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},m=g=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(g=>m(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ns)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(tt(typeof s.accessToken=="string"),new e0(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return tt(e===null||typeof e=="string"),new Gt(e)}}class cC{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=Gt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class hC{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new cC(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Gt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Q_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fC{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Nn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){tt(this.o===void 0);const s=u=>{u.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,ae("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Q_(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(tt(typeof n.token=="string"),this.R=n.token,new Q_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dC(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=dC(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Le(r,e){return r<e?-1:r>e?1:0}function Qa(r,e,n){return r.length===e.length&&r.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_=-62135596800,$_=1e6;class an{static now(){return an.fromMillis(Date.now())}static fromDate(e){return an.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*$_);return new an(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ge(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ge(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Y_)throw new ge(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$_}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Y_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{static fromTimestamp(e){return new Te(e)}static min(){return new Te(new an(0,0))}static max(){return new Te(new an(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_="__name__";class ti{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ae(),s===void 0?s=e.length-n:s>e.length-n&&Ae(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return ti.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ti?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=ti.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Math.sign(e.length-n.length)}static compareSegments(e,n){const s=ti.isNumericId(e),o=ti.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?ti.extractNumericId(e).compare(ti.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return qr.fromString(e.substring(4,e.length-2))}}class ot extends ti{construct(e,n,s){return new ot(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ge(ne.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new ot(n)}static emptyPath(){return new ot([])}}const pC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends ti{construct(e,n,s){return new en(e,n,s)}static isValidIdentifier(e){return pC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===X_}static keyField(){return new en([X_])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ge(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ge(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ge(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ge(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new en(n)}static emptyPath(){return new en([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(ot.fromString(e))}static fromName(e){return new ve(ot.fromString(e).popFirst(5))}static empty(){return new ve(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ot.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new ot(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ml=-1;function gC(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Te.fromTimestamp(s===1e9?new an(n+1,0):new an(n,s));return new Fr(o,ve.empty(),e)}function yC(r){return new Fr(r.readTime,r.key,Ml)}class Fr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Fr(Te.min(),ve.empty(),Ml)}static max(){return new Fr(Te.max(),ve.empty(),Ml)}}function _C(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ve.comparator(r.documentKey,e.documentKey),n!==0?n:Le(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class EC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sh(r){if(r.code!==ne.FAILED_PRECONDITION||r.message!==vC)throw r;ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ae(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Y((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Y?n:Y.resolve(n)}catch(n){return Y.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Y.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Y.reject(n)}static resolve(e){return new Y((n,s)=>{n(e)})}static reject(e){return new Y((n,s)=>{s(e)})}static waitFor(e){return new Y((n,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},g=>s(g))}),f=!0,u===o&&n()})}static or(e){let n=Y.resolve(!1);for(const s of e)n=n.next(o=>o?Y.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new Y((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let g=0;g<u;g++){const y=g;n(e[y]).next(T=>{f[y]=T,++m,m===u&&s(f)},T=>o(T))}})}static doWhile(e,n){return new Y((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function TC(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ro(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.oe(s),this._e=s=>n.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}ah.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC=-1;function oh(r){return r==null}function $d(r){return r===0&&1/r==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0="";function AC(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=Z_(e)),e=bC(r.get(n),e);return Z_(e)}function bC(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case t0:n+="";break;default:n+=u}}return n}function Z_(r){return r+t0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W_(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Kl(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function wC(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,n){this.comparator=e,this.root=n||zt.EMPTY}insert(e,n){return new ht(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,zt.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ec(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ec(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ec(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ec(this.root,e,this.comparator,!0)}}class Ec{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class zt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??zt.RED,this.left=o??zt.EMPTY,this.right=u??zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new zt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return zt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ae();const e=this.left.check();if(e!==this.right.check())throw Ae();return e+(this.isRed()?0:1)}}zt.EMPTY=null,zt.RED=!0,zt.BLACK=!1;zt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae()}get value(){throw Ae()}get color(){throw Ae()}get left(){throw Ae()}get right(){throw Ae()}copy(e,n,s,o,u){return this}insert(e,n,s){return new zt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new J_(this.data.getIterator())}getIteratorFrom(e){return new J_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Rt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Rt(this.comparator);return n.data=e,n}}class J_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e){this.fields=e,e.sort(en.comparator)}static empty(){return new Pr([])}unionWith(e){let n=new Rt(en.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Pr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Qa(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new n0("Invalid base64 string: "+u):u}}(e);return new Bt(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Bt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Bt.EMPTY_BYTE_STRING=new Bt("");const RC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gr(r){if(tt(!!r),typeof r=="string"){let e=0;const n=RC.exec(r);if(tt(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ct(r.seconds),nanos:ct(r.nanos)}}function ct(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Kr(r){return typeof r=="string"?Bt.fromBase64String(r):Bt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0="server_timestamp",r0="__type__",s0="__previous_value__",a0="__local_write_time__";function Mm(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[r0])===null||n===void 0?void 0:n.stringValue)===i0}function lh(r){const e=r.mapValue.fields[s0];return Mm(e)?lh(e):e}function Vl(r){const e=Gr(r.mapValue.fields[a0].timestampValue);return new an(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(e,n,s,o,u,f,m,g,y){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y}}const Gc="(default)";class xl{constructor(e,n){this.projectId=e,this.database=n||Gc}static empty(){return new xl("","")}get isDefaultDatabase(){return this.database===Gc}isEqual(e){return e instanceof xl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC="__type__",DC="__max__",Tc={mapValue:{}},OC="__vector__",Xd="value";function Qr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Mm(r)?4:MC(r)?9007199254740991:NC(r)?10:11:Ae()}function oi(r,e){if(r===e)return!0;const n=Qr(r);if(n!==Qr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Vl(r).isEqual(Vl(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Gr(o.timestampValue),m=Gr(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return Kr(o.bytesValue).isEqual(Kr(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return ct(o.geoPointValue.latitude)===ct(u.geoPointValue.latitude)&&ct(o.geoPointValue.longitude)===ct(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return ct(o.integerValue)===ct(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=ct(o.doubleValue),m=ct(u.doubleValue);return f===m?$d(f)===$d(m):isNaN(f)&&isNaN(m)}return!1}(r,e);case 9:return Qa(r.arrayValue.values||[],e.arrayValue.values||[],oi);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(W_(f)!==W_(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!oi(f[g],m[g])))return!1;return!0}(r,e);default:return Ae()}}function kl(r,e){return(r.values||[]).find(n=>oi(n,e))!==void 0}function Ya(r,e){if(r===e)return 0;const n=Qr(r),s=Qr(e);if(n!==s)return Le(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Le(r.booleanValue,e.booleanValue);case 2:return function(u,f){const m=ct(u.integerValue||u.doubleValue),g=ct(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1}(r,e);case 3:return ev(r.timestampValue,e.timestampValue);case 4:return ev(Vl(r),Vl(e));case 5:return Le(r.stringValue,e.stringValue);case 6:return function(u,f){const m=Kr(u),g=Kr(f);return m.compareTo(g)}(r.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),g=f.split("/");for(let y=0;y<m.length&&y<g.length;y++){const T=Le(m[y],g[y]);if(T!==0)return T}return Le(m.length,g.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Le(ct(u.latitude),ct(f.latitude));return m!==0?m:Le(ct(u.longitude),ct(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return tv(r.arrayValue,e.arrayValue);case 10:return function(u,f){var m,g,y,T;const R=u.fields||{},D=f.fields||{},L=(m=R[Xd])===null||m===void 0?void 0:m.arrayValue,B=(g=D[Xd])===null||g===void 0?void 0:g.arrayValue,Z=Le(((y=L==null?void 0:L.values)===null||y===void 0?void 0:y.length)||0,((T=B==null?void 0:B.values)===null||T===void 0?void 0:T.length)||0);return Z!==0?Z:tv(L,B)}(r.mapValue,e.mapValue);case 11:return function(u,f){if(u===Tc.mapValue&&f===Tc.mapValue)return 0;if(u===Tc.mapValue)return 1;if(f===Tc.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),y=f.fields||{},T=Object.keys(y);g.sort(),T.sort();for(let R=0;R<g.length&&R<T.length;++R){const D=Le(g[R],T[R]);if(D!==0)return D;const L=Ya(m[g[R]],y[T[R]]);if(L!==0)return L}return Le(g.length,T.length)}(r.mapValue,e.mapValue);default:throw Ae()}}function ev(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Le(r,e);const n=Gr(r),s=Gr(e),o=Le(n.seconds,s.seconds);return o!==0?o:Le(n.nanos,s.nanos)}function tv(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Ya(n[o],s[o]);if(u)return u}return Le(n.length,s.length)}function $a(r){return Zd(r)}function Zd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=Gr(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Kr(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return ve.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Zd(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Zd(n.fields[f])}`;return o+"}"}(r.mapValue):Ae()}function Vc(r){switch(Qr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=lh(r);return e?16+Vc(e):16;case 5:return 2*r.stringValue.length;case 6:return Kr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Vc(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Kl(s.fields,(u,f)=>{o+=u.length+Vc(f)}),o}(r.mapValue);default:throw Ae()}}function Wd(r){return!!r&&"integerValue"in r}function Vm(r){return!!r&&"arrayValue"in r}function nv(r){return!!r&&"nullValue"in r}function iv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Md(r){return!!r&&"mapValue"in r}function NC(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[IC])===null||n===void 0?void 0:n.stringValue)===OC}function bl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Kl(r.mapValue.fields,(n,s)=>e.mapValue.fields[n]=bl(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=bl(r.arrayValue.values[n]);return e}return Object.assign({},r)}function MC(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===DC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e){this.value=e}static empty(){return new ni({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Md(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=bl(n)}setAll(e){let n=en.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=bl(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Md(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return oi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Md(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Kl(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new ni(bl(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Kt(e,0,Te.min(),Te.min(),Te.min(),ni.empty(),0)}static newFoundDocument(e,n,s,o){return new Kt(e,1,n,Te.min(),s,o,0)}static newNoDocument(e,n){return new Kt(e,2,n,Te.min(),Te.min(),ni.empty(),0)}static newUnknownDocument(e,n){return new Kt(e,3,n,Te.min(),Te.min(),ni.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ni.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ni.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Kt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Kt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e,n){this.position=e,this.inclusive=n}}function rv(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=ve.comparator(ve.fromName(f.referenceValue),n.key):s=Ya(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function sv(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!oi(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e,n="asc"){this.field=e,this.dir=n}}function VC(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{}class wt extends o0{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new kC(e,n,s):n==="array-contains"?new UC(e,s):n==="in"?new zC(e,s):n==="not-in"?new BC(e,s):n==="array-contains-any"?new HC(e,s):new wt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new LC(e,s):new PC(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ya(n,this.value)):n!==null&&Qr(this.value)===Qr(n)&&this.matchesComparison(Ya(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class li extends o0{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new li(e,n)}matches(e){return l0(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function l0(r){return r.op==="and"}function u0(r){return xC(r)&&l0(r)}function xC(r){for(const e of r.filters)if(e instanceof li)return!1;return!0}function Jd(r){if(r instanceof wt)return r.field.canonicalString()+r.op.toString()+$a(r.value);if(u0(r))return r.filters.map(e=>Jd(e)).join(",");{const e=r.filters.map(n=>Jd(n)).join(",");return`${r.op}(${e})`}}function c0(r,e){return r instanceof wt?function(s,o){return o instanceof wt&&s.op===o.op&&s.field.isEqual(o.field)&&oi(s.value,o.value)}(r,e):r instanceof li?function(s,o){return o instanceof li&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&c0(f,o.filters[m]),!0):!1}(r,e):void Ae()}function h0(r){return r instanceof wt?function(n){return`${n.field.canonicalString()} ${n.op} ${$a(n.value)}`}(r):r instanceof li?function(n){return n.op.toString()+" {"+n.getFilters().map(h0).join(" ,")+"}"}(r):"Filter"}class kC extends wt{constructor(e,n,s){super(e,n,s),this.key=ve.fromName(s.referenceValue)}matches(e){const n=ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class LC extends wt{constructor(e,n){super(e,"in",n),this.keys=f0("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class PC extends wt{constructor(e,n){super(e,"not-in",n),this.keys=f0("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function f0(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ve.fromName(s.referenceValue))}class UC extends wt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Vm(n)&&kl(n.arrayValue,this.value)}}class zC extends wt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&kl(this.value.arrayValue,n)}}class BC extends wt{constructor(e,n){super(e,"not-in",n)}matches(e){if(kl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!kl(this.value.arrayValue,n)}}class HC extends wt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Vm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>kl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.le=null}}function av(r,e=null,n=[],s=[],o=null,u=null,f=null){return new qC(r,e,n,s,o,u,f)}function xm(r){const e=Pe(r);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Jd(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),oh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>$a(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>$a(s)).join(",")),e.le=n}return e.le}function km(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!VC(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!c0(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!sv(r.startAt,e.startAt)&&sv(r.endAt,e.endAt)}function em(r){return ve.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=g,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function jC(r,e,n,s,o,u,f,m){return new uh(r,e,n,s,o,u,f,m)}function d0(r){return new uh(r)}function ov(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function FC(r){return r.collectionGroup!==null}function wl(r){const e=Pe(r);if(e.he===null){e.he=[];const n=new Set;for(const u of e.explicitOrderBy)e.he.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Rt(en.comparator);return f.filters.forEach(g=>{g.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.he.push(new Qc(u,s))}),n.has(en.keyField().canonicalString())||e.he.push(new Qc(en.keyField(),s))}return e.he}function si(r){const e=Pe(r);return e.Pe||(e.Pe=GC(e,wl(r))),e.Pe}function GC(r,e){if(r.limitType==="F")return av(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Qc(o.field,u)});const n=r.endAt?new Kc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Kc(r.startAt.position,r.startAt.inclusive):null;return av(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function tm(r,e,n){return new uh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function ch(r,e){return km(si(r),si(e))&&r.limitType===e.limitType}function m0(r){return`${xm(si(r))}|lt:${r.limitType}`}function xa(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>h0(o)).join(", ")}]`),oh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>$a(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>$a(o)).join(",")),`Target(${s})`}(si(r))}; limitType=${r.limitType})`}function hh(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ve.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of wl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(f,m,g){const y=rv(f,m,g);return f.inclusive?y<=0:y<0}(s.startAt,wl(s),o)||s.endAt&&!function(f,m,g){const y=rv(f,m,g);return f.inclusive?y>=0:y>0}(s.endAt,wl(s),o))}(r,e)}function KC(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function p0(r){return(e,n)=>{let s=!1;for(const o of wl(r)){const u=QC(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function QC(r,e,n){const s=r.field.isKeyField()?ve.comparator(e.key,n.key):function(u,f,m){const g=f.data.field(u),y=m.data.field(u);return g!==null&&y!==null?Ya(g,y):Ae()}(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ae()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Kl(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return wC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC=new ht(ve.comparator);function Yr(){return YC}const g0=new ht(ve.comparator);function Tl(...r){let e=g0;for(const n of r)e=e.insert(n.key,n);return e}function $C(r){let e=g0;return r.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Os(){return Rl()}function y0(){return Rl()}function Rl(){return new Bs(r=>r.toString(),(r,e)=>r.isEqual(e))}const XC=new Rt(ve.comparator);function Ue(...r){let e=XC;for(const n of r)e=e.add(n);return e}const ZC=new Rt(Le);function WC(){return ZC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JC(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$d(e)?"-0":e}}function eI(r){return{integerValue:""+r}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(){this._=void 0}}function tI(r,e,n){return r instanceof nm?function(o,u){const f={fields:{[r0]:{stringValue:i0},[a0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Mm(u)&&(u=lh(u)),u&&(f.fields[s0]=u),{mapValue:f}}(n,e):r instanceof Yc?_0(r,e):r instanceof $c?v0(r,e):function(o,u){const f=iI(o,u),m=lv(f)+lv(o.Ie);return Wd(f)&&Wd(o.Ie)?eI(m):JC(o.serializer,m)}(r,e)}function nI(r,e,n){return r instanceof Yc?_0(r,e):r instanceof $c?v0(r,e):n}function iI(r,e){return r instanceof im?function(s){return Wd(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class nm extends fh{}class Yc extends fh{constructor(e){super(),this.elements=e}}function _0(r,e){const n=E0(e);for(const s of r.elements)n.some(o=>oi(o,s))||n.push(s);return{arrayValue:{values:n}}}class $c extends fh{constructor(e){super(),this.elements=e}}function v0(r,e){let n=E0(e);for(const s of r.elements)n=n.filter(o=>!oi(o,s));return{arrayValue:{values:n}}}class im extends fh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function lv(r){return ct(r.integerValue||r.doubleValue)}function E0(r){return Vm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function rI(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof Yc&&o instanceof Yc||s instanceof $c&&o instanceof $c?Qa(s.elements,o.elements,oi):s instanceof im&&o instanceof im?oi(s.Ie,o.Ie):s instanceof nm&&o instanceof nm}(r.transform,e.transform)}class Ms{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ms}static exists(e){return new Ms(void 0,e)}static updateTime(e){return new Ms(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Lm{}function T0(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new aI(r.key,Ms.none()):new Pm(r.key,r.data,Ms.none());{const n=r.data,s=ni.empty();let o=new Rt(en.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new dh(r.key,s,new Pr(o.toArray()),Ms.none())}}function sI(r,e,n){r instanceof Pm?function(o,u,f){const m=o.value.clone(),g=cv(o.fieldTransforms,u,f.transformResults);m.setAll(g),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,e,n):r instanceof dh?function(o,u,f){if(!xc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=cv(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(S0(o)),g.setAll(m),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()}(r,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function Cl(r,e,n,s){return r instanceof Pm?function(u,f,m,g){if(!xc(u.precondition,f))return m;const y=u.value.clone(),T=hv(u.fieldTransforms,g,f);return y.setAll(T),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null}(r,e,n,s):r instanceof dh?function(u,f,m,g){if(!xc(u.precondition,f))return m;const y=hv(u.fieldTransforms,g,f),T=f.data;return T.setAll(S0(u)),T.setAll(y),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(R=>R.field))}(r,e,n,s):function(u,f,m){return xc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,e,n)}function uv(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Qa(s,o,(u,f)=>rI(u,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Pm extends Lm{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class dh extends Lm{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function S0(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}}),e}function cv(r,e,n){const s=new Map;tt(r.length===n.length);for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,nI(f,m,n[o]))}return s}function hv(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,tI(u,f,e))}return s}class aI extends Lm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&sI(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Cl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Cl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=y0();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const g=T0(f,m);g!==null&&s.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(Te.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ue())}isEqual(e){return this.batchId===e.batchId&&Qa(this.mutations,e.mutations,(n,s)=>uv(n,s))&&Qa(this.baseMutations,e.baseMutations,(n,s)=>uv(n,s))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yt,ke;function A0(r){if(r===void 0)return Fi("GRPC error has no .code"),ne.UNKNOWN;switch(r){case yt.OK:return ne.OK;case yt.CANCELLED:return ne.CANCELLED;case yt.UNKNOWN:return ne.UNKNOWN;case yt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case yt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case yt.INTERNAL:return ne.INTERNAL;case yt.UNAVAILABLE:return ne.UNAVAILABLE;case yt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case yt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case yt.NOT_FOUND:return ne.NOT_FOUND;case yt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case yt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case yt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case yt.ABORTED:return ne.ABORTED;case yt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case yt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case yt.DATA_LOSS:return ne.DATA_LOSS;default:return Ae()}}(ke=yt||(yt={}))[ke.OK=0]="OK",ke[ke.CANCELLED=1]="CANCELLED",ke[ke.UNKNOWN=2]="UNKNOWN",ke[ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ke[ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ke[ke.NOT_FOUND=5]="NOT_FOUND",ke[ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",ke[ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",ke[ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",ke[ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ke[ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ke[ke.ABORTED=10]="ABORTED",ke[ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",ke[ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",ke[ke.INTERNAL=13]="INTERNAL",ke[ke.UNAVAILABLE=14]="UNAVAILABLE",ke[ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cI(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI=new qr([4294967295,4294967295],0);function fv(r){const e=cI().encode(r),n=new YE;return n.update(e),new Uint8Array(n.digest())}function dv(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new qr([n,s],0),new qr([o,u],0)]}class Um{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Sl(`Invalid padding: ${n}`);if(s<0)throw new Sl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Sl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Sl(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=qr.fromNumber(this.Ee)}Ae(e,n,s){let o=e.add(n.multiply(qr.fromNumber(s)));return o.compare(hI)===1&&(o=new qr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=fv(e),[s,o]=dv(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);if(!this.Re(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Um(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.Ee===0)return;const n=fv(e),[s,o]=dv(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);this.Ve(f)}}Ve(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Sl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Ql.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new mh(Te.min(),o,new ht(Le),Yr(),Ue())}}class Ql{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Ql(s,n,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e,n,s,o){this.me=e,this.removedTargetIds=n,this.key=s,this.fe=o}}class b0{constructor(e,n){this.targetId=e,this.ge=n}}class w0{constructor(e,n,s=Bt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class mv{constructor(){this.pe=0,this.ye=pv(),this.we=Bt.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=Ue(),n=Ue(),s=Ue();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ae()}}),new Ql(this.we,this.be,e,n,s)}Me(){this.Se=!1,this.ye=pv()}xe(e,n){this.Se=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,tt(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class fI{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Yr(),this.$e=Sc(),this.Ke=Sc(),this.Ue=new ht(Le)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const s=this.He(n);switch(e.state){case 0:this.Je(n)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(n);break;case 3:this.Je(n)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),s.Ce(e.resumeToken));break;default:Ae()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((s,o)=>{this.Je(o)&&n(o)})}Ze(e){const n=e.targetId,s=e.ge.count,o=this.Xe(n);if(o){const u=o.target;if(em(u))if(s===0){const f=new ve(u.path);this.ze(n,f,Kt.newNoDocument(f,Te.min()))}else tt(s===1);else{const f=this.et(n);if(f!==s){const m=this.tt(e),g=m?this.nt(m,e,f):1;if(g!==0){this.Ye(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,y)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Kr(s).toUint8Array()}catch(g){if(g instanceof n0)return Ka("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new Um(f,o,u)}catch(g){return Ka(g instanceof Sl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.Ee===0?null:m}nt(e,n,s){return n.ge.count===s-this.st(e,n.targetId)?0:2}st(e,n){const s=this.ke.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ke.it(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.ze(n,u,null),o++)}),o}ot(e){const n=new Map;this.qe.forEach((u,f)=>{const m=this.Xe(f);if(m){if(u.current&&em(m.target)){const g=new ve(m.target.path);this._t(g).has(f)||this.ut(f,g)||this.ze(f,g,Kt.newNoDocument(g,e))}u.ve&&(n.set(f,u.Fe()),u.Me())}});let s=Ue();this.Ke.forEach((u,f)=>{let m=!0;f.forEachWhile(g=>{const y=this.Xe(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.Qe.forEach((u,f)=>f.setReadTime(e));const o=new mh(e,n,this.Ue,this.Qe,s);return this.Qe=Yr(),this.$e=Sc(),this.Ke=Sc(),this.Ue=new ht(Le),o}Ge(e,n){if(!this.Je(e))return;const s=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,s),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(e))}ze(e,n,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,n)?o.xe(n,1):o.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(e)),this.Ke=this.Ke.insert(n,this.ct(n).add(e)),s&&(this.Qe=this.Qe.insert(n,s))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new mv,this.qe.set(e,n)),n}ct(e){let n=this.Ke.get(e);return n||(n=new Rt(Le),this.Ke=this.Ke.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Rt(Le),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||ae("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new mv),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Sc(){return new ht(ve.comparator)}function pv(){return new ht(ve.comparator)}const dI={asc:"ASCENDING",desc:"DESCENDING"},mI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pI={and:"AND",or:"OR"};class gI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function rm(r,e){return r.useProto3Json||oh(e)?e:{value:e}}function yI(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _I(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function Ha(r){return tt(!!r),Te.fromTimestamp(function(n){const s=Gr(n);return new an(s.seconds,s.nanos)}(r))}function vI(r,e){return sm(r,e).canonicalString()}function sm(r,e){const n=function(o){return new ot(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function R0(r){const e=ot.fromString(r);return tt(N0(e)),e}function Vd(r,e){const n=R0(e);if(n.get(1)!==r.databaseId.projectId)throw new ge(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ge(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ve(I0(n))}function C0(r,e){return vI(r.databaseId,e)}function EI(r){const e=R0(r);return e.length===4?ot.emptyPath():I0(e)}function gv(r){return new ot(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function I0(r){return tt(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function TI(r,e){let n;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ae()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(y,T){return y.useProto3Json?(tt(T===void 0||typeof T=="string"),Bt.fromBase64String(T||"")):(tt(T===void 0||T instanceof Buffer||T instanceof Uint8Array),Bt.fromUint8Array(T||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(y){const T=y.code===void 0?ne.UNKNOWN:A0(y.code);return new ge(T,y.message||"")}(f);n=new w0(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Vd(r,s.document.name),u=Ha(s.document.updateTime),f=s.document.createTime?Ha(s.document.createTime):Te.min(),m=new ni({mapValue:{fields:s.document.fields}}),g=Kt.newFoundDocument(o,u,f,m),y=s.targetIds||[],T=s.removedTargetIds||[];n=new kc(y,T,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Vd(r,s.document),u=s.readTime?Ha(s.readTime):Te.min(),f=Kt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new kc([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Vd(r,s.document),u=s.removedTargetIds||[];n=new kc([],u,o,null)}else{if(!("filter"in e))return Ae();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new uI(o,u),m=s.targetId;n=new b0(m,f)}}return n}function SI(r,e){return{documents:[C0(r,e.path)]}}function AI(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=C0(r,o);const u=function(y){if(y.length!==0)return O0(li.create(y,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(y){if(y.length!==0)return y.map(T=>function(D){return{field:ka(D.field),direction:RI(D.dir)}}(T))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=rm(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ht:n,parent:o}}function bI(r){let e=EI(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){tt(s===1);const T=n.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let u=[];n.where&&(u=function(R){const D=D0(R);return D instanceof li&&u0(D)?D.getFilters():[D]}(n.where));let f=[];n.orderBy&&(f=function(R){return R.map(D=>function(B){return new Qc(La(B.field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(B.direction))}(D))}(n.orderBy));let m=null;n.limit&&(m=function(R){let D;return D=typeof R=="object"?R.value:R,oh(D)?null:D}(n.limit));let g=null;n.startAt&&(g=function(R){const D=!!R.before,L=R.values||[];return new Kc(L,D)}(n.startAt));let y=null;return n.endAt&&(y=function(R){const D=!R.before,L=R.values||[];return new Kc(L,D)}(n.endAt)),jC(e,o,f,u,m,"F",g,y)}function wI(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function D0(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=La(n.unaryFilter.field);return wt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=La(n.unaryFilter.field);return wt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=La(n.unaryFilter.field);return wt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=La(n.unaryFilter.field);return wt.create(f,"!=",{nullValue:"NULL_VALUE"});default:return Ae()}}(r):r.fieldFilter!==void 0?function(n){return wt.create(La(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ae()}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return li.create(n.compositeFilter.filters.map(s=>D0(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ae()}}(n.compositeFilter.op))}(r):Ae()}function RI(r){return dI[r]}function CI(r){return mI[r]}function II(r){return pI[r]}function ka(r){return{fieldPath:r.canonicalString()}}function La(r){return en.fromServerFormat(r.fieldPath)}function O0(r){return r instanceof wt?function(n){if(n.op==="=="){if(iv(n.value))return{unaryFilter:{field:ka(n.field),op:"IS_NAN"}};if(nv(n.value))return{unaryFilter:{field:ka(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(iv(n.value))return{unaryFilter:{field:ka(n.field),op:"IS_NOT_NAN"}};if(nv(n.value))return{unaryFilter:{field:ka(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ka(n.field),op:CI(n.op),value:n.value}}}(r):r instanceof li?function(n){const s=n.getFilters().map(o=>O0(o));return s.length===1?s[0]:{compositeFilter:{op:II(n.op),filters:s}}}(r):Ae()}function N0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e,n,s,o,u=Te.min(),f=Te.min(),m=Bt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new Ur(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(e){this.Tt=e}}function OI(r){const e=bI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?tm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(){this.Tn=new MI}addToCollectionParentIndex(e,n){return this.Tn.add(n),Y.resolve()}getCollectionParents(e,n){return Y.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return Y.resolve()}deleteFieldIndex(e,n){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,n){return Y.resolve()}getDocumentsMatchingTarget(e,n){return Y.resolve(null)}getIndexType(e,n){return Y.resolve(0)}getFieldIndexes(e,n){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,n){return Y.resolve(Fr.min())}getMinOffsetFromCollectionGroup(e,n){return Y.resolve(Fr.min())}updateCollectionGroup(e,n,s){return Y.resolve()}updateIndexEntries(e,n){return Y.resolve()}}class MI{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Rt(ot.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Rt(ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},M0=41943040;class sn{static withCacheSize(e){return new sn(e,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sn.DEFAULT_COLLECTION_PERCENTILE=10,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sn.DEFAULT=new sn(M0,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sn.DISABLED=new sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Xa(0)}static Un(){return new Xa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v="LruGarbageCollector",VI=1048576;function vv([r,e],[n,s]){const o=Le(r,n);return o===0?Le(e,s):o}class xI{constructor(e){this.Hn=e,this.buffer=new Rt(vv),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();vv(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class kI{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ae(_v,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ro(n)?ae(_v,"Ignoring IndexedDB error during garbage collection: ",n):await sh(n)}await this.er(3e5)})}}class LI{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return Y.resolve(ah.ae);const s=new xI(n);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.tr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ae("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(yv)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),yv):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let s,o,u,f,m,g,y;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(R=>(R>this.params.maximumSequenceNumbersToCollect?(ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),o=this.params.maximumSequenceNumbersToCollect):o=R,f=Date.now(),this.nthSequenceNumber(e,o))).next(R=>(s=R,m=Date.now(),this.removeTargets(e,s,n))).next(R=>(u=R,g=Date.now(),this.removeOrphanedDocuments(e,s))).next(R=>(y=Date.now(),Va()<=Oe.DEBUG&&ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${R} documents in `+(y-g)+`ms
Total Duration: ${y-T}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:R})))}}function PI(r,e){return new LI(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(){this.changes=new Bs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Kt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?Y.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&Cl(s.mutation,o,Pr.empty(),an.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Ue()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Ue()){const o=Os();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=Tl();return u.forEach((m,g)=>{f=f.insert(m,g.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=Os();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Ue()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,o){let u=Yr();const f=Rl(),m=function(){return Rl()}();return n.forEach((g,y)=>{const T=s.get(y.key);o.has(y.key)&&(T===void 0||T.mutation instanceof dh)?u=u.insert(y.key,y):T!==void 0?(f.set(y.key,T.mutation.getFieldMask()),Cl(T.mutation,y,T.mutation.getFieldMask(),an.now())):f.set(y.key,Pr.empty())}),this.recalculateAndSaveOverlays(e,u).next(g=>(g.forEach((y,T)=>f.set(y,T)),n.forEach((y,T)=>{var R;return m.set(y,new zI(T,(R=f.get(y))!==null&&R!==void 0?R:null))}),m))}recalculateAndSaveOverlays(e,n){const s=Rl();let o=new ht((f,m)=>f-m),u=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(g=>{const y=n.get(g);if(y===null)return;let T=s.get(g)||Pr.empty();T=m.applyToLocalView(y,T),s.set(g,T);const R=(o.get(m.batchId)||Ue()).add(g);o=o.insert(m.batchId,R)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,T=g.value,R=y0();T.forEach(D=>{if(!u.has(D)){const L=T0(n.get(D),s.get(D));L!==null&&R.set(D,L),u=u.add(D)}}),f.push(this.documentOverlayCache.saveOverlays(e,y,R))}return Y.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return ve.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):FC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):Y.resolve(Os());let m=Ml,g=u;return f.next(y=>Y.forEach(y,(T,R)=>(m<R.largestBatchId&&(m=R.largestBatchId),u.get(T)?Y.resolve():this.remoteDocumentCache.getEntry(e,T).next(D=>{g=g.insert(T,D)}))).next(()=>this.populateOverlays(e,y,u)).next(()=>this.computeViews(e,g,y,Ue())).next(T=>({batchId:m,changes:$C(T)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ve(n)).next(s=>{let o=Tl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Tl();return this.indexManager.getCollectionParents(e,u).next(m=>Y.forEach(m,g=>{const y=function(R,D){return new uh(D,null,R.explicitOrderBy.slice(),R.filters.slice(),R.limit,R.limitType,R.startAt,R.endAt)}(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next(T=>{T.forEach((R,D)=>{f=f.insert(R,D)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((g,y)=>{const T=y.getKey();f.get(T)===null&&(f=f.insert(T,Kt.newInvalidDocument(T)))});let m=Tl();return f.forEach((g,y)=>{const T=u.get(g);T!==void 0&&Cl(T.mutation,y,Pr.empty(),an.now()),hh(n,y)&&(m=m.insert(g,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return Y.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Ha(o.createTime)}}(n)),Y.resolve()}getNamedQuery(e,n){return Y.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(o){return{name:o.name,query:OI(o.bundledQuery),readTime:Ha(o.readTime)}}(n)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(){this.overlays=new ht(ve.comparator),this.Rr=new Map}getOverlay(e,n){return Y.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Os();return Y.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.Et(e,n,u)}),Y.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),Y.resolve()}getOverlaysForCollection(e,n,s){const o=Os(),u=n.length+1,f=new ve(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return Y.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ht((y,T)=>y-T);const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let T=u.get(y.largestBatchId);T===null&&(T=Os(),u=u.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const m=Os(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((y,T)=>m.set(y,T)),!(m.size()>=o)););return Y.resolve(m)}Et(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new lI(n,s));let u=this.Rr.get(n);u===void 0&&(u=Ue(),this.Rr.set(n,u)),this.Rr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(){this.sessionToken=Bt.EMPTY_BYTE_STRING}getSessionToken(e){return Y.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(){this.Vr=new Rt(xt.mr),this.gr=new Rt(xt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const s=new xt(e,n);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.wr(new xt(e,n))}br(e,n){e.forEach(s=>this.removeReference(s,n))}Sr(e){const n=new ve(new ot([])),s=new xt(n,e),o=new xt(n,e+1),u=[];return this.gr.forEachInRange([s,o],f=>{this.wr(f),u.push(f.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new ve(new ot([])),s=new xt(n,e),o=new xt(n,e+1);let u=Ue();return this.gr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new xt(e,0),s=this.Vr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class xt{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return ve.comparator(e.key,n.key)||Le(e.Cr,n.Cr)}static pr(e,n){return Le(e.Cr,n.Cr)||ve.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Rt(xt.mr)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new oI(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Mr=this.Mr.add(new xt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return Y.resolve(f)}lookupMutationBatch(e,n){return Y.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Nr(s),u=o<0?0:o;return Y.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?SC:this.Fr-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new xt(n,0),o=new xt(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],f=>{const m=this.Or(f.Cr);u.push(m)}),Y.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Rt(Le);return n.forEach(o=>{const u=new xt(o,0),f=new xt(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,f],m=>{s=s.add(m.Cr)})}),Y.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ve.isDocumentKey(u)||(u=u.child(""));const f=new xt(new ve(u),0);let m=new Rt(Le);return this.Mr.forEachWhile(g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(g.Cr)),!0)},f),Y.resolve(this.Br(m))}Br(e){const n=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){tt(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return Y.forEach(n.mutations,o=>{const u=new xt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,n){const s=new xt(n,0),o=this.Mr.firstAfterOrEqual(s);return Y.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(e){this.kr=e,this.docs=function(){return new ht(ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.kr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return Y.resolve(s?s.document.mutableCopy():Kt.newInvalidDocument(n))}getEntries(e,n){let s=Yr();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Kt.newInvalidDocument(o))}),Y.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=Yr();const f=n.path,m=new ve(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:T}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||_C(yC(T),s)<=0||(o.has(T.key)||hh(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return Y.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Ae()}qr(e,n){return Y.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new KI(this)}getSize(e){return Y.resolve(this.size)}}class KI extends UI{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),Y.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(e){this.persistence=e,this.Qr=new Bs(n=>xm(n),km),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.$r=0,this.Kr=new zm,this.targetCount=0,this.Ur=Xa.Kn()}forEachTarget(e,n){return this.Qr.forEach((s,o)=>n(o)),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.$r&&(this.$r=n),Y.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ur=new Xa(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,Y.resolve()}updateTargetData(e,n){return this.zn(n),Y.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Kr.Sr(n.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.Qr.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Qr.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),Y.waitFor(u).next(()=>o)}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,n){const s=this.Qr.get(n)||null;return Y.resolve(s)}addMatchingKeys(e,n,s){return this.Kr.yr(n,s),Y.resolve()}removeMatchingKeys(e,n,s){this.Kr.br(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),Y.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.Kr.Sr(n),Y.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Kr.vr(n);return Y.resolve(s)}containsKey(e,n){return Y.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new ah(0),this.zr=!1,this.zr=!0,this.jr=new jI,this.referenceDelegate=e(this),this.Hr=new QI(this),this.indexManager=new NI,this.remoteDocumentCache=function(o){return new GI(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new DI(n),this.Yr=new HI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new qI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Wr[e.toKey()];return s||(s=new FI(n,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,s){ae("MemoryPersistence","Starting transaction:",e);const o=new YI(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,n){return Y.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,n)))}}class YI extends EC{constructor(e){super(),this.currentSequenceNumber=e}}class Bm{constructor(e){this.persistence=e,this.ti=new zm,this.ni=null}static ri(e){return new Bm(e)}get ii(){if(this.ni)return this.ni;throw Ae()}addReference(e,n,s){return this.ti.addReference(s,n),this.ii.delete(s.toString()),Y.resolve()}removeReference(e,n,s){return this.ti.removeReference(s,n),this.ii.add(s.toString()),Y.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),Y.resolve()}removeTarget(e,n){this.ti.Sr(n.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.ii,s=>{const o=ve.fromPath(s);return this.si(e,o).next(u=>{u||n.removeEntry(o,Te.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(s=>{s?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return Y.or([()=>Y.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class Xc{constructor(e,n){this.persistence=e,this.oi=new Bs(s=>AC(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=PI(this,n)}static ri(e,n){return new Xc(e,n)}Zr(){}Xr(e){return Y.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}sr(e){let n=0;return this.rr(e,s=>{n++}).next(()=>n)}rr(e,n){return Y.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(u=>u?Y.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,f=>this.ar(e,f,n).next(m=>{m||(s++,u.removeEntry(f,Te.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),Y.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),Y.resolve()}removeReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),Y.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),Y.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Vc(e.data.value)),n}ar(e,n,s){return Y.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.oi.get(n);return Y.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Hi=s,this.Ji=o}static Yi(e,n){let s=Ue(),o=Ue();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Hm(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return Cb()?8:TC(Qt())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.rs(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ss(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new $I;return this._s(e,n,f).next(m=>{if(u.result=m,this.Xi)return this.us(e,n,f,m.size)})}).next(()=>u.result)}us(e,n,s,o){return s.documentReadCount<this.es?(Va()<=Oe.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",xa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Y.resolve()):(Va()<=Oe.DEBUG&&ae("QueryEngine","Query:",xa(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(Va()<=Oe.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",xa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,si(n))):Y.resolve())}rs(e,n){if(ov(n))return Y.resolve(null);let s=si(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=tm(n,null,"F"),s=si(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=Ue(...u);return this.ns.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(g=>{const y=this.cs(n,m);return this.ls(n,y,f,g.readTime)?this.rs(e,tm(n,null,"F")):this.hs(e,y,n,g)}))})))}ss(e,n,s,o){return ov(n)||o.isEqual(Te.min())?Y.resolve(null):this.ns.getDocuments(e,s).next(u=>{const f=this.cs(n,u);return this.ls(n,f,s,o)?Y.resolve(null):(Va()<=Oe.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),xa(n)),this.hs(e,f,n,gC(o,Ml)).next(m=>m))})}cs(e,n){let s=new Rt(p0(e));return n.forEach((o,u)=>{hh(e,u)&&(s=s.add(u))}),s}ls(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,n,s){return Va()<=Oe.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",xa(n)),this.ns.getDocumentsMatchingQuery(e,n,Fr.min(),s)}hs(e,n,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm="LocalStore",ZI=3e8;class WI{constructor(e,n,s,o){this.persistence=e,this.Ps=n,this.serializer=o,this.Ts=new ht(Le),this.Is=new Bs(u=>xm(u),km),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new BI(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function JI(r,e,n,s){return new WI(r,e,n,s)}async function x0(r,e){const n=Pe(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.As(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let g=Ue();for(const y of o){f.push(y.batchId);for(const T of y.mutations)g=g.add(T.key)}for(const y of u){m.push(y.batchId);for(const T of y.mutations)g=g.add(T.key)}return n.localDocuments.getDocuments(s,g).next(y=>({Rs:y,removedBatchIds:f,addedBatchIds:m}))})})}function k0(r){const e=Pe(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function eD(r,e){const n=Pe(r),s=e.snapshotVersion;let o=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.ds.newChangeBuffer({trackRemovals:!0});o=n.Ts;const m=[];e.targetChanges.forEach((T,R)=>{const D=o.get(R);if(!D)return;m.push(n.Hr.removeMatchingKeys(u,T.removedDocuments,R).next(()=>n.Hr.addMatchingKeys(u,T.addedDocuments,R)));let L=D.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(R)!==null?L=L.withResumeToken(Bt.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):T.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(T.resumeToken,s)),o=o.insert(R,L),function(Z,j,$){return Z.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=ZI?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0}(D,L,T)&&m.push(n.Hr.updateTargetData(u,L))});let g=Yr(),y=Ue();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))}),m.push(tD(u,f,e.documentUpdates).next(T=>{g=T.Vs,y=T.fs})),!s.isEqual(Te.min())){const T=n.Hr.getLastRemoteSnapshotVersion(u).next(R=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(T)}return Y.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,g,y)).next(()=>g)}).then(u=>(n.Ts=o,u))}function tD(r,e,n){let s=Ue(),o=Ue();return n.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let f=Yr();return n.forEach((m,g)=>{const y=u.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(Te.min())?(e.removeEntry(m,g.readTime),f=f.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),f=f.insert(m,g)):ae(qm,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)}),{Vs:f,fs:o}})}function nD(r,e){const n=Pe(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Hr.getTargetData(s,e).next(u=>u?(o=u,Y.resolve(o)):n.Hr.allocateTargetId(s).next(f=>(o=new Ur(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(s.targetId,s),n.Is.set(e,s.targetId)),s})}async function am(r,e,n){const s=Pe(r),o=s.Ts.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!ro(f))throw f;ae(qm,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function Ev(r,e,n){const s=Pe(r);let o=Te.min(),u=Ue();return s.persistence.runTransaction("Execute query","readwrite",f=>function(g,y,T){const R=Pe(g),D=R.Is.get(T);return D!==void 0?Y.resolve(R.Ts.get(D)):R.Hr.getTargetData(y,T)}(s,f,si(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(f,m.targetId).next(g=>{u=g})}).next(()=>s.Ps.getDocumentsMatchingQuery(f,e,n?o:Te.min(),n?u:Ue())).next(m=>(iD(s,KC(e),m),{documents:m,gs:u})))}function iD(r,e,n){let s=r.Es.get(e)||Te.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Es.set(e,s)}class Tv{constructor(){this.activeTargetIds=WC()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class rD{constructor(){this.ho=new Tv,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,s){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Tv,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv="ConnectivityMonitor";class Av{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ae(Sv,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ae(Sv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ac=null;function om(){return Ac===null?Ac=function(){return 268435456+Math.round(2147483648*Math.random())}():Ac++,"0x"+Ac.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xd="RestConnection",aD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class oD{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===Gc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}bo(e,n,s,o,u){const f=om(),m=this.So(e,n.toUriEncodedString());ae(xd,`Sending RPC '${e}' ${f}:`,m,s);const g={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(g,o,u),this.vo(e,m,g,s).then(y=>(ae(xd,`Received RPC '${e}' ${f}: `,y),y),y=>{throw Ka(xd,`RPC '${e}' ${f} failed with error: `,y,"url: ",m,"request:",s),y})}Co(e,n,s,o,u,f){return this.bo(e,n,s,o,u)}Do(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+io}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}So(e,n){const s=aD[e];return`${this.po}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ft="WebChannelConnection";class uD extends oD{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,s,o){const u=om();return new Promise((f,m)=>{const g=new $E;g.setWithCredentials(!0),g.listenOnce(XE.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Mc.NO_ERROR:const T=g.getResponseJson();ae(Ft,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(T)),f(T);break;case Mc.TIMEOUT:ae(Ft,`RPC '${e}' ${u} timed out`),m(new ge(ne.DEADLINE_EXCEEDED,"Request time out"));break;case Mc.HTTP_ERROR:const R=g.getStatus();if(ae(Ft,`RPC '${e}' ${u} failed with status:`,R,"response text:",g.getResponseText()),R>0){let D=g.getResponseJson();Array.isArray(D)&&(D=D[0]);const L=D==null?void 0:D.error;if(L&&L.status&&L.message){const B=function(j){const $=j.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf($)>=0?$:ne.UNKNOWN}(L.status);m(new ge(B,L.message))}else m(new ge(ne.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new ge(ne.UNAVAILABLE,"Connection failed."));break;default:Ae()}}finally{ae(Ft,`RPC '${e}' ${u} completed.`)}});const y=JSON.stringify(o);ae(Ft,`RPC '${e}' ${u} sending request:`,o),g.send(n,"POST",y,s,15)})}Wo(e,n,s){const o=om(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=JE(),m=WE(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Do(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const T=u.join("");ae(Ft,`Creating RPC '${e}' stream ${o}: ${T}`,g);const R=f.createWebChannel(T,g);let D=!1,L=!1;const B=new lD({Fo:j=>{L?ae(Ft,`Not sending because RPC '${e}' stream ${o} is closed:`,j):(D||(ae(Ft,`Opening RPC '${e}' stream ${o} transport.`),R.open(),D=!0),ae(Ft,`RPC '${e}' stream ${o} sending:`,j),R.send(j))},Mo:()=>R.close()}),Z=(j,$,te)=>{j.listen($,J=>{try{te(J)}catch(me){setTimeout(()=>{throw me},0)}})};return Z(R,El.EventType.OPEN,()=>{L||(ae(Ft,`RPC '${e}' stream ${o} transport opened.`),B.Qo())}),Z(R,El.EventType.CLOSE,()=>{L||(L=!0,ae(Ft,`RPC '${e}' stream ${o} transport closed`),B.Ko())}),Z(R,El.EventType.ERROR,j=>{L||(L=!0,Ka(Ft,`RPC '${e}' stream ${o} transport errored:`,j),B.Ko(new ge(ne.UNAVAILABLE,"The operation could not be completed")))}),Z(R,El.EventType.MESSAGE,j=>{var $;if(!L){const te=j.data[0];tt(!!te);const J=te,me=(J==null?void 0:J.error)||(($=J[0])===null||$===void 0?void 0:$.error);if(me){ae(Ft,`RPC '${e}' stream ${o} received error:`,me);const ue=me.status;let Se=function(A){const C=yt[A];if(C!==void 0)return A0(C)}(ue),M=me.message;Se===void 0&&(Se=ne.INTERNAL,M="Unknown error status: "+ue+" with message "+me.message),L=!0,B.Ko(new ge(Se,M)),R.close()}else ae(Ft,`RPC '${e}' stream ${o} received:`,te),B.Uo(te)}}),Z(m,ZE.STAT_EVENT,j=>{j.stat===Yd.PROXY?ae(Ft,`RPC '${e}' stream ${o} detected buffering proxy`):j.stat===Yd.NOPROXY&&ae(Ft,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{B.$o()},0),B}}function kd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L0(r){return new gI(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=n,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-s);o>0&&ae("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv="PersistentStream";class cD{constructor(e,n,s,o,u,f,m,g){this.Ti=e,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new P0(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(Fi(n.toString()),Fi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===n&&this.V_(s,o)},s=>{e(()=>{const o=new ge(ne.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,n){const s=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ae(bv,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(ae(bv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class hD extends cD{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=TI(this.serializer,e),s=function(u){if(!("targetChange"in u))return Te.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Te.min():f.readTime?Ha(f.readTime):Te.min()}(e);return this.listener.p_(n,s)}y_(e){const n={};n.database=gv(this.serializer),n.addTarget=function(u,f){let m;const g=f.target;if(m=em(g)?{documents:SI(u,g)}:{query:AI(u,g).ht},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=_I(u,f.resumeToken);const y=rm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(Te.min())>0){m.readTime=yI(u,f.snapshotVersion.toTimestamp());const y=rm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,e);const s=wI(this.serializer,e);s&&(n.labels=s),this.I_(n)}w_(e){const n={};n.database=gv(this.serializer),n.removeTarget=e,this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{}class dD extends fD{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new ge(ne.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,n,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.bo(e,sm(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ge(ne.UNKNOWN,u.toString())})}Co(e,n,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Co(e,sm(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ge(ne.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class mD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Fi(n),this.N_=!1):ae("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Za="RemoteStore";class pD{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(f=>{s.enqueueAndForget(async()=>{$l(this)&&(ae(Za,"Restarting streams for network reachability change."),await async function(g){const y=Pe(g);y.W_.add(4),await Yl(y),y.j_.set("Unknown"),y.W_.delete(4),await ph(y)}(this))})}),this.j_=new mD(s,o)}}async function ph(r){if($l(r))for(const e of r.G_)await e(!0)}async function Yl(r){for(const e of r.G_)await e(!1)}function U0(r,e){const n=Pe(r);n.U_.has(e.targetId)||(n.U_.set(e.targetId,e),Km(n)?Gm(n):so(n).c_()&&Fm(n,e))}function jm(r,e){const n=Pe(r),s=so(n);n.U_.delete(e),s.c_()&&z0(n,e),n.U_.size===0&&(s.c_()?s.P_():$l(n)&&n.j_.set("Unknown"))}function Fm(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}so(r).y_(e)}function z0(r,e){r.H_.Ne(e),so(r).w_(e)}function Gm(r){r.H_=new fI({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.U_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),so(r).start(),r.j_.B_()}function Km(r){return $l(r)&&!so(r).u_()&&r.U_.size>0}function $l(r){return Pe(r).W_.size===0}function B0(r){r.H_=void 0}async function gD(r){r.j_.set("Online")}async function yD(r){r.U_.forEach((e,n)=>{Fm(r,e)})}async function _D(r,e){B0(r),Km(r)?(r.j_.q_(e),Gm(r)):r.j_.set("Unknown")}async function vD(r,e,n){if(r.j_.set("Online"),e instanceof w0&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.U_.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.U_.delete(m),o.H_.removeTarget(m))}(r,e)}catch(s){ae(Za,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await wv(r,s)}else if(e instanceof kc?r.H_.We(e):e instanceof b0?r.H_.Ze(e):r.H_.je(e),!n.isEqual(Te.min()))try{const s=await k0(r.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.H_.ot(f);return m.targetChanges.forEach((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const T=u.U_.get(y);T&&u.U_.set(y,T.withResumeToken(g.resumeToken,f))}}),m.targetMismatches.forEach((g,y)=>{const T=u.U_.get(g);if(!T)return;u.U_.set(g,T.withResumeToken(Bt.EMPTY_BYTE_STRING,T.snapshotVersion)),z0(u,g);const R=new Ur(T.target,g,y,T.sequenceNumber);Fm(u,R)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(s){ae(Za,"Failed to raise snapshot:",s),await wv(r,s)}}async function wv(r,e,n){if(!ro(e))throw e;r.W_.add(1),await Yl(r),r.j_.set("Offline"),n||(n=()=>k0(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ae(Za,"Retrying IndexedDB access"),await n(),r.W_.delete(1),await ph(r)})}async function Rv(r,e){const n=Pe(r);n.asyncQueue.verifyOperationInProgress(),ae(Za,"RemoteStore received new credentials");const s=$l(n);n.W_.add(3),await Yl(n),s&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await ph(n)}async function ED(r,e){const n=Pe(r);e?(n.W_.delete(2),await ph(n)):e||(n.W_.add(2),await Yl(n),n.j_.set("Unknown"))}function so(r){return r.J_||(r.J_=function(n,s,o){const u=Pe(n);return u.M_(),new hD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:gD.bind(null,r),No:yD.bind(null,r),Lo:_D.bind(null,r),p_:vD.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),Km(r)?Gm(r):r.j_.set("Unknown")):(await r.J_.stop(),B0(r))})),r.J_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Ns,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new Qm(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function H0(r,e){if(Fi("AsyncQueue",`${e}: ${r}`),ro(r))return new ge(ne.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{static emptySet(e){return new qa(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ve.comparator(n.key,s.key):(n,s)=>ve.comparator(n.key,s.key),this.keyedMap=Tl(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof qa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new qa;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(){this.Z_=new ht(ve.comparator)}track(e){const n=e.doc.key,s=this.Z_.get(n);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(n):e.type===1&&s.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Ae():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class Wa{constructor(e,n,s,o,u,f,m,g,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new Wa(e,n,qa.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ch(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class SD{constructor(){this.queries=Iv(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,s){const o=Pe(n),u=o.queries;o.queries=Iv(),u.forEach((f,m)=>{for(const g of m.ta)g.onError(s)})})(this,new ge(ne.ABORTED,"Firestore shutting down"))}}function Iv(){return new Bs(r=>m0(r),ch)}async function AD(r,e){const n=Pe(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.na()&&e.ra()&&(s=2):(u=new TD,s=e.ra()?0:1);try{switch(s){case 0:u.ea=await n.onListen(o,!0);break;case 1:u.ea=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=H0(f,`Initialization of query '${xa(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ta.push(e),e.sa(n.onlineState),u.ea&&e.oa(u.ea)&&Ym(n)}async function bD(r,e){const n=Pe(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ta.indexOf(e);f>=0&&(u.ta.splice(f,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function wD(r,e){const n=Pe(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ta)m.oa(o)&&(s=!0);f.ea=o}}s&&Ym(n)}function RD(r,e,n){const s=Pe(r),o=s.queries.get(e);if(o)for(const u of o.ta)u.onError(n);s.queries.delete(e)}function Ym(r){r.ia.forEach(e=>{e.next()})}var lm,Dv;(Dv=lm||(lm={}))._a="default",Dv.Cache="cache";class CD{constructor(e,n,s){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Wa(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const s=n!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=Wa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==lm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(e){this.key=e}}class j0{constructor(e){this.key=e}}class ID{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ue(),this.mutatedKeys=Ue(),this.ya=p0(e),this.wa=new qa(this.ya)}get ba(){return this.fa}Sa(e,n){const s=n?n.Da:new Cv,o=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((T,R)=>{const D=o.get(T),L=hh(this.query,R)?R:null,B=!!D&&this.mutatedKeys.has(D.key),Z=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let j=!1;D&&L?D.data.isEqual(L.data)?B!==Z&&(s.track({type:3,doc:L}),j=!0):this.va(D,L)||(s.track({type:2,doc:L}),j=!0,(g&&this.ya(L,g)>0||y&&this.ya(L,y)<0)&&(m=!0)):!D&&L?(s.track({type:0,doc:L}),j=!0):D&&!L&&(s.track({type:1,doc:D}),j=!0,(g||y)&&(m=!0)),j&&(L?(f=f.add(L),u=Z?u.add(T):u.delete(T)):(f=f.delete(T),u=u.delete(T)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),u=u.delete(T.key),s.track({type:1,doc:T})}return{wa:f,Da:s,ls:m,mutatedKeys:u}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const f=e.Da.X_();f.sort((T,R)=>function(L,B){const Z=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae()}};return Z(L)-Z(B)}(T.type,R.type)||this.ya(T.doc,R.doc)),this.Ca(s),o=o!=null&&o;const m=n&&!o?this.Fa():[],g=this.pa.size===0&&this.current&&!o?1:0,y=g!==this.ga;return this.ga=g,f.length!==0||y?{snapshot:new Wa(this.query,e.wa,u,f,e.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Cv,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ue(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const n=[];return e.forEach(s=>{this.pa.has(s)||n.push(new j0(s))}),this.pa.forEach(s=>{e.has(s)||n.push(new q0(s))}),n}Oa(e){this.fa=e.gs,this.pa=Ue();const n=this.Sa(e.documents);return this.applyChanges(n,!0)}Na(){return Wa.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const $m="SyncEngine";class DD{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class OD{constructor(e){this.key=e,this.Ba=!1}}class ND{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new Bs(m=>m0(m),ch),this.qa=new Map,this.Qa=new Set,this.$a=new ht(ve.comparator),this.Ka=new Map,this.Ua=new zm,this.Wa={},this.Ga=new Map,this.za=Xa.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function MD(r,e,n=!0){const s=Y0(r);let o;const u=s.ka.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await F0(s,e,n,!0),o}async function VD(r,e){const n=Y0(r);await F0(n,e,!0,!1)}async function F0(r,e,n,s){const o=await nD(r.localStore,si(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await xD(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&U0(r.remoteStore,o),m}async function xD(r,e,n,s,o){r.Ha=(R,D,L)=>async function(Z,j,$,te){let J=j.view.Sa($);J.ls&&(J=await Ev(Z.localStore,j.query,!1).then(({documents:M})=>j.view.Sa(M,J)));const me=te&&te.targetChanges.get(j.targetId),ue=te&&te.targetMismatches.get(j.targetId)!=null,Se=j.view.applyChanges(J,Z.isPrimaryClient,me,ue);return Nv(Z,j.targetId,Se.Ma),Se.snapshot}(r,R,D,L);const u=await Ev(r.localStore,e,!0),f=new ID(e,u.gs),m=f.Sa(u.documents),g=Ql.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,g);Nv(r,n,y.Ma);const T=new DD(e,n,f);return r.ka.set(e,T),r.qa.has(n)?r.qa.get(n).push(e):r.qa.set(n,[e]),y.snapshot}async function kD(r,e,n){const s=Pe(r),o=s.ka.get(e),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(f=>!ch(f,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await am(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&jm(s.remoteStore,o.targetId),um(s,o.targetId)}).catch(sh)):(um(s,o.targetId),await am(s.localStore,o.targetId,!0))}async function LD(r,e){const n=Pe(r),s=n.ka.get(e),o=n.qa.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),jm(n.remoteStore,s.targetId))}async function G0(r,e){const n=Pe(r);try{const s=await eD(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Ka.get(u);f&&(tt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Ba=!0:o.modifiedDocuments.size>0?tt(f.Ba):o.removedDocuments.size>0&&(tt(f.Ba),f.Ba=!1))}),await Q0(n,s,e)}catch(s){await sh(s)}}function Ov(r,e,n){const s=Pe(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.ka.forEach((u,f)=>{const m=f.view.sa(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const g=Pe(f);g.onlineState=m;let y=!1;g.queries.forEach((T,R)=>{for(const D of R.ta)D.sa(m)&&(y=!0)}),y&&Ym(g)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function PD(r,e,n){const s=Pe(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Ka.get(e),u=o&&o.key;if(u){let f=new ht(ve.comparator);f=f.insert(u,Kt.newNoDocument(u,Te.min()));const m=Ue().add(u),g=new mh(Te.min(),new Map,new ht(Le),f,m);await G0(s,g),s.$a=s.$a.remove(u),s.Ka.delete(e),Xm(s)}else await am(s.localStore,e,!1).then(()=>um(s,e,n)).catch(sh)}function um(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.qa.get(e))r.ka.delete(s),n&&r.La.Ja(s,n);r.qa.delete(e),r.isPrimaryClient&&r.Ua.Sr(e).forEach(s=>{r.Ua.containsKey(s)||K0(r,s)})}function K0(r,e){r.Qa.delete(e.path.canonicalString());const n=r.$a.get(e);n!==null&&(jm(r.remoteStore,n),r.$a=r.$a.remove(e),r.Ka.delete(n),Xm(r))}function Nv(r,e,n){for(const s of n)s instanceof q0?(r.Ua.addReference(s.key,e),UD(r,s)):s instanceof j0?(ae($m,"Document no longer in limbo: "+s.key),r.Ua.removeReference(s.key,e),r.Ua.containsKey(s.key)||K0(r,s.key)):Ae()}function UD(r,e){const n=e.key,s=n.path.canonicalString();r.$a.get(n)||r.Qa.has(s)||(ae($m,"New document in limbo: "+n),r.Qa.add(s),Xm(r))}function Xm(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const n=new ve(ot.fromString(e)),s=r.za.next();r.Ka.set(s,new OD(n)),r.$a=r.$a.insert(n,s),U0(r.remoteStore,new Ur(si(d0(n.path)),s,"TargetPurposeLimboResolution",ah.ae))}}async function Q0(r,e,n){const s=Pe(r),o=[],u=[],f=[];s.ka.isEmpty()||(s.ka.forEach((m,g)=>{f.push(s.Ha(g,e,n).then(y=>{var T;if((y||n)&&s.isPrimaryClient){const R=y?!y.fromCache:(T=n==null?void 0:n.targetChanges.get(g.targetId))===null||T===void 0?void 0:T.current;s.sharedClientState.updateQueryState(g.targetId,R?"current":"not-current")}if(y){o.push(y);const R=Hm.Yi(g.targetId,y);u.push(R)}}))}),await Promise.all(f),s.La.p_(o),await async function(g,y){const T=Pe(g);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",R=>Y.forEach(y,D=>Y.forEach(D.Hi,L=>T.persistence.referenceDelegate.addReference(R,D.targetId,L)).next(()=>Y.forEach(D.Ji,L=>T.persistence.referenceDelegate.removeReference(R,D.targetId,L)))))}catch(R){if(!ro(R))throw R;ae(qm,"Failed to update sequence numbers: "+R)}for(const R of y){const D=R.targetId;if(!R.fromCache){const L=T.Ts.get(D),B=L.snapshotVersion,Z=L.withLastLimboFreeSnapshotVersion(B);T.Ts=T.Ts.insert(D,Z)}}}(s.localStore,u))}async function zD(r,e){const n=Pe(r);if(!n.currentUser.isEqual(e)){ae($m,"User change. New user:",e.toKey());const s=await x0(n.localStore,e);n.currentUser=e,function(u,f){u.Ga.forEach(m=>{m.forEach(g=>{g.reject(new ge(ne.CANCELLED,f))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Q0(n,s.Rs)}}function BD(r,e){const n=Pe(r),s=n.Ka.get(e);if(s&&s.Ba)return Ue().add(s.key);{let o=Ue();const u=n.qa.get(e);if(!u)return o;for(const f of u){const m=n.ka.get(f);o=o.unionWith(m.view.ba)}return o}}function Y0(r){const e=Pe(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=G0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=BD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=PD.bind(null,e),e.La.p_=wD.bind(null,e.eventManager),e.La.Ja=RD.bind(null,e.eventManager),e}class Zc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=L0(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return JI(this.persistence,new XI,e.initialUser,this.serializer)}Xa(e){return new V0(Bm.ri,this.serializer)}Za(e){return new rD}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Zc.provider={build:()=>new Zc};class HD extends Zc{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){tt(this.persistence.referenceDelegate instanceof Xc);const s=this.persistence.referenceDelegate.garbageCollector;return new kI(s,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?sn.withCacheSize(this.cacheSizeBytes):sn.DEFAULT;return new V0(s=>Xc.ri(s,n),this.serializer)}}class cm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Ov(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=zD.bind(null,this.syncEngine),await ED(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new SD}()}createDatastore(e){const n=L0(e.databaseInfo.databaseId),s=function(u){return new uD(u)}(e.databaseInfo);return function(u,f,m,g){return new dD(u,f,m,g)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,m){return new pD(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>Ov(this.syncEngine,n,0),function(){return Av.D()?new Av:new sD}())}createSyncEngine(e,n){return function(o,u,f,m,g,y,T){const R=new ND(o,u,f,m,g,y);return T&&(R.ja=!0),R}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Pe(o);ae(Za,"RemoteStore shutting down."),u.W_.add(5),await Yl(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}cm.provider={build:()=>new cm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Fi("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $r="FirestoreClient";class jD{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Gt.UNAUTHENTICATED,this.clientId=mC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{ae($r,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(ae($r,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ns;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=H0(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Ld(r,e){r.asyncQueue.verifyOperationInProgress(),ae($r,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await x0(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function Mv(r,e){r.asyncQueue.verifyOperationInProgress();const n=await FD(r);ae($r,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(s=>Rv(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>Rv(e.remoteStore,o)),r._onlineComponents=e}async function FD(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ae($r,"Using user provided OfflineComponentProvider");try{await Ld(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===ne.FAILED_PRECONDITION||o.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Ka("Error using user provided cache. Falling back to memory cache: "+n),await Ld(r,new Zc)}}else ae($r,"Using default OfflineComponentProvider"),await Ld(r,new HD(void 0));return r._offlineComponents}async function GD(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ae($r,"Using user provided OnlineComponentProvider"),await Mv(r,r._uninitializedComponentsProvider._online)):(ae($r,"Using default OnlineComponentProvider"),await Mv(r,new cm))),r._onlineComponents}async function KD(r){const e=await GD(r),n=e.eventManager;return n.onListen=MD.bind(null,e.syncEngine),n.onUnlisten=kD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=VD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=LD.bind(null,e.syncEngine),n}function QD(r,e,n={}){const s=new Ns;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,g,y){const T=new qD({next:D=>{T.su(),f.enqueueAndForget(()=>bD(u,R)),D.fromCache&&g.source==="server"?y.reject(new ge(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(D)},error:D=>y.reject(D)}),R=new CD(m,T,{includeMetadataChanges:!0,Ta:!0});return AD(u,R)}(await KD(r),r.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $0(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv=new Map;function YD(r,e,n,s){if(e===!0&&s===!0)throw new ge(ne.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function xv(r){if(ve.isDocumentKey(r))throw new ge(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function $D(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ae()}function hm(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ge(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=$D(r);throw new ge(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0="firestore.googleapis.com",kv=!0;class Lv{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ge(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=X0,this.ssl=kv}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:kv;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=M0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<VI)throw new ge(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}YD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$0((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ge(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ge(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ge(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zm{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Lv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Lv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new oC;switch(s.type){case"firstParty":return new hC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ge(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Vv.get(n);s&&(ae("ComponentProvider","Removing Datastore"),Vv.delete(n),s.terminate())}(this),Promise.resolve()}}function XD(r,e,n,s={}){var o;const u=(r=hm(r,Zm))._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:r._getEmulatorOptions()}),m=`${e}:${n}`;u.host!==X0&&u.host!==m&&Ka("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},u),{host:m,ssl:!1,emulatorOptions:s});if(!Vs(g,f)&&(r._setSettings(g),s.mockUserToken)){let y,T;if(typeof s.mockUserToken=="string")y=s.mockUserToken,T=Gt.MOCK_USER;else{y=Eb(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const R=s.mockUserToken.sub||s.mockUserToken.user_id;if(!R)throw new ge(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Gt(R)}r._authCredentials=new lC(new e0(y,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new gh(this.firestore,e,this._query)}}class ao{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ja(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ao(this.firestore,e,this._key)}}class ja extends gh{constructor(e,n,s){super(e,n,d0(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ao(this.firestore,null,new ve(e))}withConverter(e){return new ja(this.firestore,e,this._path)}}function ZD(r,e,...n){if(r=Qi(r),r instanceof Zm){const s=ot.fromString(e,...n);return xv(s),new ja(r,null,s)}{if(!(r instanceof ao||r instanceof ja))throw new ge(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ot.fromString(e,...n));return xv(s),new ja(r.firestore,null,s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv="AsyncQueue";class Uv{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new P0(this,"async_queue_retry"),this.bu=()=>{const s=kd();s&&ae(Pv,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.Su=e;const n=kd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=kd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Ns;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!ro(e))throw e;ae(Pv,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.Su.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(s);throw Fi("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.Su=n,n}enqueueAfterDelay(e,n,s){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const o=Qm.createAndSchedule(this,e,n,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&Ae()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class Z0 extends Zm{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new Uv,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Uv(e),this._firestoreClient=void 0,await e}}}function WD(r,e){const n=cE(),s=Gc,o=Tm(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=_b("firestore");u&&XD(o,...u)}return o}function JD(r){if(r._terminated)throw new ge(ne.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||e2(r),r._firestoreClient}function e2(r){var e,n,s;const o=r._freezeSettings(),u=function(m,g,y,T){return new CC(m,g,y,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,$0(T.experimentalLongPollingOptions),T.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new jD(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const g=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(g),_online:g}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wc(Bt.fromBase64String(e))}catch(n){throw new ge(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Wc(Bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ge(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ge(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ge(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}const i2=new RegExp("[~\\*/\\[\\]]");function r2(r,e,n){if(e.search(i2)>=0)throw zv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r);try{return new W0(...e.split("."))._internalPath}catch{throw zv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r)}}function zv(r,e,n,s,o){let u=`Function ${e}() called with invalid data`;u+=". ";let f="";return new ge(ne.INVALID_ARGUMENT,u+r+f)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new ao(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new s2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(eT("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class s2 extends J0{data(){return super.data()}}function eT(r,e){return typeof e=="string"?r2(r,e):e instanceof W0?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a2(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ge(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class o2{convertValue(e,n="none"){switch(Qr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Kr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Kl(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[Xd].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>ct(f.doubleValue));return new n2(u)}convertGeoPoint(e){return new t2(ct(e.latitude),ct(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=lh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Vl(e));default:return null}}convertTimestamp(e){const n=Gr(e);return new an(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=ot.fromString(e);tt(N0(s));const o=new xl(s.get(1),s.get(3)),u=new ve(s.popFirst(5));return o.isEqual(n)||Fi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class l2 extends J0{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Lc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(eT("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Lc extends l2{data(e={}){return super.data(e)}}class u2{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new bc(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Lc(this._firestore,this._userDataWriter,s.key,s,new bc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ge(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const g=new Lc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new bc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const g=new Lc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new bc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,T=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),T=f.indexOf(m.doc.key)),{type:c2(m.type),doc:g,oldIndex:y,newIndex:T}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function c2(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae()}}class h2 extends o2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ao(this.firestore,null,n)}}function f2(r){r=hm(r,gh);const e=hm(r.firestore,Z0),n=JD(e),s=new h2(e);return a2(r._query),QD(n,r._query).then(o=>new u2(e,s,r,o))}(function(e,n=!0){(function(o){io=o})(to),Fa(new xs("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Z0(new uC(s.getProvider("auth-internal")),new fC(f,s.getProvider("app-check-internal")),function(y,T){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ge(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xl(y.options.projectId,T)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Hr(G_,K_,e),Hr(G_,K_,"esm2017")})();const d2={apiKey:"AIzaSyCrMcT1Ihq_4XJWOWi2baX_QTiI0L2iP3Q",authDomain:"login-8cd60.firebaseapp.com",projectId:"login-8cd60",storageBucket:"login-8cd60.firebasestorage.app",messagingSenderId:"415996504760",appId:"1:415996504760:web:f0e9e155bd122db1a0224d"};uE(d2);const yh=sC(),m2=WD(),p2="_container_1r9n6_3",g2={container:p2};function Il(r){return le.jsxs("div",{className:g2.container,children:[r.label&&le.jsx("label",{children:r.label}),le.jsx("input",{type:"text",...r})]})}function y2(){const r=mm(),[e,n]=K.useState({email:"",pass:""}),[s,o]=K.useState(""),[u,f]=K.useState(!1),m=()=>{if(!e.email||!e.pass){o("datos incompletos");return}o(""),f(!0),FR(yh,e.email,e.pass).then(async g=>{f(!1),r("/home")}).catch(g=>{f(!1),o(g.message)})};return le.jsx("div",{className:Na.container,children:le.jsxs("div",{className:Na.innerBox,children:[le.jsx("h1",{className:Na.heading,children:"Login"}),le.jsx(Il,{label:"Email",onChange:g=>n(y=>({...y,email:g.target.value})),placeholder:"ingrese su correo"}),le.jsx(Il,{label:"contrasea",onChange:g=>n(y=>({...y,pass:g.target.value})),placeholder:"ingrese su contrasea"}),le.jsxs("div",{className:Na.footer,children:[le.jsx("b",{className:Na.error,children:s}),le.jsx("button",{className:Na.button,onClick:m,disabled:u,children:"iniciar"}),le.jsxs("p",{children:[" crear cuenta",le.jsx("span",{children:le.jsx(zl,{to:"/signup",children:" Registrar "})})]})]})]})})}const _2="_container_165zj_1",v2="_welcomeMessage_165zj_83",E2="_button_165zj_105",T2="_header_165zj_145",S2="_table_container_165zj_157",yl={container:_2,welcomeMessage:v2,button:E2,header:T2,table_container:S2};function A2(r){function e(){return yh.signOut()}const[n,s]=K.useState([]);return K.useEffect(()=>{const o=ZD(m2,"Inventario");f2(o).then(u=>{s(u.docs.map(f=>({...f.data(),id:f.id})))})},[]),le.jsxs("div",{className:yl.container,children:[le.jsxs("div",{className:yl.header,children:[le.jsx("h2",{className:yl.welcomeMessage,children:r.name?`Bienvenido - ${r.name}`:"Inicie Sesin"}),le.jsx(zl,{to:"/",children:le.jsx("button",{className:yl.button,onClick:e,children:"Salir"})})]}),le.jsxs("div",{className:yl.table_container,children:[le.jsx("h2",{children:"Inventario"}),le.jsxs("table",{border:"1",children:[le.jsx("thead",{children:le.jsxs("tr",{children:[le.jsx("th",{children:"Nombre"}),le.jsx("th",{children:"Categora"}),le.jsx("th",{children:"Precio Compra"}),le.jsx("th",{children:"Precio Venta"}),le.jsx("th",{children:"Stock"})]})}),le.jsx("tbody",{children:n.map(o=>le.jsxs("tr",{children:[le.jsx("td",{children:o.Nombre}),le.jsx("td",{children:o.Categora}),le.jsxs("td",{children:["$",o.Precio_Compra.toFixed(2)]}),le.jsxs("td",{children:["$",o.Precio_Venta.toFixed(2)]}),le.jsx("td",{children:o.Stock})]},o.id))})]})]})]})}const b2="_container_1o9es_3",w2="_innerBox_1o9es_21",R2="_heading_1o9es_41",C2="_footer_1o9es_57",I2="_error_1o9es_65",D2="_button_1o9es_77",Ma={container:b2,innerBox:w2,heading:R2,footer:C2,error:I2,button:D2};function O2(){const r=mm(),[e,n]=K.useState({name:"",email:"",pass:""}),[s,o]=K.useState([]),[u,f]=K.useState(!1),m=()=>{if(!e.name||!e.email||!e.pass){o(["Por favor, complete todos los campos"]);return}o(""),f(!0),jR(yh,e.email,e.pass).then(async g=>{f(!1);const y=g.user;await KR(y,{displayName:e.name}),r("/home")}).catch(g=>{f(!1),o(g.message)})};return le.jsx("div",{className:Ma.container,children:le.jsxs("div",{className:Ma.innerBox,children:[le.jsx("h1",{className:Ma.heading,children:"Registro"}),le.jsx(Il,{label:"Nombre",placeholder:"ingrese un nombre",onChange:g=>n(y=>({...y,name:g.target.value}))}),le.jsx(Il,{label:"email",placeholder:"ingrese un email",onChange:g=>n(y=>({...y,email:g.target.value}))}),le.jsx(Il,{label:"contrasea",placeholder:"ingrese un contrasea",onChange:g=>n(y=>({...y,pass:g.target.value}))}),le.jsxs("div",{className:Ma.footer,children:[le.jsx("b",{className:Ma.error,children:s}),le.jsx("button",{className:Ma.button,onClick:m,disabled:u,children:"Guardar"}),le.jsxs("p",{children:["Si ya tienes una cuenta ",le.jsx("span",{children:le.jsx(zl,{to:"/",children:"Inicia sesin"})})]})]})]})})}function N2(){const[r,e]=K.useState([]);return K.useEffect(()=>{yh.onAuthStateChanged(n=>{e(n?n.displayName:"")})},[]),le.jsx(YA,{basename:"/Login_firebase/",children:le.jsxs(bA,{children:[le.jsx(wc,{exact:!0,path:"/",element:le.jsx(y2,{})}),le.jsx(wc,{exact:!0,path:"/home",element:le.jsx(A2,{name:r})}),le.jsx(wc,{exact:!0,path:"/signup",element:le.jsx(O2,{})})]})})}function M2(){return le.jsx(le.Fragment,{children:le.jsx(N2,{})})}xS.createRoot(document.getElementById("root")).render(le.jsx(K.StrictMode,{children:le.jsx(M2,{})}));
